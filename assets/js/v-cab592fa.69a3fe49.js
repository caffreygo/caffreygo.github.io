"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[5759],{7835:(s,n,a)=>{a.r(n),a.d(n,{data:()=>t});const t={key:"v-cab592fa",path:"/mysql/multiple.html",title:"å¤šè¡¨æ”»ç•¥",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"è¡¨å…³è”",slug:"è¡¨å…³è”",children:[{level:3,title:"ä¸€å¯¹ä¸€",slug:"ä¸€å¯¹ä¸€",children:[]},{level:3,title:"ä¸€å¯¹å¤š",slug:"ä¸€å¯¹å¤š",children:[]},{level:3,title:"å¤šå¯¹å¤š",slug:"å¤šå¯¹å¤š",children:[]}]},{level:2,title:"ç¬›å¡å°”ç§¯",slug:"ç¬›å¡å°”ç§¯",children:[]},{level:2,title:"INNER JOIN",slug:"inner-join",children:[{level:3,title:"æ‰€æœ‰ç”¨æˆ·çš„èµ„æ–™",slug:"æ‰€æœ‰ç”¨æˆ·çš„èµ„æ–™",children:[]},{level:3,title:"ä¸€ç­çš„æ‰€æœ‰åŒå­¦",slug:"ä¸€ç­çš„æ‰€æœ‰åŒå­¦",children:[]},{level:3,title:"æ¯ä¸ªç­çº§æ–‡ç« æ•°é‡",slug:"æ¯ä¸ªç­çº§æ–‡ç« æ•°é‡",children:[]},{level:3,title:"ä¸€ç­å¥³ç”Ÿå‘è¡¨çš„æ–‡ç« ",slug:"ä¸€ç­å¥³ç”Ÿå‘è¡¨çš„æ–‡ç« ",children:[]},{level:3,title:"ç­çº§æ–‡ç« å‘è¡¨æ€»æ•°",slug:"ç­çº§æ–‡ç« å‘è¡¨æ€»æ•°",children:[]},{level:3,title:"æ–‡ç« è¶…è¿‡ä¸¤ç¯‡çš„ç­çº§",slug:"æ–‡ç« è¶…è¿‡ä¸¤ç¯‡çš„ç­çº§",children:[]},{level:3,title:"ç­çº§æ–‡ç« çš„ æ€»ç‚¹å‡»æ•°ä¸å¹³å‡ç‚¹å‡»æ•°",slug:"ç­çº§æ–‡ç« çš„-æ€»ç‚¹å‡»æ•°ä¸å¹³å‡ç‚¹å‡»æ•°",children:[]},{level:3,title:"æ¯ä¸ªç­çº§æœ‰å¤šå°‘åŒå­¦",slug:"æ¯ä¸ªç­çº§æœ‰å¤šå°‘åŒå­¦",children:[]},{level:3,title:"å­¦ç”Ÿäººæ•°å¤§äº2çš„ç­çº§",slug:"å­¦ç”Ÿäººæ•°å¤§äº2çš„ç­çº§",children:[]}]},{level:2,title:"OUTER JOIN",slug:"outer-join",children:[{level:3,title:"-----INNER JOIN------",slug:"inner-join-1",children:[]},{level:3,title:"æ²¡è®¾ç½®QQçš„ç”¨æˆ·",slug:"æ²¡è®¾ç½®qqçš„ç”¨æˆ·",children:[]},{level:3,title:"æ²¡å‘è¡¨æ–‡ç« çš„åŒå­¦",slug:"æ²¡å‘è¡¨æ–‡ç« çš„åŒå­¦",children:[]},{level:3,title:"------RIGHT JOIN------",slug:"right-join",children:[]},{level:3,title:"å“ªä¸ªç­çº§æ²¡æœ‰å­¦ç”Ÿ",slug:"å“ªä¸ªç­çº§æ²¡æœ‰å­¦ç”Ÿ",children:[]},{level:3,title:"æŸ¥æ‰¾å­¦ç”Ÿæ‰€åœ¨ç­çº§ï¼Œæ²¡æœ‰ç­çº§çš„å­¦ç”Ÿæ˜¾ç¤ºæ— ",slug:"æŸ¥æ‰¾å­¦ç”Ÿæ‰€åœ¨ç­çº§-æ²¡æœ‰ç­çº§çš„å­¦ç”Ÿæ˜¾ç¤ºæ— ",children:[]}]},{level:2,title:"SELF JOIN",slug:"self-join",children:[{level:3,title:"æŸ¥æ‰¾å°æ˜çš„åŒç­åŒå­¦",slug:"æŸ¥æ‰¾å°æ˜çš„åŒç­åŒå­¦",children:[]},{level:3,title:"æŸ¥æ‰¾ä¸åˆ˜é›·åŒå¹´å‡ºç”Ÿçš„åŒå­¦",slug:"æŸ¥æ‰¾ä¸åˆ˜é›·åŒå¹´å‡ºç”Ÿçš„åŒå­¦",children:[]},{level:3,title:"æŸ¥æ‰¾æ¯”åˆ˜é›·å¤§çš„åŒå­¦",slug:"æŸ¥æ‰¾æ¯”åˆ˜é›·å¤§çš„åŒå­¦",children:[]}]},{level:2,title:"å¤šå¯¹å¤š",slug:"å¤šå¯¹å¤š-1",children:[{level:3,title:"æŸ¥æ‰¾å°æ˜å­¦ä¹ çš„è¯¾ç¨‹",slug:"æŸ¥æ‰¾å°æ˜å­¦ä¹ çš„è¯¾ç¨‹",children:[]},{level:3,title:"å“ªä¸ªç­çº§çš„åŒå­¦æœ€çˆ±å­¦ä¹ MYSQL",slug:"å“ªä¸ªç­çº§çš„åŒå­¦æœ€çˆ±å­¦ä¹ mysql",children:[]}]},{level:2,title:"UNION",slug:"union",children:[{level:3,title:"å¹´é¾„æœ€å¤§ä¸æœ€å°çš„åŒå­¦",slug:"å¹´é¾„æœ€å¤§ä¸æœ€å°çš„åŒå­¦",children:[]},{level:3,title:"ç»„æˆåŠ¨æ€æ•°æ®",slug:"ç»„æˆåŠ¨æ€æ•°æ®",children:[]}]},{level:2,title:"å¤šè¡¨åˆ é™¤",slug:"å¤šè¡¨åˆ é™¤",children:[{level:3,title:"åˆ é™¤æ‰€æœ‰æ²¡æœ‰å­¦ä¹ ä»»ä½•è¯¾ç¨‹çš„åŒå­¦",slug:"åˆ é™¤æ‰€æœ‰æ²¡æœ‰å­¦ä¹ ä»»ä½•è¯¾ç¨‹çš„åŒå­¦",children:[]}]}],filePathRelative:"mysql/multiple.md",git:{updatedTime:1684908616e3,contributors:[{name:"Jerry Chen",email:"caffreygo@163.com",commits:2},{name:"Jinrui",email:"jerry.chenj@outlook.com",commits:1},{name:"Jinrui Chen",email:"jinrui@kooboo.cn",commits:1}]}}},9206:(s,n,a)=>{a.r(n),a.d(n,{default:()=>e});const t=(0,a(6252).uE)('<h1 id="å¤šè¡¨æ”»ç•¥" tabindex="-1"><a class="header-anchor" href="#å¤šè¡¨æ”»ç•¥" aria-hidden="true">#</a> å¤šè¡¨æ”»ç•¥</h1><p>ğŸ”– å½“éœ€è¦ä»å¤šå¼ è¡¨ä¸­è·å¾—æ•°æ®ï¼Œæˆ–è€…é€šè¿‡å…¶ä»–è¡¨çš„æ•°æ®åˆ é™¤æŸä¸ªè¡¨çš„è®°å½•ç­‰æ“ä½œï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å¤šè¡¨æ“ä½œã€‚</p><h2 id="è¡¨å…³è”" tabindex="-1"><a class="header-anchor" href="#è¡¨å…³è”" aria-hidden="true">#</a> è¡¨å…³è”</h2><h3 id="ä¸€å¯¹ä¸€" tabindex="-1"><a class="header-anchor" href="#ä¸€å¯¹ä¸€" aria-hidden="true">#</a> ä¸€å¯¹ä¸€</h3><p>æ¯”å¦‚è¯´ä¼šå‘˜è¡¨ä¸ä¸ªäººèµ„æ–™ï¼ˆQQï¼Œé‚®ç®±ï¼‰è¡¨å³ä¸ºä¸€å¯¹ä¸€å…³ç³»ã€‚</p><h3 id="ä¸€å¯¹å¤š" tabindex="-1"><a class="header-anchor" href="#ä¸€å¯¹å¤š" aria-hidden="true">#</a> ä¸€å¯¹å¤š</h3><p>æ¯”å¦‚å­¦ç”Ÿä¸ç­çº§è¡¨é—´å³ä¸ºä¸€å¯¹å¤šå…³ç³»ï¼Œä¸€ä¸ªç­çº§æœ‰å¤šä¸ªå­¦ç”Ÿï¼Œä¸€ä¸ªå­¦ç”Ÿå±äºä¸€ä¸ªç­çº§ã€‚</p><h3 id="å¤šå¯¹å¤š" tabindex="-1"><a class="header-anchor" href="#å¤šå¯¹å¤š" aria-hidden="true">#</a> å¤šå¯¹å¤š</h3><p>ç²‰ä¸è¡¨ä¸ç”¨æˆ·è¡¨å…³ç³»ï¼Œä¸€ä¸ªç²‰ä¸å¯ä»¥å…³æ³¨å¤šä¸ªç”¨æˆ·ï¼Œä¸€ä¸ªç”¨æˆ·ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªç²‰ä¸ã€‚åƒè¿™ç§å…³ç³»æˆ‘ä»¬ä¼šä½¿ç”¨ä¸€å¼ <strong>ä¸­é—´è¡¨</strong>æ¥è®°å½•å…³ç³»ã€‚</p><h2 id="ç¬›å¡å°”ç§¯" tabindex="-1"><a class="header-anchor" href="#ç¬›å¡å°”ç§¯" aria-hidden="true">#</a> ç¬›å¡å°”ç§¯</h2><p>ğŸ”– å¤šä¸ªè¡¨çš„è¿æ¥å°†ä¼šå¾—åˆ°æ‰€æœ‰å¯èƒ½å‡ºç°çš„è¡Œï¼Œå³æ²¡æœ‰æ˜ç¡®åšä¸¤ä¸ªè¡¨é—´çš„å…³è”æ¡ä»¶æ—¶ï¼Œæ‰€æœ‰è®°å½•éƒ½å°†ç¬¦åˆã€‚</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token punctuation">,</span>class<span class="token punctuation">;</span>   <span class="token comment"># table1.length * table2.length</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>ä¸‹é¢æ˜¯æ·»åŠ æ¡ä»¶åçš„ç»“æœ</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># stuè¡¨å¸¦class_id ä¸ classè¡¨çš„idåŒ¹é…</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token punctuation">,</span>class <span class="token keyword">WHERE</span> stu<span class="token punctuation">.</span>class_id <span class="token operator">=</span> class<span class="token punctuation">.</span>id<span class="token punctuation">;</span>\n<span class="token comment"># æˆ–</span>\n<span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>sname<span class="token punctuation">,</span>s<span class="token punctuation">.</span>sex <span class="token punctuation">,</span>c<span class="token punctuation">.</span>cname\n<span class="token keyword">FROM</span> stu <span class="token keyword">as</span> s <span class="token punctuation">,</span>class <span class="token keyword">as</span> c\n<span class="token keyword">WHERE</span> s<span class="token punctuation">.</span>class_id <span class="token operator">=</span> c<span class="token punctuation">.</span>id\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="inner-join" tabindex="-1"><a class="header-anchor" href="#inner-join" aria-hidden="true">#</a> INNER JOIN</h2><p>ğŸ”– æ‰€æœ‰å¤šè¡¨æ“ä½œéƒ½å¯ä»¥ç®€å•ç†è§£ä¸ºï¼ŒæŠŠå¤šä¸ªè¡¨è”ç³»æˆä¸€ä¸ªè¡¨ï¼Œæœ€ç»ˆå½“æˆä¸€ä¸ªè¡¨å¯¹å¾…ã€‚</p><div class="custom-container tip"><p class="custom-container-title">æ€è·¯</p><ol><li>å…ˆç¡®å®šè¿‡ç¨‹æ¶‰åŠåˆ°å“ªå‡ å¼ è¡¨</li><li>å°†å¤šè¡¨è”åˆæˆä¸€ä¸ªè¡¨å¯¹å¾… inner join ... on</li><li>æœ€åè¿›è¡Œæˆ‘ä»¬éœ€è¦çš„æŸ¥è¯¢æ±‡æ€»</li></ol></div><h3 id="æ‰€æœ‰ç”¨æˆ·çš„èµ„æ–™" tabindex="-1"><a class="header-anchor" href="#æ‰€æœ‰ç”¨æˆ·çš„èµ„æ–™" aria-hidden="true">#</a> æ‰€æœ‰ç”¨æˆ·çš„èµ„æ–™</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">as</span> s\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> user_info <span class="token keyword">as</span> i\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> i<span class="token punctuation">.</span>stu_id<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ä½¿ç”¨<code>INNER JOIN</code> ä½¿ç”¨å¤šè¡¨å…³è”çš„è¯­ä¹‰æ›´æ¸…æ™°</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> class\n<span class="token keyword">ON</span> stu<span class="token punctuation">.</span>class_id <span class="token operator">=</span> class<span class="token punctuation">.</span>id<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="ä¸€ç­çš„æ‰€æœ‰åŒå­¦" tabindex="-1"><a class="header-anchor" href="#ä¸€ç­çš„æ‰€æœ‰åŒå­¦" aria-hidden="true">#</a> ä¸€ç­çš„æ‰€æœ‰åŒå­¦</h3><blockquote><p>ç­çº§ + åŒå­¦</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> class\n<span class="token keyword">ON</span> stu<span class="token punctuation">.</span>class_id <span class="token operator">=</span> class<span class="token punctuation">.</span>id\n<span class="token keyword">WHERE</span> class<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ğŸ’« ä¸ºäº†æ€§èƒ½å’Œå¤šè¡¨å­—æ®µé‡åè¦†ç›–çš„é—®é¢˜ï¼Œæœ‰å¿…è¦åœ¨æŸ¥è¯¢æ—¶æ˜ç¡®è·å–çš„åˆ—</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> sname<span class="token punctuation">,</span>class_id<span class="token punctuation">,</span>stu<span class="token punctuation">.</span>id <span class="token keyword">as</span> stu_id<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>cname <span class="token keyword">FROM</span> stu\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> class <span class="token keyword">ON</span> stu<span class="token punctuation">.</span>class_id <span class="token operator">=</span> class<span class="token punctuation">.</span>id\n<span class="token keyword">WHERE</span> class<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>\n  <span class="token property">&quot;sname&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;æå¹¿&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;class_id&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;stu_id&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;sex&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ç”·&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;cname&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;å¹¼å„¿å›­&quot;</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="æ¯ä¸ªç­çº§æ–‡ç« æ•°é‡" tabindex="-1"><a class="header-anchor" href="#æ¯ä¸ªç­çº§æ–‡ç« æ•°é‡" aria-hidden="true">#</a> æ¯ä¸ªç­çº§æ–‡ç« æ•°é‡</h3><blockquote><p>ç­çº§ + å­¦ç”Ÿ + æ–‡ç« </p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> c<span class="token punctuation">.</span>id <span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> stu <span class="token keyword">as</span> s \n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> class <span class="token keyword">as</span> c\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> article <span class="token keyword">as</span> a\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>class_id <span class="token operator">=</span> c<span class="token punctuation">.</span>id <span class="token operator">AND</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> a<span class="token punctuation">.</span>stu_id\n<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> c<span class="token punctuation">.</span>id<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><table><thead><tr><th>cname</th><th>COUNT(*)</th></tr></thead><tbody><tr><td>å¹¼å„¿å›­</td><td>2</td></tr><tr><td>åˆä¸­</td><td>1</td></tr><tr><td>å°å­¦</td><td>1</td></tr></tbody></table><h3 id="ä¸€ç­å¥³ç”Ÿå‘è¡¨çš„æ–‡ç« " tabindex="-1"><a class="header-anchor" href="#ä¸€ç­å¥³ç”Ÿå‘è¡¨çš„æ–‡ç« " aria-hidden="true">#</a> ä¸€ç­å¥³ç”Ÿå‘è¡¨çš„æ–‡ç« </h3><p>å…ˆè·å–é€šè¿‡è¡¨å…³è”è·å–æ‰€æœ‰æ•°æ®ï¼ˆas å…³é”®å­—æ˜¯å¯ä»¥çœç•¥çš„ï¼‰</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> stu <span class="token keyword">as</span> s\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> class <span class="token keyword">as</span> c\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>class_id <span class="token operator">=</span> c<span class="token punctuation">.</span>id \n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> article <span class="token keyword">as</span> a\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> a<span class="token punctuation">.</span>stu_id<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ğŸ”¥ å¯ä»¥ONåŒæ—¶å¤šä¸ªè¡¨å…³è”é€»è¾‘</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> c<span class="token punctuation">.</span>id<span class="token punctuation">,</span>a<span class="token punctuation">.</span>title <span class="token keyword">FROM</span> stu <span class="token keyword">as</span> s \n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> class <span class="token keyword">as</span> c\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> article <span class="token keyword">as</span> a\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>class_id <span class="token operator">=</span> c<span class="token punctuation">.</span>id <span class="token operator">AND</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> a<span class="token punctuation">.</span>stu_id\n<span class="token keyword">WHERE</span> c<span class="token punctuation">.</span>id<span class="token operator">=</span><span class="token number">1</span> <span class="token operator">AND</span> s<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="ç­çº§æ–‡ç« å‘è¡¨æ€»æ•°" tabindex="-1"><a class="header-anchor" href="#ç­çº§æ–‡ç« å‘è¡¨æ€»æ•°" aria-hidden="true">#</a> ç­çº§æ–‡ç« å‘è¡¨æ€»æ•°</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> article_sum<span class="token punctuation">,</span>c<span class="token punctuation">.</span>id <span class="token keyword">FROM</span> stu <span class="token keyword">as</span> s \n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> class <span class="token keyword">as</span> c\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> article <span class="token keyword">as</span> a\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>class_id <span class="token operator">=</span> c<span class="token punctuation">.</span>id <span class="token operator">AND</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> a<span class="token punctuation">.</span>stu_id\n<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> c<span class="token punctuation">.</span>id<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="æ–‡ç« è¶…è¿‡ä¸¤ç¯‡çš„ç­çº§" tabindex="-1"><a class="header-anchor" href="#æ–‡ç« è¶…è¿‡ä¸¤ç¯‡çš„ç­çº§" aria-hidden="true">#</a> æ–‡ç« è¶…è¿‡ä¸¤ç¯‡çš„ç­çº§</h3><blockquote><p>group byåˆ†ç»„åçš„ç»“æœå†è¿›è¡Œç­›é€‰ï¼Œéœ€è¦ä½¿ç”¨having</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> c<span class="token punctuation">.</span>id<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> total <span class="token keyword">FROM</span> stu <span class="token keyword">as</span> s\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> class <span class="token keyword">as</span> c\n<span class="token keyword">INNER</span> <span class="token keyword">join</span> article <span class="token keyword">as</span> a\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>class_id <span class="token operator">=</span> c<span class="token punctuation">.</span>id <span class="token operator">AND</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> a<span class="token punctuation">.</span>stu_id\n<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> c<span class="token punctuation">.</span>id\n<span class="token keyword">HAVING</span> total <span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="ç­çº§æ–‡ç« çš„-æ€»ç‚¹å‡»æ•°ä¸å¹³å‡ç‚¹å‡»æ•°" tabindex="-1"><a class="header-anchor" href="#ç­çº§æ–‡ç« çš„-æ€»ç‚¹å‡»æ•°ä¸å¹³å‡ç‚¹å‡»æ•°" aria-hidden="true">#</a> ç­çº§æ–‡ç« çš„ æ€»ç‚¹å‡»æ•°ä¸å¹³å‡ç‚¹å‡»æ•°</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>click<span class="token punctuation">)</span> <span class="token keyword">as</span> class_sum<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>click<span class="token punctuation">)</span><span class="token punctuation">,</span>c<span class="token punctuation">.</span>id <span class="token keyword">FROM</span> stu <span class="token keyword">as</span> s \n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> class <span class="token keyword">as</span> c\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> article <span class="token keyword">as</span> a\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>class_id <span class="token operator">=</span> c<span class="token punctuation">.</span>id <span class="token operator">AND</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> a<span class="token punctuation">.</span>stu_id\n<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> c<span class="token punctuation">.</span>id\n<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> class_sum <span class="token keyword">DESC</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>class_sum</th><th>avg(a.click)</th><th>id</th></tr></thead><tbody><tr><td>118</td><td>59.0000</td><td>1</td></tr><tr><td>100</td><td>100.0000</td><td>2</td></tr><tr><td>18</td><td>18.0000</td><td>3</td></tr></tbody></table><h3 id="æ¯ä¸ªç­çº§æœ‰å¤šå°‘åŒå­¦" tabindex="-1"><a class="header-anchor" href="#æ¯ä¸ªç­çº§æœ‰å¤šå°‘åŒå­¦" aria-hidden="true">#</a> æ¯ä¸ªç­çº§æœ‰å¤šå°‘åŒå­¦</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>c<span class="token punctuation">.</span>cname <span class="token keyword">FROM</span> stu <span class="token keyword">as</span> s\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> class <span class="token keyword">as</span> c\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>class_id <span class="token operator">=</span> c<span class="token punctuation">.</span>id\n<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> c<span class="token punctuation">.</span>id<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="å­¦ç”Ÿäººæ•°å¤§äº2çš„ç­çº§" tabindex="-1"><a class="header-anchor" href="#å­¦ç”Ÿäººæ•°å¤§äº2çš„ç­çº§" aria-hidden="true">#</a> å­¦ç”Ÿäººæ•°å¤§äº2çš„ç­çº§</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> total<span class="token punctuation">,</span>c<span class="token punctuation">.</span>cname <span class="token keyword">FROM</span> stu <span class="token keyword">as</span> s <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> class <span class="token keyword">as</span> c\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>class_id <span class="token operator">=</span> c<span class="token punctuation">.</span>id\n<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> c<span class="token punctuation">.</span>cname\n<span class="token keyword">HAVING</span> total<span class="token operator">&gt;=</span><span class="token number">2</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="outer-join" tabindex="-1"><a class="header-anchor" href="#outer-join" aria-hidden="true">#</a> OUTER JOIN</h2><p>å¤–é“¾æ¥åŒ…æ‹¬<code>LEFT JOIN</code> ä¸ <code>RIGHT JOIN</code> ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸º <code>LEFT JOIN</code>ä¼šåŒ…å«å·¦ä¾§æ‰€æœ‰è¡¨è®°å½•ï¼Œ<code>RIGHT JOIN</code> ä¼šåŒ…å«å³ä¾§è¡¨å…¨éƒ¨è®°å½•ã€‚</p><h3 id="inner-join-1" tabindex="-1"><a class="header-anchor" href="#inner-join-1" aria-hidden="true">#</a> -----INNER JOIN------</h3><h3 id="æ²¡è®¾ç½®qqçš„ç”¨æˆ·" tabindex="-1"><a class="header-anchor" href="#æ²¡è®¾ç½®qqçš„ç”¨æˆ·" aria-hidden="true">#</a> æ²¡è®¾ç½®QQçš„ç”¨æˆ·</h3><p>ğŸš¨ ä½¿ç”¨<code>inner join</code>åªèƒ½æ‹¿åˆ°å¯¹åº”è§„åˆ™åŒ¹é…åˆ°çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¿¡æ¯è¡¨é‡Œæœ‰æ•°æ®çš„å­¦ç”Ÿåˆ—è¡¨ï¼š</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">AS</span> s\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> stu_info <span class="token keyword">as</span> i\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> i<span class="token punctuation">.</span>stu_id<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><table><thead><tr><th>id</th><th>sname</th><th>class_id</th><th>birthday</th><th>updated_at</th><th>sex</th><th>id</th><th>email</th><th>qq</th><th>mobile</th><th>stu_id</th></tr></thead><tbody><tr><td>1</td><td>æå¹¿</td><td>1</td><td>1998-02-12 08:22:13</td><td>2019-07-20 14:22:16</td><td>ç”·</td><td>1</td><td>2300071698@qq.com</td><td>2300071698</td><td>999999999</td><td>1</td></tr><tr><td>3</td><td>é’±ä½³</td><td>3</td><td>1989-11-17 10:29:13</td><td>2019-07-17 20:54:14</td><td>ç”·</td><td>2</td><td>good@baidu.com</td><td>9999999</td><td>188888888</td><td>3</td></tr><tr><td>5</td><td>å°æ˜</td><td>2</td><td>2003-09-01 20:33:13</td><td>2019-07-20 16:41:32</td><td>ç”·</td><td>3</td><td>hello@baidu.com</td><td>2222</td><td>1988888888</td><td>5</td></tr></tbody></table><hr><p>âœ… ä½¿ç”¨<code>left join</code>æ¥è·å–åˆ°æ‰€æœ‰å­¦ç”Ÿï¼Œæœ‰ä¿¡æ¯çš„ä¹ŸåŒ…å«åœ¨è¡¨ç»“æœä¸­</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">AS</span> s\n<span class="token keyword">lEFT</span> <span class="token keyword">JOIN</span> stu_info <span class="token keyword">as</span> i\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> i<span class="token punctuation">.</span>stu_id<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><table><thead><tr><th>id</th><th>sname</th><th>class_id</th><th>birthday</th><th>updated_at</th><th>sex</th><th>id</th><th>email</th><th>qq</th><th>mobile</th><th>stu_id</th></tr></thead><tbody><tr><td>1</td><td>æå¹¿</td><td>1</td><td>1998-02-12 08:22:13</td><td>2019-07-20 14:22:16</td><td>ç”·</td><td>1</td><td>2300071698@qq.com</td><td>2300071698</td><td>999999999</td><td>1</td></tr><tr><td>2</td><td>ä½•é’</td><td>1</td><td>1985-07-22 18:19:13</td><td>2019-07-17 21:50:38</td><td>å¥³</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>3</td><td>é’±ä½³</td><td>3</td><td>1989-11-17 10:29:13</td><td>2019-07-17 20:54:14</td><td>ç”·</td><td>2</td><td>good@baidu.com</td><td>9999999</td><td>188888888</td><td>3</td></tr><tr><td>4</td><td>åˆ˜ç‰</td><td>1</td><td>1999-07-03 19:46:13</td><td>2019-07-17 20:54:14</td><td>å¥³</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>5</td><td>å°æ˜</td><td>2</td><td>2003-09-01 20:33:13</td><td>2019-07-20 16:41:32</td><td>ç”·</td><td>3</td><td>hello@baidu.com</td><td>2222</td><td>1988888888</td><td>5</td></tr><tr><td>...</td><td>...</td><td>...</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><hr><p>ğŸš€ æœ€ç»ˆï¼Œè·å–æ²¡æœ‰è®¾ç½®qqä¿¡æ¯çš„ç”¨æˆ·ç»“æœå¦‚ä¸‹ï¼š</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>sname <span class="token keyword">FROM</span> stu <span class="token keyword">AS</span> s\n<span class="token keyword">lEFT</span> <span class="token keyword">JOIN</span> stu_info <span class="token keyword">as</span> i\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> i<span class="token punctuation">.</span>stu_id\n<span class="token keyword">WHERE</span> i<span class="token punctuation">.</span>qq <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="æ²¡å‘è¡¨æ–‡ç« çš„åŒå­¦" tabindex="-1"><a class="header-anchor" href="#æ²¡å‘è¡¨æ–‡ç« çš„åŒå­¦" aria-hidden="true">#</a> æ²¡å‘è¡¨æ–‡ç« çš„åŒå­¦</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>id<span class="token punctuation">,</span>s<span class="token punctuation">.</span>sname <span class="token keyword">FROM</span> stu <span class="token keyword">as</span> s\n<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> article <span class="token keyword">as</span> a \n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> a<span class="token punctuation">.</span>stu_id\n<span class="token keyword">WHERE</span> a<span class="token punctuation">.</span>id <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="right-join" tabindex="-1"><a class="header-anchor" href="#right-join" aria-hidden="true">#</a> ------RIGHT JOIN------</h3><h3 id="å“ªä¸ªç­çº§æ²¡æœ‰å­¦ç”Ÿ" tabindex="-1"><a class="header-anchor" href="#å“ªä¸ªç­çº§æ²¡æœ‰å­¦ç”Ÿ" aria-hidden="true">#</a> å“ªä¸ªç­çº§æ²¡æœ‰å­¦ç”Ÿ</h3><blockquote><p>æ— è®ºclassæœ‰æ²¡æœ‰å­¦ç”Ÿï¼Œéƒ½è¦è·å–åˆ°classä¿¡æ¯</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">AS</span> s\n<span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> class <span class="token keyword">as</span> c\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>class_id <span class="token operator">=</span> c<span class="token punctuation">.</span>id<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><table><thead><tr><th>id</th><th>sname</th><th>class_id</th><th>birthday</th><th>updated_at</th><th>sex</th><th>id</th><th>cname</th><th>description</th></tr></thead><tbody><tr><td>9</td><td>ææœˆ</td><td>1</td><td></td><td>2019-07-18 17:49:03</td><td>å¥³</td><td>1</td><td>å¹¼å„¿å›­</td><td>å­¦ä¹ PHP å¼€å‘ç½‘ç«™</td></tr><tr><td>7</td><td>æé£</td><td>1</td><td>2003-02-15 20:33:13</td><td>2019-07-20 14:30:02</td><td>ç”·</td><td>1</td><td>å¹¼å„¿å›­</td><td>å­¦ä¹ PHP å¼€å‘ç½‘ç«™</td></tr><tr><td>4</td><td>åˆ˜ç‰</td><td>1</td><td>1999-07-03 19:46:13</td><td>2019-07-17 20:54:14</td><td>å¥³</td><td>1</td><td>å¹¼å„¿å›­</td><td>å­¦ä¹ PHP å¼€å‘ç½‘ç«™</td></tr><tr><td>2</td><td>ä½•é’</td><td>1</td><td>1985-07-22 18:19:13</td><td>2019-07-17 21:50:38</td><td>å¥³</td><td>1</td><td>å¹¼å„¿å›­</td><td>å­¦ä¹ PHP å¼€å‘ç½‘ç«™</td></tr><tr><td>1</td><td>æå¹¿</td><td>1</td><td>1998-02-12 08:22:13</td><td>2019-07-20 14:22:16</td><td>ç”·</td><td>1</td><td>å¹¼å„¿å›­</td><td>å­¦ä¹ PHP å¼€å‘ç½‘ç«™</td></tr><tr><td>8</td><td>æå…°</td><td>2</td><td></td><td>2019-07-19 12:50:07</td><td>å¥³</td><td>2</td><td>å°å­¦</td><td>å‰ç«¯å·¥ç¨‹å¸ˆ</td></tr><tr><td>5</td><td>å°æ˜</td><td>2</td><td>2003-09-01 20:33:13</td><td>2019-07-20 16:41:32</td><td>ç”·</td><td>2</td><td>å°å­¦</td><td>å‰ç«¯å·¥ç¨‹å¸ˆ</td></tr><tr><td>6</td><td>å¼ äº‘</td><td>3</td><td>1996-09-01 20:33:13</td><td>2019-07-19 12:59:40</td><td>å¥³</td><td>3</td><td>åˆä¸­</td><td>æœåŠ¡å™¨çŸ¥è¯†PHPå¥½å¸®åŠ©</td></tr><tr><td>3</td><td>é’±ä½³</td><td>3</td><td>1989-11-17 10:29:13</td><td>2019-07-17 20:54:14</td><td>ç”·</td><td>3</td><td>åˆä¸­</td><td>æœåŠ¡å™¨çŸ¥è¯†PHPå¥½å¸®åŠ©</td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td>4</td><td>é«˜ä¸­</td><td>æ•°æ®åº“å­¦ä¹ </td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td>5</td><td>å¤§å­¦</td><td>è¶ŠåŠªåŠ›è¶Šå¹¸è¿</td></tr></tbody></table><hr><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">AS</span> s\n<span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> class <span class="token keyword">as</span> c\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>class_id <span class="token operator">=</span> c<span class="token punctuation">.</span>id\n<span class="token keyword">WHERE</span> s<span class="token punctuation">.</span>id <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="æŸ¥æ‰¾å­¦ç”Ÿæ‰€åœ¨ç­çº§-æ²¡æœ‰ç­çº§çš„å­¦ç”Ÿæ˜¾ç¤ºæ— " tabindex="-1"><a class="header-anchor" href="#æŸ¥æ‰¾å­¦ç”Ÿæ‰€åœ¨ç­çº§-æ²¡æœ‰ç­çº§çš„å­¦ç”Ÿæ˜¾ç¤ºæ— " aria-hidden="true">#</a> æŸ¥æ‰¾å­¦ç”Ÿæ‰€åœ¨ç­çº§ï¼Œæ²¡æœ‰ç­çº§çš„å­¦ç”Ÿæ˜¾ç¤ºæ— </h3><blockquote><p>åå¿ƒå­¦ç”Ÿè¡¨</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> sname<span class="token punctuation">,</span>ifnull<span class="token punctuation">(</span>s<span class="token punctuation">.</span>class_id<span class="token punctuation">,</span><span class="token string">&#39;æ— &#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> stu <span class="token keyword">AS</span> s\n<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> class <span class="token keyword">AS</span> c\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>class_id <span class="token operator">=</span> c<span class="token punctuation">.</span>id<span class="token punctuation">;</span>\n<span class="token comment">#æˆ–</span>\n<span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>sname<span class="token punctuation">,</span><span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>class_id<span class="token punctuation">,</span>c<span class="token punctuation">.</span>cname<span class="token punctuation">,</span><span class="token string">&#39;æ— &#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> cname\n<span class="token keyword">FROM</span> class <span class="token keyword">as</span> c\n<span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> stu <span class="token keyword">as</span> s\n<span class="token keyword">ON</span> c<span class="token punctuation">.</span>id <span class="token operator">=</span> s<span class="token punctuation">.</span>class_id<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="self-join" tabindex="-1"><a class="header-anchor" href="#self-join" aria-hidden="true">#</a> SELF JOIN</h2><p>ğŸ”– <code>SELF JOIN</code>ä¸ºè‡ªè¿æ¥å³è¡¨ä¸è‡ªèº«è¿›è¡Œå…³è”ã€‚è™½ç„¶è‡ªè¿æ¥çš„ä¸¤å¼ è¡¨éƒ½æ˜¯åŒä¸€å¼ è¡¨ï¼Œä½†ä¹ŸæŠŠå®ƒ<strong>æŒ‰ä¸¤å¼ è¡¨å¯¹å¾…</strong>ï¼Œè¿™æ ·ç†è§£å°±ä¼šå®¹æ˜“äº›ã€‚</p><blockquote><p>å­é“¾æ¥çš„æ€§èƒ½æ¯”å­æŸ¥è¯¢è¦å¥½</p></blockquote><h3 id="æŸ¥æ‰¾å°æ˜çš„åŒç­åŒå­¦" tabindex="-1"><a class="header-anchor" href="#æŸ¥æ‰¾å°æ˜çš„åŒç­åŒå­¦" aria-hidden="true">#</a> æŸ¥æ‰¾å°æ˜çš„åŒç­åŒå­¦</h3><p>ä½¿ç”¨å­æŸ¥è¯¢æ“ä½œ</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> class_id <span class="token operator">=</span> \n<span class="token punctuation">(</span><span class="token keyword">SELECT</span> class_id <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> sname <span class="token operator">=</span> <span class="token string">&#39;å°æ˜&#39;</span><span class="token punctuation">)</span>\n<span class="token operator">AND</span> stu<span class="token punctuation">.</span>sname <span class="token operator">!=</span><span class="token string">&#39;å°æ˜&#39;</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ä½¿ç”¨è‡ªè¿æ¥æŸ¥è¯¢</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> s2<span class="token punctuation">.</span>sname <span class="token keyword">FROM</span> stu <span class="token keyword">AS</span> s1\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> stu <span class="token keyword">AS</span> s2\n<span class="token keyword">ON</span> s1<span class="token punctuation">.</span>class_id <span class="token operator">=</span> s2<span class="token punctuation">.</span>class_id\n<span class="token keyword">WHERE</span> s1<span class="token punctuation">.</span>sname <span class="token operator">=</span> <span class="token string">&#39;ææœˆ&#39;</span>\n<span class="token operator">AND</span> s2<span class="token punctuation">.</span>sname <span class="token operator">!=</span> <span class="token string">&#39;ææœˆ&#39;</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>\n  <span class="token property">&quot;sname&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;æå¹¿&quot;</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">{</span>\n  <span class="token property">&quot;sname&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ä½•é’&quot;</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">{</span>\n  <span class="token property">&quot;sname&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;åˆ˜ç‰&quot;</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">{</span>\n  <span class="token property">&quot;sname&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;æé£&quot;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="æŸ¥æ‰¾ä¸åˆ˜é›·åŒå¹´å‡ºç”Ÿçš„åŒå­¦" tabindex="-1"><a class="header-anchor" href="#æŸ¥æ‰¾ä¸åˆ˜é›·åŒå¹´å‡ºç”Ÿçš„åŒå­¦" aria-hidden="true">#</a> æŸ¥æ‰¾ä¸åˆ˜é›·åŒå¹´å‡ºç”Ÿçš„åŒå­¦</h3><ol><li>é¦–å…ˆåœ¨å•è¡¨æŸ¥å†…æ‰¾å‡ºç”Ÿæ—¥ç›¸åŒçš„æ‰€æœ‰åŒ¹é…ä¿¡æ¯ï¼š</li></ol><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">as</span> s1\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> stu <span class="token keyword">as</span> s2\n<span class="token keyword">ON</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>birthday<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span>birthday<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><table><thead><tr><th>id</th><th>sname</th><th>class_id</th><th>birthday</th><th>updated_at</th><th>sex</th><th>id</th><th>sname</th><th>class_id</th><th>birthday</th><th>updated_at</th><th>sex</th></tr></thead><tbody><tr><td>1</td><td>æå¹¿</td><td>1</td><td>1998-02-12 08:22:13</td><td>2019-07-20 14:22:16</td><td>ç”·</td><td>1</td><td>æå¹¿</td><td>1</td><td>1998-02-12 08:22:13</td><td>2019-07-20 14:22:16</td><td>ç”·</td></tr><tr><td>2</td><td>ä½•é’</td><td>1</td><td>1985-07-22 18:19:13</td><td>2019-07-17 21:50:38</td><td>å¥³</td><td>2</td><td>ä½•é’</td><td>1</td><td>1985-07-22 18:19:13</td><td>2019-07-17 21:50:38</td><td>å¥³</td></tr><tr><td>3</td><td>é’±ä½³</td><td>3</td><td>1989-11-17 10:29:13</td><td>2019-07-17 20:54:14</td><td>ç”·</td><td>3</td><td>é’±ä½³</td><td>3</td><td>1989-11-17 10:29:13</td><td>2019-07-17 20:54:14</td><td>ç”·</td></tr><tr><td>4</td><td>åˆ˜ç‰</td><td>1</td><td>1999-07-03 19:46:13</td><td>2019-07-17 20:54:14</td><td>å¥³</td><td>4</td><td>åˆ˜ç‰</td><td>1</td><td>1999-07-03 19:46:13</td><td>2019-07-17 20:54:14</td><td>å¥³</td></tr><tr><td>7</td><td>æé£</td><td>1</td><td>2003-02-15 20:33:13</td><td>2019-07-20 14:30:02</td><td>ç”·</td><td>5</td><td>å¼ äº‘</td><td>2</td><td>2003-09-01 20:33:13</td><td>2019-07-20 16:41:32</td><td>ç”·</td></tr><tr><td>5</td><td>åˆ˜é›·</td><td>2</td><td>2003-09-01 20:33:13</td><td>2019-07-20 16:41:32</td><td>ç”·</td><td>5</td><td>å¼ äº‘</td><td>2</td><td>2003-09-01 20:33:13</td><td>2019-07-20 16:41:32</td><td>ç”·</td></tr><tr><td>...</td><td>...</td><td>...</td><td>...</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><ol start="2"><li>ç„¶åè¿‡æ»¤å‡ºéœ€è¦çš„ä¿¡æ¯</li></ol><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> s2<span class="token punctuation">.</span>sname <span class="token keyword">FROM</span> stu <span class="token keyword">as</span> s1\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> stu <span class="token keyword">as</span> s2\n<span class="token keyword">ON</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>birthday<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span>birthday<span class="token punctuation">)</span>\n<span class="token keyword">WHERE</span> s1<span class="token punctuation">.</span>sname <span class="token operator">=</span> <span class="token string">&#39;åˆ˜é›·&#39;</span> <span class="token operator">AND</span> s2<span class="token punctuation">.</span>sname <span class="token operator">!=</span> <span class="token string">&#39;åˆ˜é›·&#39;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="æŸ¥æ‰¾æ¯”åˆ˜é›·å¤§çš„åŒå­¦" tabindex="-1"><a class="header-anchor" href="#æŸ¥æ‰¾æ¯”åˆ˜é›·å¤§çš„åŒå­¦" aria-hidden="true">#</a> æŸ¥æ‰¾æ¯”åˆ˜é›·å¤§çš„åŒå­¦</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> s2<span class="token punctuation">.</span>sname <span class="token keyword">FROM</span> stu <span class="token keyword">as</span> s1\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> stu <span class="token keyword">as</span> s2\n<span class="token keyword">ON</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>birthday<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span>birthday<span class="token punctuation">)</span>\n<span class="token keyword">WHERE</span> s1<span class="token punctuation">.</span>sname <span class="token operator">=</span> <span class="token string">&#39;åˆ˜é›·&#39;</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="å¤šå¯¹å¤š-1" tabindex="-1"><a class="header-anchor" href="#å¤šå¯¹å¤š-1" aria-hidden="true">#</a> å¤šå¯¹å¤š</h2><p>ğŸ”– æ¯”å¦‚å­¦ç”Ÿå¯ä»¥å­¦ä¹ å¤šä¸ªè¯¾ç¨‹ï¼Œä¸€ä¸ªè¯¾ç¨‹ä¹Ÿå¯ä»¥è¢«å¤šä¸ªå­¦ç”Ÿå­¦ä¹ ï¼Œè¿™ç§æƒ…å†µå°±æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ã€‚éœ€è¦åˆ›å»ºä¸€å¼ <strong>ä¸­é—´è¡¨</strong>æ¥æŠŠè¿™ç§å…³ç³»è”ç³»èµ·æ¥ã€‚</p><h3 id="æŸ¥æ‰¾å°æ˜å­¦ä¹ çš„è¯¾ç¨‹" tabindex="-1"><a class="header-anchor" href="#æŸ¥æ‰¾å°æ˜å­¦ä¹ çš„è¯¾ç¨‹" aria-hidden="true">#</a> æŸ¥æ‰¾å°æ˜å­¦ä¹ çš„è¯¾ç¨‹</h3><ol><li>å…ˆæŠŠä¸‰å¼ è¡¨å…³è”èµ·æ¥ï¼šstu =&gt; stu_lesson =&gt; lesson</li></ol><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">as</span> s\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> stu_lesson <span class="token keyword">as</span> sl\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> sl<span class="token punctuation">.</span>stu_id\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> lesson <span class="token keyword">as</span> l\n<span class="token keyword">ON</span> l<span class="token punctuation">.</span>id <span class="token operator">=</span> sl<span class="token punctuation">.</span>lesson_id<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="2"><li>ç„¶åæ·»åŠ è¿‡æ»¤é€»è¾‘å³å¯</li></ol><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>sname<span class="token punctuation">,</span> l<span class="token punctuation">.</span>name <span class="token keyword">FROM</span> stu <span class="token keyword">as</span> s\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> stu_lesson <span class="token keyword">as</span> sl\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> sl<span class="token punctuation">.</span>stu_id\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> lesson <span class="token keyword">as</span> l\n<span class="token keyword">ON</span> l<span class="token punctuation">.</span>id <span class="token operator">=</span> sl<span class="token punctuation">.</span>lesson_id\n<span class="token keyword">WHERE</span> s<span class="token punctuation">.</span>sname <span class="token operator">=</span> <span class="token string">&#39;æå¹¿&#39;</span>\n\n<span class="token comment"># å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè·å–åˆ°lesson idå³å¯,å‡å°‘è¡¨çš„å…³è”æ€§èƒ½æ›´å¥½</span>\n<span class="token keyword">SELECT</span> sl<span class="token punctuation">.</span>lesson_id <span class="token punctuation">,</span>s<span class="token punctuation">.</span>sname <span class="token keyword">FROM</span> stu <span class="token keyword">as</span> s\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> stu_lesson <span class="token keyword">as</span> sl\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> sl<span class="token punctuation">.</span>stu_id\n<span class="token keyword">WHERE</span> s<span class="token punctuation">.</span>sname <span class="token operator">=</span> <span class="token string">&#39;æå¹¿&#39;</span>\n<span class="token comment">#|lesson_id|sname|</span>\n<span class="token comment">#|---------|-----|</span>\n<span class="token comment">#|2        |æå¹¿  |</span>\n<span class="token comment">#|1        |æå¹¿  |</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="å“ªä¸ªç­çº§çš„åŒå­¦æœ€çˆ±å­¦ä¹ mysql" tabindex="-1"><a class="header-anchor" href="#å“ªä¸ªç­çº§çš„åŒå­¦æœ€çˆ±å­¦ä¹ mysql" aria-hidden="true">#</a> å“ªä¸ªç­çº§çš„åŒå­¦æœ€çˆ±å­¦ä¹ MYSQL</h3><blockquote><p>ç­çº§ + å­¦ç”Ÿ + è¯¾ç¨‹ ï¼Œä¸ºäº†è·å–è¯¾ç¨‹çš„åç§°ã€‚é™¤äº†å­¦ç”Ÿè¯¾ç¨‹å…³è”è¡¨ï¼Œè¿˜éœ€è¦è¯¾ç¨‹è¡¨çš„ä¿¡æ¯</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> class <span class="token keyword">as</span> c\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> stu <span class="token keyword">as</span> s\n<span class="token keyword">ON</span> c<span class="token punctuation">.</span>id <span class="token operator">=</span> s<span class="token punctuation">.</span>class_id \n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> stu_lesson <span class="token keyword">as</span> sl\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> sl<span class="token punctuation">.</span>stu_id\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> lesson <span class="token keyword">as</span> l\n<span class="token keyword">ON</span> l<span class="token punctuation">.</span>id <span class="token operator">=</span> sl<span class="token punctuation">.</span>lesson_id<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ç„¶åæ·»åŠ è¿‡æ»¤æ¡ä»¶ï¼Œæœ€ç»ˆè¿›è¡Œåˆ†ç»„æ’åº</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> c<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> total <span class="token keyword">FROM</span> class <span class="token keyword">as</span> c\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> stu <span class="token keyword">as</span> s\n<span class="token keyword">ON</span> c<span class="token punctuation">.</span>id <span class="token operator">=</span> s<span class="token punctuation">.</span>class_id \n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> stu_lesson <span class="token keyword">as</span> sl\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> sl<span class="token punctuation">.</span>stu_id\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> lesson <span class="token keyword">as</span> l\n<span class="token keyword">ON</span> l<span class="token punctuation">.</span>id <span class="token operator">=</span> sl<span class="token punctuation">.</span>lesson_id\n<span class="token keyword">WHERE</span> l<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;MYSQL&#39;</span>\n<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> c<span class="token punctuation">.</span>id\n<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> total <span class="token keyword">DESC</span>\n<span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">;</span>\n\n<span class="token comment"># |id |total|</span>\n<span class="token comment"># |---|-----|</span>\n<span class="token comment"># |1  |2    |</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="union" tabindex="-1"><a class="header-anchor" href="#union" aria-hidden="true">#</a> UNION</h2><div class="custom-container tip"><p class="custom-container-title">UNIONç”¨äºè¿æ¥å¤šä¸ªæŸ¥è¯¢ç»“æœï¼Œè¦ä¿è¯æ¯ä¸ªæŸ¥è¯¢è¿”å›çš„åˆ—çš„æ•°é‡ä¸é¡ºåºè¦ä¸€æ ·ã€‚</p><ul><li><p>UNIONä¼šè¿‡æ»¤é‡å¤çš„ç»“æœ</p><p><code>SELECT * FROM stu UNION SELECT * FROM stu</code>ä¸å•è¡¨æŸ¥è¯¢ç»“æœç›¸åŒ</p></li><li><p>UNION ALL ä¸è¿‡æ»¤é‡å¤ç»“æœ</p><p><code>SELECT * FROM stu UNION ALL SELECT * FROM stu</code>å•è¡¨é‡å¤</p></li><li><p>åˆ—è¡¨å­—æ®µç”±æ˜¯ç¬¬ä¸€ä¸ªæŸ¥è¯¢çš„å­—æ®µ <code>sname</code></p></li></ul></div><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token punctuation">(</span><span class="token keyword">SELECT</span> sname <span class="token keyword">from</span> stu <span class="token keyword">WHERE</span> sex <span class="token operator">=</span> <span class="token string">&#39;ç”·&#39;</span> <span class="token keyword">limit</span> <span class="token number">2</span><span class="token punctuation">)</span>\n<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>\n<span class="token punctuation">(</span><span class="token keyword">SELECT</span> cname <span class="token keyword">from</span> class <span class="token keyword">limit</span> <span class="token number">3</span><span class="token punctuation">)</span>\n<span class="token comment"># ORDER by rand()</span>\n<span class="token comment"># limit 2;</span>\n\n<span class="token operator">|</span>sname<span class="token operator">|</span>\n<span class="token operator">|</span><span class="token comment">-----|</span>\n<span class="token operator">|</span>æå¹¿   <span class="token operator">|</span>\n<span class="token operator">|</span>ä½•é’   <span class="token operator">|</span>\n<span class="token operator">|</span>å¹¼å„¿å›­  <span class="token operator">|</span>\n<span class="token operator">|</span>å°å­¦   <span class="token operator">|</span>\n<span class="token operator">|</span>åˆä¸­   <span class="token operator">|</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="å¹´é¾„æœ€å¤§ä¸æœ€å°çš„åŒå­¦" tabindex="-1"><a class="header-anchor" href="#å¹´é¾„æœ€å¤§ä¸æœ€å°çš„åŒå­¦" aria-hidden="true">#</a> å¹´é¾„æœ€å¤§ä¸æœ€å°çš„åŒå­¦</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token punctuation">(</span><span class="token keyword">SELECT</span> sname<span class="token punctuation">,</span>birthday <span class="token keyword">FROM</span> stu <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> birthday <span class="token keyword">DESC</span> <span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">)</span>\n<span class="token keyword">UNION</span>\n<span class="token punctuation">(</span><span class="token keyword">SELECT</span> sname<span class="token punctuation">,</span>birthday <span class="token keyword">from</span> stu <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> birthday <span class="token keyword">ASC</span> <span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">)</span>\n<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> birthday <span class="token keyword">DESC</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><table><thead><tr><th>sname</th><th>birthday</th></tr></thead><tbody><tr><td>å°æ˜</td><td>2003-09-01 20:33:13</td></tr><tr><td>æå…°</td><td>1996-09-01 20:33:13</td></tr></tbody></table><h3 id="ç»„æˆåŠ¨æ€æ•°æ®" tabindex="-1"><a class="header-anchor" href="#ç»„æˆåŠ¨æ€æ•°æ®" aria-hidden="true">#</a> ç»„æˆåŠ¨æ€æ•°æ®</h3><p>æœ€æ–°å‘è¡¨çš„æ–‡ç« å’Œå­¦ä¹ çš„è¯¾ç¨‹</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token punctuation">(</span><span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span>s<span class="token punctuation">.</span>sname<span class="token punctuation">,</span><span class="token string">&#39;å‘è¡¨äº†æ–‡ç« ï¼š&#39;</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>title<span class="token punctuation">)</span> <span class="token keyword">as</span> title <span class="token keyword">from</span> article <span class="token keyword">as</span> a\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> stu <span class="token keyword">as</span> s\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> a<span class="token punctuation">.</span>stu_id\n<span class="token keyword">LIMIT</span> <span class="token number">2</span><span class="token punctuation">)</span>\n<span class="token keyword">UNION</span>\n<span class="token punctuation">(</span><span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span>s<span class="token punctuation">.</span>sname<span class="token punctuation">,</span><span class="token string">&#39;æ­£åœ¨å­¦ä¹ ï¼š&#39;</span><span class="token punctuation">,</span>l<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token keyword">FROM</span> stu <span class="token keyword">AS</span> s \n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> stu_lesson <span class="token keyword">as</span> sl\n<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> lesson <span class="token keyword">as</span> l\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> sl<span class="token punctuation">.</span>stu_id <span class="token operator">AND</span> sl<span class="token punctuation">.</span>lesson_id <span class="token operator">=</span> l<span class="token punctuation">.</span>id \n<span class="token keyword">LIMIT</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment"># ORDER by rand()</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><table><thead><tr><th>title</th></tr></thead><tbody><tr><td>æå¹¿å‘è¡¨äº†æ–‡ç« ï¼šPHPå¾ˆå¥½å­¦ä¹ ï¼ŒåŠŸèƒ½å¼ºå¤§</td></tr><tr><td>é’±ä½³å‘è¡¨äº†æ–‡ç« ï¼šMysqlç³»ç»Ÿè¯¾ç¨‹æ­£åœ¨æ›´æ–°</td></tr><tr><td>æå¹¿æ­£åœ¨å­¦ä¹ ï¼šMYSQL</td></tr><tr><td>æå¹¿æ­£åœ¨å­¦ä¹ ï¼šPHP</td></tr></tbody></table><h2 id="å¤šè¡¨åˆ é™¤" tabindex="-1"><a class="header-anchor" href="#å¤šè¡¨åˆ é™¤" aria-hidden="true">#</a> å¤šè¡¨åˆ é™¤</h2><h3 id="åˆ é™¤æ‰€æœ‰æ²¡æœ‰å­¦ä¹ ä»»ä½•è¯¾ç¨‹çš„åŒå­¦" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤æ‰€æœ‰æ²¡æœ‰å­¦ä¹ ä»»ä½•è¯¾ç¨‹çš„åŒå­¦" aria-hidden="true">#</a> åˆ é™¤æ‰€æœ‰æ²¡æœ‰å­¦ä¹ ä»»ä½•è¯¾ç¨‹çš„åŒå­¦</h3><p>ğŸ”– è¦å…ˆæŸ¥è¯¢åˆ°å­¦ç”Ÿä¸è¯¾ç¨‹çš„é›†åˆï¼Œå› ä¸ºæ²¡æœ‰è¯¾ç¨‹çš„å­¦ç”Ÿä¹Ÿè¦æ‹¿åˆ°ï¼Œåå¿ƒå‘å­¦ç”Ÿè¡¨ï¼›å†åˆ é™¤</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># å¤‡ä»½ï¼šcreate table stu2 SELECT * from stu;</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> stu2 <span class="token keyword">as</span> s\n<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> stu_lesson <span class="token keyword">as</span> sl\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> sl<span class="token punctuation">.</span>stu_id\n<span class="token keyword">WHERE</span> sl<span class="token punctuation">.</span>lesson_id <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol><li>ä½¿ç”¨å­æŸ¥è¯¢åˆ é™¤</li></ol><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> stu2 <span class="token keyword">WHERE</span> id <span class="token operator">IN</span><span class="token punctuation">(</span>\n  <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span><span class="token punctuation">(</span>\n    <span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>id <span class="token keyword">from</span> stu2 <span class="token keyword">as</span> s\n    <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> stu_lesson <span class="token keyword">as</span> sl\n    <span class="token keyword">ON</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> sl<span class="token punctuation">.</span>stu_id\n    <span class="token keyword">WHERE</span> sl<span class="token punctuation">.</span>lesson_id <span class="token operator">IS</span> <span class="token boolean">NULL</span>\n  <span class="token punctuation">)</span><span class="token keyword">AS</span> s\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol start="2"><li>ä½¿ç”¨å¤šè¡¨åˆ é™¤ï¼š<code>DELETE table from ~</code></li></ol><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DELETE</span> s <span class="token keyword">from</span> stu2 <span class="token keyword">as</span> s\n<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> stu_lesson <span class="token keyword">as</span> sl\n<span class="token keyword">ON</span> s<span class="token punctuation">.</span>id <span class="token operator">=</span> sl<span class="token punctuation">.</span>stu_id\n<span class="token keyword">WHERE</span> sl<span class="token punctuation">.</span>lesson_id <span class="token operator">IS</span> <span class="token boolean">NULL</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>',121),e={render:function(s,n){return t}}}}]);