"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[8744],{6581:(n,s,a)=>{a.r(s),a.d(s,{data:()=>t});const t={key:"v-40544bd4",path:"/VueJs3/section5/chapter16.html",title:"è§£æå™¨",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"æ–‡æœ¬æ¨¡å¼åŠå…¶å¯¹è§£æå™¨çš„å½±å“",slug:"æ–‡æœ¬æ¨¡å¼åŠå…¶å¯¹è§£æå™¨çš„å½±å“",children:[]},{level:2,title:"é€’å½’ä¸‹é™ç®—æ³•æ„é€ æ¨¡æ¿ AST",slug:"é€’å½’ä¸‹é™ç®—æ³•æ„é€ æ¨¡æ¿-ast",children:[{level:3,title:"å­èŠ‚ç‚¹ç±»å‹",slug:"å­èŠ‚ç‚¹ç±»å‹",children:[]},{level:3,title:"parseChildren",slug:"parsechildren",children:[]},{level:3,title:"è§£æè¿‡ç¨‹",slug:"è§£æè¿‡ç¨‹",children:[]},{level:3,title:"é€’å½’ä¸ä¸‹é™",slug:"é€’å½’ä¸ä¸‹é™",children:[]}]},{level:2,title:"çŠ¶æ€æœºçš„å¼€å¯å’Œåœæ­¢",slug:"çŠ¶æ€æœºçš„å¼€å¯å’Œåœæ­¢",children:[{level:3,title:"isEnd.v1",slug:"isend-v1",children:[]},{level:3,title:"isEnd.v2",slug:"isend-v2",children:[]}]},{level:2,title:"è§£ææ ‡ç­¾èŠ‚ç‚¹",slug:"è§£ææ ‡ç­¾èŠ‚ç‚¹",children:[]},{level:2,title:"è§£æå±æ€§",slug:"è§£æå±æ€§",children:[]},{level:2,title:"è§£ææ–‡æœ¬ä¸è§£æ HTML å®ä½“",slug:"è§£ææ–‡æœ¬ä¸è§£æ-html-å®ä½“",children:[{level:3,title:"è§£ææ–‡æœ¬",slug:"è§£ææ–‡æœ¬",children:[]},{level:3,title:"è§£ç å‘½åå­—ç¬¦çš„å¼•ç”¨",slug:"è§£ç å‘½åå­—ç¬¦çš„å¼•ç”¨",children:[]},{level:3,title:"è§£ç æ•°å­—å­—ç¬¦",slug:"è§£ç æ•°å­—å­—ç¬¦",children:[]}]},{level:2,title:"è§£ææ’å€¼ä¸æ³¨é‡Š",slug:"è§£ææ’å€¼ä¸æ³¨é‡Š",children:[{level:3,title:"è§£ææ’å€¼",slug:"è§£ææ’å€¼",children:[]},{level:3,title:"è§£ææ³¨é‡Š",slug:"è§£ææ³¨é‡Š",children:[]}]}],filePathRelative:"VueJs3/section5/chapter16.md",git:{updatedTime:1655909516e3,contributors:[{name:"Jerry Chen",email:"caffreygo@163.com",commits:5}]}}},9030:(n,s,a)=>{a.r(s),a.d(s,{default:()=>Mn});var t=a(6252),e=a(3577);const p=(0,t.uE)('<h1 id="è§£æå™¨" tabindex="-1"><a class="header-anchor" href="#è§£æå™¨" aria-hidden="true">#</a> è§£æå™¨</h1><p>è§£æå™¨ï¼ˆparserï¼‰è´Ÿè´£æŠŠå­—ç¬¦ä¸²æ¨¡æ¿è½¬åŒ–æˆæ¨¡æ¿ ASTï¼Œå®ƒçš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªçŠ¶æ€æœºã€‚æ­£åˆ™è¡¨è¾¾å¼çš„æœ¬è´¨ä¹Ÿæ˜¯ä¸€ä¸ªçŠ¶æ€æœºã€‚</p><h2 id="æ–‡æœ¬æ¨¡å¼åŠå…¶å¯¹è§£æå™¨çš„å½±å“" tabindex="-1"><a class="header-anchor" href="#æ–‡æœ¬æ¨¡å¼åŠå…¶å¯¹è§£æå™¨çš„å½±å“" aria-hidden="true">#</a> æ–‡æœ¬æ¨¡å¼åŠå…¶å¯¹è§£æå™¨çš„å½±å“</h2><p>âœ… æ–‡æœ¬æ¨¡å¼æŒ‡çš„æ˜¯è§£æå™¨åœ¨å·¥ä½œæ—¶æ‰€è¿›å…¥çš„ä¸€äº›ç‰¹æ®ŠçŠ¶æ€ï¼Œå¦‚ RCDATA æ¨¡å¼ã€CDATA æ¨¡å¼ã€RAWTEXT æ¨¡å¼ï¼Œä»¥åŠåˆå§‹çš„ DATA æ¨¡å¼ç­‰ã€‚åœ¨ä¸åŒæ¨¡å¼ä¸‹ï¼Œè§£æå™¨å¯¹æ–‡æœ¬çš„è§£æè¡Œä¸ºä¼šæœ‰æ‰€ä¸åŒã€‚</p><div class="custom-container tip"><p class="custom-container-title">æ–‡æœ¬æ¨¡å¼</p><p>å½“è§£æå™¨é‡åˆ°ä¸€äº›ç‰¹æ®Šæ ‡ç­¾æ—¶ï¼Œä¼šåˆ‡æ¢æ¨¡å¼ï¼Œä»è€Œå½±å“å…¶å¯¹æ–‡æœ¬çš„è§£æè¡Œä¸ºï¼š</p><ul><li><code>&lt;title&gt;</code>æ ‡ç­¾ã€<code>&lt;textarea&gt;</code>æ ‡ç­¾ï¼Œå½“è§£æå™¨é‡åˆ°è¿™ä¸¤ä¸ªæ ‡ç­¾æ—¶ï¼Œä¼šåˆ‡æ¢åˆ° RCDATA æ¨¡å¼ï¼›</li><li><code>&lt;title&gt; </code>ã€<code>&lt;xmp&gt;</code>ã€<code>&lt;iframe&gt;</code>ã€<code>&lt;noembed&gt;</code>ã€<code>&lt;noframes&gt;</code>ã€<code>&lt;noscript&gt;</code>ç­‰æ ‡ç­¾ï¼Œå½“è§£æå™¨é‡åˆ°è¿™äº›æ ‡ç­¾æ—¶ï¼Œä¼šåˆ‡åˆ° RAWTEXT æ¨¡å¼ï¼›</li><li>å½“è§£æå™¨é‡åˆ°<code>&lt;![CDATA[</code>å­—ç¬¦ä¸²æ—¶ï¼Œä¼šè¿›å…¥ CDATA æ¨¡å¼ã€‚</li></ul></div>',5),o={class:"custom-container details"},c=(0,t._)("summary",null,"æ–‡æœ¬è§£ææ¨¡å¼",-1),l=(0,t.Uk)("ğŸŒ "),r={href:"https://whatwg-cn.github.io/html/multipage/parsing.html#tokenization",target:"_blank",rel:"noopener noreferrer"},u=(0,t.Uk)("HTML parsing tokenization æ–‡æ¡£ (opens new window)"),k=(0,t.uE)('<table><thead><tr><th>æ¨¡å¼</th><th>èƒ½å¦è§£ææ ‡ç­¾</th><th>æ˜¯å¦æ”¯æŒ HTML å®ä½“</th></tr></thead><tbody><tr><td>DATA</td><td>èƒ½</td><td>æ˜¯</td></tr><tr><td>RCDATA</td><td>å¦</td><td>æ˜¯</td></tr><tr><td>RAWTEXT</td><td>å¦</td><td>å¦</td></tr><tr><td>CDATA</td><td>å¦</td><td></td></tr></tbody></table><ul><li><p>åœ¨é»˜è®¤çš„ <strong>DATA æ¨¡å¼</strong>ä¸‹ï¼Œè§£æå™¨åœ¨é‡åˆ°<code>&lt;</code>æ—¶ï¼Œä¼šåˆ‡æ¢åˆ°æ ‡ç­¾å¼€å§‹çŠ¶æ€ï¼ˆtag open stateï¼‰ã€‚å³åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œè§£æå™¨èƒ½å¤Ÿè§£ææ ‡ç­¾å…ƒç´ ã€‚å½“è§£æå™¨é‡åˆ°å­—ç¬¦ <code>&amp;</code> æ—¶ï¼Œä¼šåˆ‡æ¢åˆ°<strong>å­—ç¬¦å¼•ç”¨çŠ¶æ€</strong>ï¼ˆcharacter reference stateï¼‰ï¼Œä¹Ÿç§° HTML å­—ç¬¦å®ä½“çŠ¶æ€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ DATA æ¨¡å¼ä¸‹ï¼Œè§£æå™¨èƒ½å¤Ÿå¤„ç† HTML å­—ç¬¦å®ä½“ã€‚</p></li><li><p>åœ¨ <strong>RCDATA æ¨¡å¼</strong>æ—¶ï¼Œè§£æå™¨é‡åˆ°<code>&lt;</code>æ ‡ç­¾ä¸ä¼šå†åˆ‡æ¢åˆ°æ ‡ç­¾å¼€å§‹çŠ¶æ€ï¼Œè€Œä¼šåˆ‡æ¢åˆ° RCDATA less-then sign stateã€‚åœ¨è¯¥çŠ¶æ€ä¸‹ï¼Œè§£æå™¨é‡åˆ°å­—ç¬¦<code>\\</code>ä¼šåˆ‡æ¢åˆ° RCDATA çš„ç»“æŸæ ‡ç­¾çŠ¶æ€ï¼Œå³ RCDATA end tag open stateï¼›å¦åˆ™ä¼šå°†å½“å‰å­—ç¬¦<code>&lt;</code>ä½œä¸ºæ™®é€šå­—ç¬¦å¤„ç†ï¼Œç„¶åç»§ç»­å¤„ç†å…¶ä»–å­—ç¬¦ã€‚</p><p>ç”±æ­¤å¯çŸ¥ï¼Œåœ¨ RCDATA çŠ¶æ€ä¸‹ï¼Œè§£æå™¨ä¸èƒ½è¯†åˆ«æ ‡ç­¾å…ƒç´ ã€‚è¿™å…¶å®é—´æ¥è¯´æ˜äº†åœ¨<code>&lt;textarea&gt;</code>å†…å¯ä»¥å°†å­—ç¬¦<code>&lt;</code>ä½œä¸ºæ™®é€šæ–‡æœ¬ï¼Œè§£æå™¨ä¸ä¼šè®¤ä¸ºå­—ç¬¦<code>&lt;</code>æ˜¯æ ‡ç­¾å¼€å§‹çš„æ ‡å¿—ã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- textarea å†…éƒ¨çš„æ ‡ç­¾å°†ä½œä¸ºæ™®é€šæ–‡æœ¬ --&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>abc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>hello\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token comment">&lt;!-- textarea èƒ½è§£æ HTML å®ä½“ --&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="Â©">&amp;copy;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>åœ¨ RAWTEXT æ¨¡å¼ä¸‹çš„å·¥ä½œæ–¹å¼ä¸åœ¨ RCDATA æ¨¡å¼ä¸‹ç±»ä¼¼ã€‚å”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œåœ¨ RAWTEXT æ¨¡å¼ä¸‹ï¼Œè§£æå™¨å°†ä¸å†æ”¯æŒ HTML å®ä½“ã€‚</p><p>å¯¹äº Vue.js çš„æ¨¡æ¿ DSL æ¥è¯´ï¼Œæ¨¡æ¿ä¸­ä¸å…è®¸å‡º<code>&lt;script&gt;</code>æ ‡ç­¾ï¼Œå› æ­¤ Vue.js æ¨¡æ¿è§£æå™¨åœ¨é‡åˆ°<code>&lt;script&gt;</code>æ ‡ç­¾æ—¶ä¼šè¿›å…¥ RAWTEXT æ¨¡å¼ï¼Œè¿™æ—¶å®ƒä¼šæŠŠ<code>&lt;script&gt;</code>æ ‡ç­¾å†…çš„å†…å®¹å…¨éƒ¨ä½œä¸ºæ™®é€šæ–‡æœ¬å¤„ç†ã€‚</p></li></ul><blockquote><p>ä¸åŒçš„æ¨¡å¼è¿˜ä¼šå½±å“è§£æå™¨å¯¹äºç»ˆæ­¢è§£æçš„åˆ¤æ–­ã€‚WHATWG ä¸­è¿˜å®šä¹‰äº† PLAINTEXT æ¨¡å¼ï¼Œè¯¥æ¨¡å¼ä¸ RAWTEXT ç±»ä¼¼ã€‚ä¸åŒçš„æ˜¯ï¼Œè¯¥æ¨¡å¼ä¸€æ—¦è¿›å…¥ä¾¿ä¸ä¼šå†é€€å‡ºã€‚Vue.js çš„æ¨¡æ¿è§£æç”¨ä¸åˆ°è¯¥æ¨¡å¼ã€‚</p></blockquote>',3),i=(0,t.uE)('<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> TextMode <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token constant">DATA</span><span class="token operator">:</span> <span class="token string">&#39;DATA&#39;</span><span class="token punctuation">,</span>\n  <span class="token constant">RCDARA</span><span class="token operator">:</span> <span class="token string">&#39;RCDATA&#39;</span><span class="token punctuation">,</span>\n  <span class="token constant">RAWDATA</span><span class="token operator">:</span> <span class="token string">&#39;RAWDATA&#39;</span><span class="token punctuation">,</span>\n  <span class="token constant">CDATA</span><span class="token operator">:</span> <span class="token string">&#39;CDATA&#39;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="é€’å½’ä¸‹é™ç®—æ³•æ„é€ æ¨¡æ¿-ast" tabindex="-1"><a class="header-anchor" href="#é€’å½’ä¸‹é™ç®—æ³•æ„é€ æ¨¡æ¿-ast" aria-hidden="true">#</a> é€’å½’ä¸‹é™ç®—æ³•æ„é€ æ¨¡æ¿ AST</h2><h3 id="å­èŠ‚ç‚¹ç±»å‹" tabindex="-1"><a class="header-anchor" href="#å­èŠ‚ç‚¹ç±»å‹" aria-hidden="true">#</a> å­èŠ‚ç‚¹ç±»å‹</h3><p>ä¹‹å‰çš„æ¨¡æ¿ AST çš„æ„å»ºæ€è·¯æ˜¯å…ˆè¿›è¡Œè¯æ³•è®°å·çš„åˆ†å‰²ï¼Œç„¶ååˆ›å»ºæ¨¡æ¿ ASTã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å®šä¹‰æ–‡æœ¬æ¨¡å¼ï¼Œä½œä¸ºä¸€ä¸ªçŠ¶æ€è¡¨</span>\n<span class="token keyword">const</span> TextModes <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token constant">DATA</span><span class="token operator">:</span> <span class="token string">&#39;DATA&#39;</span><span class="token punctuation">,</span>\n  <span class="token constant">RCDATA</span><span class="token operator">:</span> <span class="token string">&#39;RCDATA&#39;</span><span class="token punctuation">,</span>\n  <span class="token constant">RAWTEXT</span><span class="token operator">:</span> <span class="token string">&#39;RAWTEXT&#39;</span><span class="token punctuation">,</span>\n  <span class="token constant">CDATA</span><span class="token operator">:</span> <span class="token string">&#39;CDATA&#39;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// è§£æå™¨å‡½æ•°ï¼Œæ¥æ”¶æ¨¡æ¿ä½œä¸ºå‚æ•°ï¼Œè´Ÿè´£æ¨¡æ¿ AST çš„åˆ›å»º</span>\n<span class="token keyword">function</span> <span class="token function">parse</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// å®šä¹‰ä¸Šä¸‹æ–‡å¯¹è±¡</span>\n  <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token comment">// source æ¨¡æ¿å†…å®¹ï¼Œç”¨äºè§£æè¿‡ç¨‹æ¶ˆè´¹</span>\n    source<span class="token operator">:</span> str<span class="token punctuation">,</span>\n    <span class="token comment">// è§£æå™¨å½“å‰çš„æ–‡æœ¬æ¨¡å¼</span>\n    mode<span class="token operator">:</span> TextModes<span class="token punctuation">.</span><span class="token constant">DATA</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token comment">// parseChidren å‡½æ•°è§£æï¼Œè¿”å›è§£æåå¾—åˆ°çš„å­èŠ‚ç‚¹</span>\n  <span class="token comment">// context: ä¸Šä¸‹æ–‡å¯¹è±¡</span>\n  <span class="token comment">// Node[]: çˆ¶èŠ‚ç‚¹æ„æˆçš„èŠ‚ç‚¹æ ˆï¼Œåˆå§‹ä¸ºç©º</span>\n  <span class="token keyword">const</span> nodes <span class="token operator">=</span> <span class="token function">parseChildren</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    type<span class="token operator">:</span> <span class="token string">&#39;Root&#39;</span><span class="token punctuation">,</span>\n    <span class="token comment">// ä½¿ç”¨ nodes ä½œä¸ºæ ¹èŠ‚ç‚¹çš„ children</span>\n    children<span class="token operator">:</span> nodes\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>âœ… åˆ›å»º Token ä¸æ„é€ æ¨¡æ¿ AST çš„è¿‡ç¨‹å¯ä»¥åŒæ—¶è¿›è¡Œï¼Œå› ä¸ºæ¨¡æ¿å’Œæ¨¡æ¿ AST å…·æœ‰åŒæ„çš„ç‰¹æ€§ã€‚</p><p><code>parseChidren</code>å‡½æ•°æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œè¯¥çŠ¶æ€æœºæœ‰å¤šå°‘ç§çŠ¶æ€å–å†³äºå­èŠ‚ç‚¹çš„ç±»å‹æ•°é‡ã€‚</p>',7),_={class:"custom-container tip"},b=(0,t._)("p",{class:"custom-container-title"},"åœ¨æ¨¡æ¿ä¸­ï¼Œå…ƒç´ çš„å­èŠ‚ç‚¹å¯ä»¥æ˜¯ä¸€ä¸‹å‡ ç§ï¼š",-1),m=(0,t._)("li",null,[(0,t.Uk)("æ ‡ç­¾èŠ‚ç‚¹ï¼Œä¾‹å¦‚"),(0,t._)("code",null,"<div>")],-1),d=(0,t.Uk)("æ–‡æœ¬æ’å€¼èŠ‚ç‚¹ï¼Œä¾‹å¦‚"),U=(0,t._)("li",null,[(0,t.Uk)("æ™®é€šæ–‡æœ¬èŠ‚ç‚¹ï¼Œä¾‹å¦‚ï¼š"),(0,t._)("code",null,"text")],-1),g=(0,t._)("li",null,[(0,t.Uk)("æ³¨é‡ŠèŠ‚ç‚¹ï¼Œä¾‹å¦‚"),(0,t._)("code",null,"\x3c!----\x3e")],-1),h=(0,t._)("li",null,[(0,t.Uk)("CDATA èŠ‚ç‚¹ï¼Œä¾‹å¦‚"),(0,t._)("code",null,"<![CDATA[ xxx ]]>")],-1),x=(0,t._)("p",null,"åœ¨æ ‡å‡†çš„ HTML ä¸­ï¼ŒèŠ‚ç‚¹çš„ç±»å‹å°†ä¼šæ›´å¤šï¼Œä¾‹å¦‚ DOCTYPE èŠ‚ç‚¹ç­‰ã€‚",-1),v=(0,t._)("h3",{id:"parsechildren",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#parsechildren","aria-hidden":"true"},"#"),(0,t.Uk)(" parseChildren")],-1),f=(0,t._)("p",null,"ä¸‹å›¾ä¸º parseChildren å‡½æ•°åœ¨è§£ææ¨¡æ¿è¿‡ç¨‹ä¸­çš„çŠ¶æ€è¿ç§»è¿‡ç¨‹ã€‚",-1),y=(0,t._)("p",null,[(0,t._)("img",{src:"https://raw.githubusercontent.com/caffreygo/static/main/blog/Vuejs3/parseChildren.png",alt:""})],-1),w=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseChildren"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" ancestors")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// nodes å­˜å‚¨å­èŠ‚ç‚¹ï¼Œä½œä¸ºè¿”å›å€¼"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"let"),(0,t.Uk)(" nodes "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// ä»ä¸Šä¸‹æ–‡å¯¹è±¡å–å¾—å½“å‰çŠ¶æ€ï¼Œæ¨¡å¼ mode ä¸æ¨¡æ¿å†…å®¹ source"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" mode"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" source "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context\n\t"),(0,t._)("span",{class:"token comment"},"// è§£æå­—ç¬¦ä¸²ï¼Œé‡åˆ°çˆ¶çº§èŠ‚ç‚¹çš„ç»“æŸæ ‡ç­¾å¯åœæ­¢è§£æ"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"while"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token operator"},"!"),(0,t._)("span",{class:"token function"},"isEnd"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" ancestors"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"let"),(0,t.Uk)(" node\n\t\t"),(0,t._)("span",{class:"token comment"},"// DATA å’Œ RCDATA æ¨¡å¼æ”¯æŒæ’å€¼èŠ‚ç‚¹çš„è§£æ"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("mode "),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(" TextModes"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token constant"},"DATA"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"||"),(0,t.Uk)(" mode "),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(" TextModes"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token constant"},"RCDATA"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token comment"},"// åªæœ‰ DATA æ¨¡å¼æ‰æ”¯æŒæ ‡ç­¾èŠ‚ç‚¹çš„è§£æ"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("mode "),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(" TextModes"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token constant"},"DATA"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)(" context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'<'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'!'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"startsWith"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'\x3c!--'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n            "),(0,t._)("span",{class:"token comment"},"// æ³¨é‡Š"),(0,t.Uk)("\n            node "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseComment"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"startsWith"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'<![CDATA['"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n            "),(0,t._)("span",{class:"token comment"},"// CDATA"),(0,t.Uk)("\n            node "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseCDATA"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" ancestors"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'/'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token comment"},"// ç»“æŸæ ‡ç­¾ï¼Œè¿™é‡Œè¦æŠ›å‡ºé”™è¯¯"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"[a-z]"),(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-flags"},"i")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"test"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token comment"},"// æ ‡ç­¾"),(0,t.Uk)("\n          node "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseElement"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" ancestors"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"startsWith"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'{{'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},"// è§£ææ’å€¼"),(0,t.Uk)("\n        node "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseInterpolation"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    \n\t\t"),(0,t._)("span",{class:"token comment"},"// node ä¸å­˜åœ¨ï¼Œè¯´æ˜å‡ºäºå…¶ä»–æ¨¡å¼ï¼Œé DATAã€RCDATA"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// è¿™æ—¶ä¸€åˆ‡å†…å®¹éƒ½ä½œä¸ºæ–‡æœ¬å¤„ç†"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token operator"},"!"),(0,t.Uk)("node"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      node "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseText"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token comment"},"// å°†èŠ‚ç‚¹æ·»åŠ åˆ°æ•°ç»„ä¸­"),(0,t.Uk)("\n    nodes"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"push"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("node"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" nodes\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"25"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"26"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"27"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"28"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"29"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"30"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"31"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"32"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"33"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"34"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"35"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"36"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"37"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"38"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"39"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"40"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"41"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"42"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"43"),(0,t._)("br")])],-1),T=(0,t._)("ul",null,[(0,t._)("li",null,[(0,t._)("code",null,"parseChildren"),(0,t.Uk)(" å‡½æ•°çš„è¿”å›å€¼æ˜¯å­èŠ‚ç‚¹ç»„æˆçš„æ•°ç»„ï¼Œè¿™é‡Œæ¯æ¬¡ while å¾ªç¯éƒ½ä¼šè§£æä¸€ä¸ªæˆ–å¤šä¸ªèŠ‚ç‚¹ï¼Œè¿™äº›èŠ‚ç‚¹ä¼šè¢«æ·»åŠ åˆ° node æ•°ç»„ä¸­ï¼Œå¹¶ä½œä¸ºå‡½æ•°è¿”å›å€¼ã€‚")]),(0,t._)("li",null,"åªæœ‰ DATA å’Œ RCDATA æ¨¡å¼æ”¯æŒæ’å€¼èŠ‚ç‚¹çš„è§£æï¼›åªæœ‰ DATA æ¨¡å¼æ‰æ”¯æŒæ ‡ç­¾èŠ‚ç‚¹ã€æ³¨é‡ŠèŠ‚ç‚¹å’Œ CDATA èŠ‚ç‚¹çš„è§£æã€‚"),(0,t._)("li",null,"è§£æå™¨åœ¨é‡åˆ°ç‰¹å®šæ ‡ç­¾æ—¶ï¼Œä¼šåˆ‡æ¢æ¨¡å¼ã€‚ä¸€æ—¦è§£æå™¨åˆ‡æ¢åˆ° DATAæ¨¡å¼å’Œ RCDATA æ¨¡å¼ä¹‹å¤–çš„æ¨¡å¼æ—¶ï¼Œä¸€åˆ‡å†…å®¹éƒ½ä¼šä½œä¸ºæ–‡æœ¬èŠ‚ç‚¹è¢«è§£æã€‚å½“ç„¶ï¼Œå³ä½¿åœ¨ DATA æ¨¡å¼å’Œ RCDATA æ¨¡å¼ä¸‹ï¼Œå¦‚æœæ— æ³•åŒ¹é…æ ‡ç­¾èŠ‚ç‚¹ã€æ³¨é‡ŠèŠ‚ç‚¹ã€CDATA èŠ‚ç‚¹ã€æ’å€¼èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä¹Ÿä¼šä½œä¸ºæ–‡æœ¬èŠ‚ç‚¹è§£æã€‚")],-1),A=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" template "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token template-string"},[(0,t._)("span",{class:"token template-punctuation string"},"`"),(0,t._)("span",{class:"token string"},"<div>\n\t<p>Text1</p>\n\t<p>Text2</p>\n</div>"),(0,t._)("span",{class:"token template-punctuation string"},"`")]),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br")])],-1),j=(0,t._)("p",null,"è§£ææ¨¡æ¿æ—¶ï¼Œä¸èƒ½å¿½ç•¥ç©ºç™½å­—ç¬¦ã€‚è¿™äº›ç©ºç™½å­—ç¬¦åŒ…æ‹¬ï¼šæ¢è¡Œç¬¦ï¼ˆ\\nï¼‰ã€å›è½¦ç¬¦ï¼ˆ\\tï¼‰ã€ç©ºæ ¼ï¼ˆ' 'ï¼‰ã€åˆ¶è¡¨ç¬¦ï¼ˆ\\tï¼‰ä»¥åŠæ¢é¡µç¬¦ï¼ˆ\\fï¼‰ã€‚",-1),C=(0,t._)("p",null,"å¦‚æœæˆ‘ä»¬ç”¨ï¼ˆ+ï¼‰ä»£è¡¨æ¢è¡Œç¬¦ï¼Œç”¨ï¼ˆ-ï¼‰ä»£è¡¨ç©ºæ ¼å­—ç¬¦ï¼Œé‚£ä¹ˆæ¨¡æ¿å¯ä»¥è¡¨ç¤ºä¸ºï¼š",-1),D=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" template "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token template-string"},[(0,t._)("span",{class:"token template-punctuation string"},"`"),(0,t._)("span",{class:"token string"},"<div>+--<p>Text1</p>+--<p>Text1</p>+</div>"),(0,t._)("span",{class:"token template-punctuation string"},"`")]),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br")])],-1),E=(0,t._)("p",null,[(0,t.Uk)("è§£æå™¨â€”å¼€å§‹å¤„äº DATA æ¨¡å¼ã€‚å¼€å§‹æ‰§è¡Œè§£æåï¼Œè§£æå™¨é‡åˆ°çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸º"),(0,t._)("code",null,"ï¼œ"),(0,t.Uk)("ï¼Œå¹¶ä¸”ç¬¬ä¸ªå­—ç¬¦èƒ½å¤ŸåŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ "),(0,t._)("code",null,"/a-z/t"),(0,t.Uk)("ï¼Œæ‰€ä»¥è§£æå™¨ä¼šè¿›äººæ ‡ç­¾èŠ‚ç‚¹çŠ¶æ€ï¼Œå¹¶è°ƒç”¨ "),(0,t._)("code",null,"parseElement"),(0,t.Uk)("å‡½æ•°è¿›è¡Œè§£æã€‚")],-1),I=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseElement"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" ancestors")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// è§£æå¼€å§‹æ ‡ç­¾"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" element "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseTag"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// é€’å½’è°ƒç”¨ parseChildren è§£æå­èŠ‚ç‚¹"),(0,t.Uk)("\n  element"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("children "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseChildren"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" ancestors"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// è§£æç»“æŸæ ‡ç­¾"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token function"},"parseEndTag"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  \n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" element\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br")])],-1),W=(0,t._)("div",{class:"custom-container tip"},[(0,t._)("p",{class:"custom-container-title"},"parseElement å‡½æ•°ä¼šåšä¸‰ä»¶äº‹ï¼š"),(0,t._)("ol",null,[(0,t._)("li",null,"è§£æå¼€å§‹æ ‡ç­¾"),(0,t._)("li",null,"è§£æå­èŠ‚ç‚¹"),(0,t._)("li",null,"è§£æç»“æŸæ ‡ç­¾")])],-1),R=(0,t._)("p",null,":::",-1),S=(0,t.uE)('<h3 id="è§£æè¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#è§£æè¿‡ç¨‹" aria-hidden="true">#</a> è§£æè¿‡ç¨‹</h3><details class="custom-container details"><summary>è§£æè¿‡ç¨‹</summary><p>å¦‚æœä¸€ä¸ªæ ‡ç­¾ä¸æ˜¯è‡ªé—­åˆæ ‡ç­¾ï¼Œåˆ™å¯ä»¥è®¤ä¸ºï¼Œä¸€ä¸ªå®Œæ•´çš„æ ‡ç­¾å…ƒç´ æ˜¯ç”±<strong>å¼€å§‹æ ‡ç­¾</strong>ã€<strong>å­èŠ‚ç‚¹</strong>å’Œ<strong>ç»“æŸæ ‡ç­¾</strong>è¿™ä¸‰éƒ¨åˆ†æ„æˆçš„ã€‚å› æ­¤ï¼Œåœ¨ <code>parseElement</code> å‡½æ•°å†…ï¼Œæˆ‘ä»¬åˆ†åˆ«è°ƒç”¨ä¸‰ä¸ªè§£æå‡½æ•°æ¥å¤„ç†è¿™ä¸‰éƒ¨åˆ†å†…å®¹ã€‚ä»¥ä¸Šè¿°æ¨¡æ¿ä¸ºä¾‹ã€‚</p><ul><li><code>parseTag</code> è§£æå¼€å§‹æ ‡ç­¾ã€‚<code>parseTag</code> å‡½æ•°ç”¨äºè§£æå¼€å§‹æ ‡ç­¾ï¼ŒåŒ…æ‹¬å¼€å§‹æ ‡ç­¾ä¸Šçš„å±æ€§å’ŒæŒ‡ä»¤ã€‚å› æ­¤ï¼Œåœ¨<code>parseTag</code> è§£æå‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œä¼šæ¶ˆè´¹å­—ç¬¦ä¸²ä¸­çš„å†…å®¹<code>&lt;div&gt;</code>ï¼Œå¤„ç†åçš„æ¨¡æ¿å†…å®¹å°†å˜ä¸ºï¼š</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> template <span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">+--&lt;p&gt;Text1&lt;/p&gt;+--&lt;p&gt;Text2&lt;/p&gt;+&lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li><p>é€’å½’åœ°è°ƒç”¨ <code>parseChildren</code> å‡½æ•°è§£æå­ èŠ‚ç‚¹ã€‚<code>parseElement</code> å‡½æ•°åœ¨è§£æå¼€å§‹æ ‡ç­¾æ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªæ ‡ç­¾èŠ‚ç‚¹ elementã€‚åœ¨ <code>parseElement</code>å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œå‰©ä¸‹çš„æ¨¡æ¿å†…å®¹åº”è¯¥ä½œä¸ºelement çš„å­èŠ‚ç‚¹è¢«è§£æï¼Œå³ <code>element.children</code>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¦é€’å½’åœ°è°ƒç”¨ <code>parseChildren</code>å‡½æ•°ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œ<code>parsechildren</code>å‡½æ•°ä¼šæ¶ˆè´¹å­—ç¬¦ä¸²çš„å†…å®¹ï¼š<code>+--&lt;p&gt;Text1&lt;/p&gt;+--&lt;p&gt;Text2&lt;/p&gt;+</code>ã€‚å¤„ç†åçš„æ¨¡æ¿å†…å®¹å°†å˜ä¸ºï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> template <span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p><code>parseEndTag</code> å¤„ç†ç»“æŸæ ‡ç­¾ã€‚å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ç»è¿‡ <code>parseChildren</code> å‡½æ•°å¤„ç†åï¼Œæ¨¡æ¿å†…å®¹åªå‰©ä¸‹ä¸€ä¸ªç»“æŸæ ‡ç­¾äº†ã€‚å› æ­¤ï¼Œåªéœ€è¦è°ƒç”¨ <code>parseEndTag</code> è§£æè¥¿æ•°æ¥æ¶ˆè´¹å®ƒå³å¯ã€‚</p></li></ul><p>ç»è¿‡ä¸Šè¿°ä¸‰ä¸ªæ­¥éª¤çš„å¤„ç†åï¼Œè¿™æ®µæ¨¡æ¿å°±è¢«è§£æå®Œæ¯•äº†ï¼Œæœ€ç»ˆå¾—åˆ°äº†æ¨¡æ¿ ASTã€‚ä½†è¿™é‡Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸ºäº†è§£ææ ‡ç­¾çš„å­èŠ‚ç‚¹ï¼Œé€’å½’åœ°è°ƒç”¨äº† <code>parseChildren</code> å‡½æ•°ã€‚è¿™æ„å‘³ç€ï¼Œä¸€ä¸ªæ–°çš„çŠ¶æ€æœºå¼€å§‹è¿è¡Œäº†ï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºâ€œçŠ¶æ€æœº 2â€ã€‚â€œçŠ¶æ€æœº 2â€æ‰€å¤„ç†çš„æ¨¡æ¿å†…å®¹ä¸ºï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> template <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">+--&lt;p&gt;Text1&lt;/p&gt;+--&lt;p&gt;Text2&lt;/p&gt;+</span><span class="token template-punctuation string">`</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç»§ç»­åˆ†æã€çŠ¶æ€æœº 2â€ çš„çŠ¶æ€è¿ç§»æµç¨‹ã€‚åœ¨â€œçŠ¶æ€æœº 2ã€å¼€å§‹è¿è¡Œæ—¶ï¼Œæ¨¡æ¿çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯æ¢è¡Œç¬¦(å­—ç¬¦ï¼‹ä»£è¡¨æ¢è¡Œç¬¦)ã€‚å› æ­¤ï¼Œè§£æå™¨ä¼šè¿›å…¥æ–‡æœ¬èŠ‚ç‚¹çŠ¶æ€ï¼Œå¹¶è°ƒç”¨ <code>parseText</code>å‡½æ•°å®Œæˆæ–‡æœ¬èŠ‚ç‚¹çš„è§£æã€‚<code>parseText</code> å‡½æ•°ä¼šå°†ä¸‹ä¸€ä¸ª<code>&lt;</code>å­—ç¬¦ä¹‹å‰çš„æ‰€æœ‰å­—ç¬¦éƒ½è§†ä½œæ–‡æœ¬èŠ‚ç‚¹çš„å†…å®¹ã€‚æ¢å‘è¯è¯´ï¼Œ<code>parseText</code> å‡½æ•°ä¼šæ¶ˆè´¹æ¨¡æ¿å†…å®¹<code>ï¼‹--</code>ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ã€‚åœ¨<code>parseText</code> è§£æå‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œå‰©ä¸‹çš„æ¨¡æ¿å†…å®¹ä¸ºï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> template <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;p&gt;Text1&lt;/p&gt;+--&lt;p&gt;Text2&lt;/p&gt;+</span><span class="token template-punctuation string">`</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>æ¥ç€ï¼Œ<code>parseChildren</code> å‡½æ•°ç»§ç»­æ‰§è¡Œã€‚æ­¤æ—¶æ¨¡æ¿çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸º<code>&lt;</code>ï¼Œå¹¶ä¸”ä¸‹ä¸€ä¸ªå­—ç¬¦èƒ½å¤ŸåŒ¹é…æ­£åˆ™ <code>/a-z/i</code>ã€‚äºæ˜¯è§£æå™¨å†æ¬¡è¿›äºº <code>parseElement</code> è§£æå‡½æ•°çš„æ‰§è¡Œé˜¶æ®µï¼Œè¿™ä¼šæ¶ˆè´¹æ¨¡æ¿å†…å®¹<code>&lt;p&gt;Text1&lt;/p&gt;</code>ã€‚åœ¨è¿™ä¸€æ­¥è¿‡åï¼Œå‰©ä¸‹çš„æ¨¡æ¿å†…å®¹ä¸ºï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> template <span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">+--&lt;p&gt;Text2&lt;/p&gt;+</span><span class="token template-punctuation string">`</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œæ­¤æ—¶æ¨¡æ¿çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯æ¢è¡Œç¬¦ï¼Œäºæ˜¯è°ƒç”¨ <code>parseText</code> å‡½æ•°æ¶ˆè´¹æ¨¡æ¿å†…å®¹<code>+--</code>ç°åœ¨ï¼Œæ¨¡æ¿ä¸­å‰©ä¸‹çš„å†…å®¹æ˜¯ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> template <span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;p&gt;Text2&lt;/p&gt;+</span><span class="token template-punctuation string">`</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>è§£æå™¨ä¼šå†æ¬¡è°ƒç”¨ parseElement ä¸½æ•°å¤„ç†æ ‡ç­¾èŠ‚ç‚¹ã€‚åœ¨è¿™ä¹‹åï¼Œå‰©ä¸‹çš„æ¨¡æ¿å†…å®¹ä¸ºï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> template <span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">+</span><span class="token template-punctuation string">`</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œç°åœ¨æ¨¡æ¿å†…å®¹åªå‰©ä¸‹ä¸€ä¸ªæ¢è¡Œç¬¦äº†ã€‚<code>parseChildren</code> å‡½æ•°ä¼šç»§ç»­æ‰§è¡Œå¹¶è°ƒç”¨<code>parseText</code> å‡½æ•°æ¶ˆè´¹å‰©ä¸‹çš„å†…å®¹ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ã€‚æœ€ç»ˆï¼Œæ¨¡æ¿è¢«è§£æå®Œæ¯•ï¼Œâ€œçŠ¶æ€æœº2â€åœæ­¢è¿è¡Œã€‚</p><p>åœ¨â€œçŠ¶æ€æœº2â€è¿è¡ŒæœŸé—´ï¼Œä¸ºäº†å¤„ç†æ ‡ç­¾èŠ‚ç‚¹ï¼Œæˆ‘ä»¬åˆè°ƒç”¨äº†ä¸¤æ¬¡ <code>parseElement</code> å‡½æ•°ã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨ç”¨äºå¤„ç†å†…å®¹ <code>&lt;p&gt;Text1&lt;/p&gt;</code>ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨ç”¨äºå¤„ç†å†…å®¹ <code>&lt;p&gt;Text2&lt;/p&gt;</code>ã€‚æˆ‘ä»¬çŸ¥é“<code>parseElement</code> å‡½æ•°ä¼šé€’å°‘åœ°è°ƒç”¨ <code>parsechildren</code> å‡½æ•°å®Œæˆå­èŠ‚ç‚¹çš„è§£æï¼Œè¿™å°±æ„å‘³ç€è§£æå™¨ä¼šå†å¼€å¯äº†ä¸¤ä¸ªæ–°çš„çŠ¶æ€æœºã€‚</p></details><h3 id="é€’å½’ä¸ä¸‹é™" tabindex="-1"><a class="header-anchor" href="#é€’å½’ä¸ä¸‹é™" aria-hidden="true">#</a> é€’å½’ä¸ä¸‹é™</h3><p>âœ… <code>parseChildren</code>è§£æå‡½æ•°æ˜¯æ•´ä¸ªçŠ¶æ€æœºçš„æ ¸å¿ƒï¼ŒçŠ¶æ€è¿ç§»æ“ä½œéƒ½åœ¨è¯¥å‡½æ•°å†…å®Œæˆã€‚åœ¨<code>parseChildren</code> å‡½æ•°è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸ºäº†å¤„ç†æ ‡ç­¾èŠ‚ç‚¹ï¼Œä¼šè°ƒç”¨<code>parseElement</code> è§£æå‡½æ•°ï¼Œè¿™ä¼šé—´æ¥åœ°è°ƒç”¨ <code>parseChildren</code>å‡½æ•°ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªæ–°çš„çŠ¶æ€æœºã€‚</p><p><strong>é€’å½’</strong>ï¼šéšç€æ ‡ç­¾åµŒå¥—å±‚æ¬¡çš„å¢åŠ ï¼Œæ–°çš„çŠ¶æ€æœºä¼šéšç€<code>parseChildren</code>å‡½æ•°é€’å½’åœ°è°ƒç”¨è€Œä¸æ–­åˆ›å»ºï¼Œè¿™å°±æ˜¯â€œé€’å½’ä¸‹é™â€ä¸­â€œé€’å½’â€äºŒå­—çš„å«ä¹‰ã€‚</p><p><strong>ä¸‹é™</strong>ï¼šè€Œä¸Šçº§<code>parseChildren</code>å‡½æ•°çš„è°ƒç”¨ç”¨äºæ„é€ ä¸Šçº§æ¨¡æ¿ ASTï¼Œè¢«é€’å½’è°ƒç”¨çš„ä¸‹çº§ <code>parseChildren</code> å‡½æ•°åˆ™ç”¨äºæ„é€ ä¸‹çº§æ¨¡æ¿ AST èŠ‚ç‚¹ã€‚æœ€ç»ˆï¼Œä¼šæ„é€ å‡ºä¸€æ£µæ ‘å‹ç»“æ„çš„æ¨¡æ¿ ASTï¼Œè¿™å°±æ˜¯â€œé€’å½’ä¸‹é™â€ä¸­â€œä¸‹é™â€äºŒå­—çš„å«ä¹‰ã€‚</p><h2 id="çŠ¶æ€æœºçš„å¼€å¯å’Œåœæ­¢" tabindex="-1"><a class="header-anchor" href="#çŠ¶æ€æœºçš„å¼€å¯å’Œåœæ­¢" aria-hidden="true">#</a> çŠ¶æ€æœºçš„å¼€å¯å’Œåœæ­¢</h2><div class="custom-container tip"><p class="custom-container-title">âœ… æ¦‚è§ˆ</p><p>åœ¨è§£ææ¨¡æ¿ ASTçš„è¿‡ç¨‹ä¸­ï¼ŒparseChildrenæ˜¯æ ¸å¿ƒã€‚æ¯æ¬¡è°ƒç”¨éƒ½æ„å‘³ç€æ–°çŠ¶æ€æœºçš„å¼€å¯ã€‚çŠ¶æ€æœºçš„ç»“æŸæ—¶æœºæœ‰ä¸¤ä¸ªï¼š</p><ul><li>ç¬¬ä¸€ä¸ªåœæ­¢æ—¶æœºæ˜¯å½“æ¨¡æ¿å†…å®¹è¢«è§£æå®Œæ¯•æ—¶ã€‚</li><li>ç¬¬äºŒä¸ªåœæ­¢æ—¶æœºæ˜¯é‡åˆ°ç»“æŸæ ‡ç­¾æ—¶ï¼Œè¿™æ—¶è§£æå™¨ä¼šå–å¾—çˆ¶çº§èŠ‚ç‚¹æ ˆæ ˆé¡¶çš„èŠ‚ç‚¹ä½œä¸ºçˆ¶èŠ‚ç‚¹ï¼Œæ£€æŸ¥è¯¥èŠ‚ç‚¹ç»“æŸæ ‡ç­¾æ˜¯å¦ä¸çˆ¶èŠ‚ç‚¹çš„æ ‡ç­¾åŒåï¼Œå¦‚æœç›¸åŒï¼Œåˆ™çŠ¶æ€æœºåœæ­¢è¿è¡Œã€‚</li></ul></div><p><code>parseChildren</code>å‡½æ•°æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œå®ƒä¼šå¼€å¯ä¸€ä¸ª while å¾ªç¯ä½¿å¾—çŠ¶æ€æœºè‡ªåŠ¨è¿è¡Œã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">parseChildren</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> ancestors</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> nodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n\n  <span class="token keyword">const</span> <span class="token punctuation">{</span> mode <span class="token punctuation">}</span> <span class="token operator">=</span> context\n  <span class="token comment">// è¿è¡ŒçŠ¶æ€æœº</span>\n  <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isEnd</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> ancestors<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// çœç•¥éƒ¨åˆ†ä»£ç </span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> nodes\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="isend-v1" tabindex="-1"><a class="header-anchor" href="#isend-v1" aria-hidden="true">#</a> isEnd.v1</h3><p>å½“è§£æå™¨é‡åˆ°å¼€å§‹æ ‡ç­¾æ—¶ï¼Œä¼šå°†è¯¥æ ‡ç­¾å‹å…¥çˆ¶çº§èŠ‚ç‚¹æ ˆï¼ŒåŒæ—¶å¼€å¯æ–°çš„çŠ¶æ€æœºã€‚å½“è§£æå™¨é‡åˆ°ç»“æŸæ ‡ç­¾ï¼Œäº•ä¸”çˆ¶çº§èŠ‚ç‚¹æ ˆä¸­å­˜åœ¨ä¸è¯¥æ ‡ç­¾åŒåçš„å¼€å§‹æ ‡ç­¾èŠ‚ç‚¹æ—¶ï¼Œä¼šåœæ­¢å½“å‰æ­£åœ¨è¿è¡Œçš„çŠ¶æ€æœºã€‚æ ¹æ®ä¸Šè¿°è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡º<code>isEnd</code>å‡½æ•°çš„é€»è¾‘ï¼Œå¦‚ä¸‹é¢çš„ä»£ç æ‰€ç¤ºï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isEnd</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> ancestors</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// å½“è§£æå†…å®¹è§£æå®Œæ¯•ä¹‹åï¼Œåœæ­¢</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>context<span class="token punctuation">.</span>source<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>\n  <span class="token keyword">const</span> parent <span class="token operator">=</span> ancestors<span class="token punctuation">[</span>ancestors<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>\n  <span class="token comment">// é‡åˆ°ä¸çˆ¶èŠ‚ç‚¹åŒåçš„ç»“æŸæ ‡ç­¾æ—¶ï¼Œåœæ­¢</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> context<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>parent<span class="token punctuation">.</span>tag<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token boolean">true</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>è¿™ä¸ªåˆ¤æ–­æ–¹å¼æ˜¯æœ‰ç‘•ç–µçš„ï¼Œä»¥ä¸‹é¢è¿™ä¸ªæ¨¡æ¿ä¸ºä¾‹ï¼š</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ol><li>ç›®å‰ä»£ç â€œçŠ¶æ€æœº1â€œä¼šé‡åˆ° div ä¼šå¼€å¯ä¸€ä¸ªâ€œçŠ¶æ€æœº2â€œ</li><li>æ¥ç€é‡åˆ° span å†å¼€å¯ä¸€ä¸ªâ€œçŠ¶æ€æœº3â€œ</li><li>â€œçŠ¶æ€æœº3â€œè§£ææ—¶é‡åˆ°äº†<code>&lt;/div&gt;</code>è¿™ä¸ªç»“æŸæ ‡ç­¾ï¼Œä¸å½“å‰ span æ ‡ç­¾ä¸ç¬¦ã€‚åˆ™â€œçŠ¶æ€æœº3â€œæŠ›å‡ºé”™è¯¯ï¼šâ€œæ— æ•ˆçš„ç»“æŸæ ‡ç­¾â€</li></ol><p><img src="https://raw.githubusercontent.com/caffreygo/static/main/blog/Vuejs3/parseTag1.png" alt=""></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">parseChildren</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> ancestors</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> nodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n  <span class="token keyword">const</span> <span class="token punctuation">{</span> mode <span class="token punctuation">}</span> <span class="token operator">=</span> context\n\n  <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isEnd</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> ancestors<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">let</span> node\n\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>mode <span class="token operator">===</span> TextModes<span class="token punctuation">.</span><span class="token constant">DATA</span> <span class="token operator">||</span> mode <span class="token operator">===</span> TextModes<span class="token punctuation">.</span><span class="token constant">RCDATA</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>mode <span class="token operator">===</span> TextModes<span class="token punctuation">.</span><span class="token constant">DATA</span> <span class="token operator">&amp;&amp;</span> context<span class="token punctuation">.</span>source<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&#39;&lt;&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>source<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&#39;!&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;!--&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token comment">// æ³¨é‡Š</span>\n          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;![CDATA[&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token comment">// CDATA</span>\n          <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>source<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token comment">// ç»“æŸæ ‡ç­¾ï¼Œè¿™é‡Œè¦æŠ›å‡ºé”™è¯¯ï¼Œå› ä¸ºå®ƒç¼ºå°‘å¯¹åº”çš„å¼€å§‹æ ‡ç­¾</span>\n          console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;æ— æ•ˆçš„ç»“æŸæ ‡ç­¾&#39;</span><span class="token punctuation">)</span>\n          <span class="token keyword">continue</span>\n        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[a-z]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>source<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token comment">// ...</span>\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;{{&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token comment">// ...</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token comment">// ...</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> nodes\n<span class="token punctuation">}</span>\n</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line">Â </div><div class="highlight-line">Â </div><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>å½“å‰è§£é‡Šæ–¹å¼æ˜¯ä¼šå¾—åˆ°é”™è¯¯ä¿¡æ¯ï¼šâ€œæ— æ•ˆçš„ç»“æŸæ ‡ç­¾â€ã€‚</p><h3 id="isend-v2" tabindex="-1"><a class="header-anchor" href="#isend-v2" aria-hidden="true">#</a> isEnd.v2</h3><p>âœ… è¿˜æœ‰ä¸€ç§è§£é‡Šæ–¹å¼ï¼Œåœ¨â€œå®Œæ•´çš„å†…å®¹â€éƒ¨åˆ†è¢«è§£æå®Œæ¯•åï¼Œè§£æå™¨å°±ä¼šæ‰“å°é”™è¯¯ä¿¡æ¯ï¼šâ€œ<code>&lt;span&gt;</code>æ ‡ç­¾ç¼ºå°‘é—­åˆæ ‡ç­¾â€ã€‚</p><p><img src="https://raw.githubusercontent.com/caffreygo/static/main/blog/Vuejs3/parseTag2.png" alt=""></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isEnd</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> ancestors</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>context<span class="token punctuation">.</span>source<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>\n\n  <span class="token comment">// ä¸èŠ‚ç‚¹æ ˆå†…å…¨éƒ¨çš„èŠ‚ç‚¹æ¯”è¾ƒ</span>\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> ancestors<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ancestors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tag<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token boolean">true</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="highlight-lines"><br><br><br><br><div class="highlight-line">Â </div><br><br><br><br><br></div><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol><li>â€çŠ¶æ€æœº1â€é‡åˆ° div ä¼šå¼€å¯ä¸€ä¸ªâ€çŠ¶æ€æœº2â€ï¼›</li><li>æ¥ç€é‡åˆ° span å†å¼€å¯ä¸€ä¸ªâ€çŠ¶æ€æœº3â€ï¼›</li><li>â€çŠ¶æ€æœº3â€è¿™ä¸ªçŠ¶æ€æœºè§£ææ—¶é‡åˆ°äº†<code>&lt;/div&gt;</code>è¿™ä¸ªç»“æŸæ ‡ç­¾ï¼Œåœ¨èŠ‚ç‚¹æ ˆä¸­æ‰¾åˆ°äº†å­˜åœ¨åä¸º div çš„æ ‡ç­¾èŠ‚ç‚¹ã€‚äºæ˜¯çŠ¶æ€æœº3åœæ­¢ã€‚</li></ol><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œâ€œçŠ¶æ€æœº2â€åœ¨è°ƒç”¨<code>parseElement</code>å‡½æ•°æ—¶æ£€æµ‹åˆ°<code>&lt;span&gt;</code>ç¼ºå°‘é—­åˆæ ‡ç­¾ï¼Œæ‰“å°â€œ<code>&lt;span&gt;</code>ç¼ºå°‘é—­åˆæ ‡ç­¾â€ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">parseElement</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> ancestors</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token function">parseTag</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>isSelfClosing<span class="token punctuation">)</span> <span class="token keyword">return</span> element\n\n  ancestors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>\n  element<span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token function">parseChildren</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> ancestors<span class="token punctuation">)</span>\n  ancestors<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>element<span class="token punctuation">.</span>tag<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">parseTag</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token string">&#39;end&#39;</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>element<span class="token punctuation">.</span>tag<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> æ ‡ç­¾ç¼ºå°‘é—­åˆæ ‡ç­¾</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> element\n<span class="token punctuation">}</span>\n</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line">Â </div><br><br><br><br></div><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="è§£ææ ‡ç­¾èŠ‚ç‚¹" tabindex="-1"><a class="header-anchor" href="#è§£ææ ‡ç­¾èŠ‚ç‚¹" aria-hidden="true">#</a> è§£ææ ‡ç­¾èŠ‚ç‚¹</h2><p>åœ¨ä¸Šé¢ç»™å‡ºçš„<code>parseElement</code>å‡½æ•°çš„å®ç°ä¸­ï¼Œæ— è®ºæ˜¯è§£æå¼€å§‹æ ‡ç­¾è¿˜æ˜¯é—­åˆæ ‡ç­¾ï¼Œéƒ½è°ƒç”¨äº†<code>parseTag</code>å‡½æ•°ã€‚åŒæ—¶ï¼Œä½¿ç”¨<code>parseChildren</code>å‡½æ•°æ¥è§£æå¼€å§‹æ ‡ç­¾ä¸é—­åˆæ ‡ç­¾ä¸­é—´çš„éƒ¨åˆ†ã€‚</p><p><img src="https://raw.githubusercontent.com/caffreygo/static/main/blog/Vuejs3/parseTag.png" alt=""></p><p><code>parseTag</code>å‡½æ•°é€šè¿‡ç¬¬äºŒä¸ªå‚æ•°åŒºåˆ†å½“å‰è§£æçš„æ˜¯å¼€å§‹æ ‡ç­¾è¿˜æ˜¯é—­åˆæ ‡ç­¾ã€‚å¦å¤–ï¼Œæ— è®ºæ˜¯å¤„ç†çš„æ˜¯å“ªä¸ªæ ‡ç­¾ï¼Œè¯¥å‡½æ•°éƒ½ä¼šæ¶ˆè´¹å¯¹åº”çš„å†…å®¹ã€‚</p>',30),M=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parse"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"str"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// ä¸Šä¸‹æ–‡å¯¹è±¡"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" context "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// æ¨¡æ¿å†…å®¹"),(0,t.Uk)("\n    source"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(" str"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    mode"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(" TextModes"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token constant"},"DATA"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹æŒ‡å®šæ•°é‡çš„å­—ç¬¦"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token function"},"advanceBy"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"num"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"slice"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("num"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹ç©ºç™½å­—ç¬¦"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token function"},"advanceSpaces"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" match "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"^[\\t\\r\\n\\f ]+"),(0,t._)("span",{class:"token regex-delimiter"},"/")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("match"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"advanceBy"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("match"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" nodes "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseChildren"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    type"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Root'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    children"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(" nodes\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"highlight-lines"},[(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br")]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"25"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"26"),(0,t._)("br")])],-1),H=(0,t._)("p",null,"æ­£åˆ™æµ‹è¯•ï¼š",-1),L=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"^[\\t\\r\\n\\f ]+"),(0,t._)("span",{class:"token regex-delimiter"},"/")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token template-string"},[(0,t._)("span",{class:"token template-punctuation string"},"`"),(0,t._)("span",{class:"token string"},"   <div>"),(0,t._)("span",{class:"token template-punctuation string"},"`")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// ['   ', index: 0, input: '   <div>', groups: undefined]"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br")])],-1),B=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseTag"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" type "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'start'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" advanceBy"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" advanceSpaces "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context\n\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" match "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" type "),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'start'"),(0,t.Uk)("\n  \t"),(0,t._)("span",{class:"token comment"},"// åŒ¹é…å¼€å§‹æ ‡ç­¾"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token operator"},"?"),(0,t.Uk)(),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"^<([a-z][^\\t\\r\\n\\f />]*)"),(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-flags"},"i")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  \t"),(0,t._)("span",{class:"token comment"},"// åŒ¹é…ç»“æŸæ ‡ç­¾"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"^<\\/([a-z][^\\t\\r\\n\\f />]*)"),(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-flags"},"i")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  \n  "),(0,t._)("span",{class:"token comment"},"// è·å–åŒ¹é…çš„æ ‡ç­¾åç§°"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" tag "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" match"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹æ­£åˆ™åŒ¹é…çš„å…¨éƒ¨å†…å®¹ '<div'  '</div'"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token function"},"advanceBy"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("match"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹æ ‡ç­¾ä¸­æ— ç”¨çš„ç©ºç™½å­—ç¬¦"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token function"},"advanceSpaces"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" props "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseAttributes"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹å®ŒåŒ¹é…å†…å®¹ï¼Œåˆ¤æ–­å½“æ ‡ç­¾æ˜¯ä¸æ˜¯è‡ªé—­åˆæ ‡ç­¾"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" isSelfClosing "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"startsWith"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'/>'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹æ ‡ç­¾å…¨éƒ¨å†…å®¹"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token function"},"advanceBy"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("isSelfClosing "),(0,t._)("span",{class:"token operator"},"?"),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"2"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    type"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Element'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    tag"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("  "),(0,t._)("span",{class:"token comment"},"// æ ‡ç­¾å"),(0,t.Uk)("\n    props"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    children"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    isSelfClosing  "),(0,t._)("span",{class:"token comment"},"// æ˜¯ä¸æ˜¯è‡ªé—­åˆæ ‡ç­¾"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"25"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"26"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"27"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"28"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"29"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"30"),(0,t._)("br")])],-1),z=(0,t._)("p",null,"æ­£åˆ™æµ‹è¯•ï¼š",-1),q=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"^<([a-z][^\\t\\r\\n\\f />]*)"),(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-flags"},"i")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token template-string"},[(0,t._)("span",{class:"token template-punctuation string"},"`"),(0,t._)("span",{class:"token string"},"<div>hello</div>"),(0,t._)("span",{class:"token template-punctuation string"},"`")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// ['<div', 'div', index: 0, input: '<div>hello</div>', groups: undefined]"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token operator"},"/"),(0,t._)("span",{class:"token operator"},"^"),(0,t._)("span",{class:"token operator"},"<"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"["),(0,t.Uk)("a"),(0,t._)("span",{class:"token operator"},"-"),(0,t.Uk)("z"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token operator"},"^"),(0,t.Uk)("\\t\\r\\n\\f "),(0,t._)("span",{class:"token operator"},"/"),(0,t._)("span",{class:"token operator"},">"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token operator"},"*"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token operator"},"/"),(0,t.Uk)("i"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token template-string"},[(0,t._)("span",{class:"token template-punctuation string"},"`"),(0,t._)("span",{class:"token string"},"<div  >hello</div>"),(0,t._)("span",{class:"token template-punctuation string"},"`")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// ['<div', 'div', index: 0, input: '<div  >hello</div>', groups: undefined]"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token operator"},"/"),(0,t._)("span",{class:"token operator"},"^"),(0,t._)("span",{class:"token operator"},"<"),(0,t.Uk)("\\"),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"([a-z][^\\t\\r\\n\\f />]*)"),(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-flags"},"i")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token template-string"},[(0,t._)("span",{class:"token template-punctuation string"},"`"),(0,t._)("span",{class:"token string"},"</p><p></p>"),(0,t._)("span",{class:"token template-punctuation string"},"`")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// ['</p', 'p', index: 0, input: '</p><p></p>', groups: undefined]"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br")])],-1),V=(0,t._)("blockquote",null,[(0,t._)("p",null,[(0,t._)("code",null,"[^\\t\\r\\n\\f />]"),(0,t.Uk)(" åŒ¹é…éç©ºç™½ç¬¦ï¼Œéå­—ç¬¦ / å’Œå­—ç¬¦ >")])],-1),N=(0,t._)("ul",null,[(0,t._)("li",null,[(0,t._)("code",null,"parseTag"),(0,t.Uk)("å‡½æ•°æ—¢ç”¨äºè§£æå¼€å§‹æ ‡ç­¾ï¼Œä¹Ÿç”¨äºè§£æç»“æŸæ ‡ç­¾")]),(0,t._)("li",null,"é€šè¿‡æ­£åˆ™åŒ¹é…å½“å‰æ ‡ç­¾æ˜¯å¼€å§‹æ ‡ç­¾è¿˜æ˜¯ç»“æŸæ ‡ç­¾")],-1),O=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseElement"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" ancestors")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" element "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseTag"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("element"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("isSelfClosing"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" element\n\n  ancestors"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"push"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("element"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// åˆ‡æ¢åˆ°æ­£ç¡®çš„æ–‡æœ¬æ¨¡å¼"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("element"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("tag "),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'textarea'"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"||"),(0,t.Uk)(" element"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("tag "),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'title'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("mode "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" TextModes"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token constant"},"RCDATA"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"style|xmp|iframe|noembed|noframes|noscript"),(0,t._)("span",{class:"token regex-delimiter"},"/")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"test"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("element"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("tag"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("mode "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" TextModes"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token constant"},"RAWTEXT"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("mode "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" TextModes"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token constant"},"DATA"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n  element"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("children "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseChildren"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" ancestors"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  ancestors"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"pop"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\ns\n  "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"startsWith"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token template-string"},[(0,t._)("span",{class:"token template-punctuation string"},"`"),(0,t._)("span",{class:"token string"},"</"),(0,t._)("span",{class:"token interpolation"},[(0,t._)("span",{class:"token interpolation-punctuation punctuation"},"${"),(0,t.Uk)("element"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("tag"),(0,t._)("span",{class:"token interpolation-punctuation punctuation"},"}")]),(0,t._)("span",{class:"token template-punctuation string"},"`")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token function"},"parseTag"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'end'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    console"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"error"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token template-string"},[(0,t._)("span",{class:"token template-punctuation string"},"`"),(0,t._)("span",{class:"token interpolation"},[(0,t._)("span",{class:"token interpolation-punctuation punctuation"},"${"),(0,t.Uk)("element"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("tag"),(0,t._)("span",{class:"token interpolation-punctuation punctuation"},"}")]),(0,t._)("span",{class:"token string"}," æ ‡ç­¾ç¼ºå°‘é—­åˆæ ‡ç­¾"),(0,t._)("span",{class:"token template-punctuation string"},"`")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" element\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"highlight-lines"},[(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br")]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br")])],-1),P=(0,t._)("p",null,[(0,t.Uk)("ç»è¿‡"),(0,t._)("code",null,"parseTag"),(0,t.Uk)("çš„å¤„ç†ä¹‹åï¼Œä¼šè¿”å›ä¸€ä¸ªæ ‡ç­¾èŠ‚ç‚¹ã€‚"),(0,t._)("code",null,"parseElement"),(0,t.Uk)("å‡½æ•°åœ¨å¾—åˆ°ç”±"),(0,t._)("code",null,"parseTag"),(0,t.Uk)("å‡½æ•°äº§ç”Ÿçš„æ ‡ç­¾èŠ‚ç‚¹åï¼Œéœ€è¦æ ¹æ®èŠ‚ç‚¹çš„ç±»å‹å®Œæˆ"),(0,t._)("strong",null,"æ–‡æœ¬æ¨¡å¼çš„åˆ‡æ¢"),(0,t.Uk)("ã€‚")],-1),X=(0,t.uE)('<h2 id="è§£æå±æ€§" tabindex="-1"><a class="header-anchor" href="#è§£æå±æ€§" aria-hidden="true">#</a> è§£æå±æ€§</h2><p><code>parseTag</code>è§£æå‡½æ•°ä¼šæ¶ˆè´¹æ•´ä¸ªå¼€å§‹æ ‡ç­¾ï¼Œè¿™æ„å‘³ç€åŒæ—¶å®ƒè¿˜è¦èƒ½å¤Ÿå¤„ç†å¼€å§‹æ ‡ç­¾å­˜åœ¨çš„<strong>å±æ€§</strong>ä¸<strong>æŒ‡ä»¤</strong>ã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>foo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>display<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">å±æ€§å€¼çš„ä¸‰ç§æƒ…å†µ</p><ul><li>å±æ€§å€¼è¢«åŒå¼•å·åŒ…è£¹ï¼š<code>id=&quot;doo&quot;</code></li><li>å±æ€§å€¼è¢«å•å¼•å·åŒ…è£¹ï¼š<code>id=&#39;doo&#39;</code></li><li>å±æ€§å€¼æ²¡æœ‰å¼•å·åŒ…è£¹ï¼š<code>id=doo</code></li></ul></div>',4),G=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseTag"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" type "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'start'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" advanceBy"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" advanceSpaces "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context\n\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" match "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" type "),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'start'"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token operator"},"?"),(0,t.Uk)(),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"^<([a-z][^\\t\\r\\n\\f />]*)"),(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-flags"},"i")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"^<\\/([a-z][^\\t\\r\\n\\f />]*)"),(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-flags"},"i")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  \n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" tag "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" match"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹æ­£åˆ™åŒ¹é…çš„å…¨éƒ¨å†…å®¹ '<div'  '</div'"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token function"},"advanceBy"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("match"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹æ ‡ç­¾ä¸­æ— ç”¨çš„ç©ºç™½å­—ç¬¦"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token function"},"advanceSpaces"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// è§£æå±æ€§å’ŒæŒ‡ä»¤"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" props "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseAttributes"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹å®ŒåŒ¹é…å†…å®¹ï¼Œåˆ¤æ–­å½“æ ‡ç­¾æ˜¯ä¸æ˜¯è‡ªé—­åˆæ ‡ç­¾"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" isSelfClosing "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"startsWith"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'/>'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹æ ‡ç­¾å…¨éƒ¨å†…å®¹"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token function"},"advanceBy"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("isSelfClosing "),(0,t._)("span",{class:"token operator"},"?"),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"2"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    type"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Element'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    tag"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("  "),(0,t._)("span",{class:"token comment"},"// æ ‡ç­¾å"),(0,t.Uk)("\n    props"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    children"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    isSelfClosing  "),(0,t._)("span",{class:"token comment"},"// æ˜¯ä¸æ˜¯è‡ªé—­åˆæ ‡ç­¾"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"highlight-lines"},[(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br")]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"25"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"26"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"27"),(0,t._)("br")])],-1),$=(0,t._)("p",null,[(0,t.Uk)("æˆ‘ä»¬éœ€è¦åœ¨æ¶ˆè´¹æ ‡ç­¾çš„â€œå¼€å§‹éƒ¨åˆ†â€å’Œæ— ç”¨ç©ºç™½å­—ç¬¦ä¹‹åï¼Œå†è°ƒç”¨"),(0,t._)("code",null,"parseAttributes"),(0,t.Uk)("å‡½æ•°ã€‚")],-1),J=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// ..."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" tag "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" match"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"advanceBy"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("match"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"advanceSpaces"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\nconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("  "),(0,t._)("span",{class:"token comment"},'// id="foo" v-show="display" />'),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token function"},"parseAttributes"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br")])],-1),Q=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseAttributes"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"context"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" advanceBy"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" advanceSpaces "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" props "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token comment"},"// å¾ªç¯ä¸æ–­æ¶ˆè´¹æ¨¡æ¿å†…å®¹ï¼Œç›´è‡³é‡åˆ°æ ‡ç­¾çš„â€œç»“æŸéƒ¨åˆ†â€ä¸ºæ­¢"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"while"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token operator"},"!"),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"startsWith"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'>'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token operator"},"!"),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"startsWith"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'/>'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token comment"},"// åŒ¹é…å±æ€§åç§°"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" match "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"^[^\\t\\r\\n\\f />][^\\t\\r\\n\\f />=]*"),(0,t._)("span",{class:"token regex-delimiter"},"/")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" name "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" match"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n\n    "),(0,t._)("span",{class:"token function"},"advanceBy"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("name"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("  "),(0,t._)("span",{class:"token comment"},"// å±æ€§å"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token function"},"advanceSpaces"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("  "),(0,t._)("span",{class:"token comment"},"// å±æ€§åä¸ç­‰äºå·ä¹‹é—´çš„ç©ºç™½å­—ç¬¦"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token function"},"advanceBy"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("  "),(0,t._)("span",{class:"token comment"},"// ç­‰äºå·"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token function"},"advanceSpaces"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("  "),(0,t._)("span",{class:"token comment"},"// ç­‰äºå·ä¸å±æ€§å€¼ä¹‹é—´çš„ç©ºç™½ç¬¦"),(0,t.Uk)("\n\n    "),(0,t._)("span",{class:"token keyword"},"let"),(0,t.Uk)(" value "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"''"),(0,t.Uk)("  "),(0,t._)("span",{class:"token comment"},"// å±æ€§å€¼"),(0,t.Uk)("\n\n    "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" quote "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" isQuoted "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" quote "),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'\"'"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"||"),(0,t.Uk)(" quote "),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},'"\'"'),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("isQuoted"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token comment"},"// å±æ€§å€¼è¢«å¼•å·åŒ…è£¹ï¼Œæ¶ˆè´¹å¼•å·"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token function"},"advanceBy"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" endQuoteIndex "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"indexOf"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("quote"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("endQuoteIndex "),(0,t._)("span",{class:"token operator"},">"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"-"),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},"// è·å–å±æ€§å€¼å¹¶æ¶ˆè´¹"),(0,t.Uk)("\n        value "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"slice"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" endQuoteIndex"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token function"},"advanceBy"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("value"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token function"},"advanceBy"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("  "),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹å¼•å·"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        console"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"error"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'ç¼ºå°‘å¼•å·'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token comment"},"// å±æ€§å€¼æœªè¢«å¼•å·åŒ…è£¹"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token comment"},"// ä¸‹ä¸€ä¸ªç©ºç™½å­—ç¬¦ä¹‹å‰çš„å†…å®¹å…¨éƒ¨ä½œä¸ºå±æ€§å€¼"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" match "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"^[^\\t\\r\\n\\f >]+"),(0,t._)("span",{class:"token regex-delimiter"},"/")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      value "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" match"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token function"},"advanceBy"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("value"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n    "),(0,t._)("span",{class:"token function"},"advanceSpaces"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("  "),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹å±æ€§å€¼åé¢çš„ç©ºç™½å­—ç¬¦"),(0,t.Uk)("\n\n    props"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"push"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      type"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Attribute'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n      name"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n      value\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" props\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"25"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"26"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"27"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"28"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"29"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"30"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"31"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"32"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"33"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"34"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"35"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"36"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"37"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"38"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"39"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"40"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"41"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"42"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"43"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"44"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"45"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"46"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"47"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"48"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"49"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"50"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"51"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"52"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"53"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"54"),(0,t._)("br")])],-1),F=(0,t._)("p",null,[(0,t._)("code",null,"parseAttributes"),(0,t.Uk)("å‡½æ•°æ¶ˆè´¹æ¨¡æ¿å†…å®¹çš„è¿‡ç¨‹ï¼Œå°±æ˜¯ä¸æ–­åœ°è§£æå±æ€§åç§°ã€ç­‰äºå·ã€å±æ€§å€¼çš„è¿‡ç¨‹ã€‚")],-1),Y=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// å±æ€§åç§°åŒ¹é…"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token operator"},"/"),(0,t._)("span",{class:"token operator"},"^"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token operator"},"^"),(0,t.Uk)("\\t\\r\\n\\f "),(0,t._)("span",{class:"token operator"},"/"),(0,t._)("span",{class:"token operator"},">"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token operator"},"^"),(0,t.Uk)("\\t\\r\\n\\f "),(0,t._)("span",{class:"token operator"},"/"),(0,t._)("span",{class:"token operator"},">="),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token operator"},"*"),(0,t._)("span",{class:"token operator"},"/"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token template-string"},[(0,t._)("span",{class:"token template-punctuation string"},"`"),(0,t._)("span",{class:"token string"},'id="123"'),(0,t._)("span",{class:"token template-punctuation string"},"`")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// ['id', index: 0, input: 'id=\"123\"', groups: undefined]"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// æ²¡æœ‰å¼•å·åŒ…è£¹çš„å±æ€§å€¼åŒ¹é…1"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token operator"},"/"),(0,t._)("span",{class:"token operator"},"^"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token operator"},"^"),(0,t.Uk)("\\t\\r\\n\\f "),(0,t._)("span",{class:"token operator"},">"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token operator"},"+"),(0,t._)("span",{class:"token operator"},"/"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token template-string"},[(0,t._)("span",{class:"token template-punctuation string"},"`"),(0,t._)("span",{class:"token string"},"val name='jhon'"),(0,t._)("span",{class:"token template-punctuation string"},"`")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// ['val', index: 0, input: \"val name='jhon'\", groups: undefined]"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br")])],-1),K=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"//  <div"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},'//    id="foo"'),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},'//    v-show="display"'),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},'//    @click=""handler"'),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},'//    v-on:mousedown="onMouseDown">'),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"//  </div>"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" ast "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  type"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Root'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  chidlren"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      type"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Element'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n      tag"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'div'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n      props"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" type"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Attribute'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" name"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'id'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" value"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'foo'"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" type"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Attribute'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" name"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'v-show'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" value"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'display'"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" type"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Attribute'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" name"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'@click'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" value"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'handler'"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" type"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Attribute'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" name"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'v-on:mousedown'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" value"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'onMouseDown'"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br")])],-1),Z=(0,t._)("blockquote",null,[(0,t._)("p",null,[(0,t.Uk)("æˆ‘ä»¬å¯ä»¥çµæ´»åœ°è§£æå‡ºå±æ€§çš„ç±»å‹ï¼Œæ¯”å¦‚æŒ‡ä»¤å¯ä»¥æŒ‡å®š"),(0,t._)("code",null,"type = Directive")])],-1),nn=(0,t.uE)('<h2 id="è§£ææ–‡æœ¬ä¸è§£æ-html-å®ä½“" tabindex="-1"><a class="header-anchor" href="#è§£ææ–‡æœ¬ä¸è§£æ-html-å®ä½“" aria-hidden="true">#</a> è§£ææ–‡æœ¬ä¸è§£æ HTML å®ä½“</h2><div class="custom-container tip"><p class="custom-container-title">âœ… æ¦‚è§ˆ</p><p>è§£ææ–‡æœ¬èŠ‚ç‚¹å¹¶ä¸å¤æ‚ï¼Œå®ƒçš„å¤æ‚ç‚¹åœ¨äºï¼Œæˆ‘ä»¬éœ€è¦å¯¹è§£æåçš„æ–‡æœ¬å†…å®¹è¿›è¡Œ HTML å®ä½“çš„è§£ç å·¥ä½œã€‚WHATWG è§„èŒƒä¸­ä¹Ÿå®šä¹‰äº†è§£ç  HTML å®ä½“è¿‡ç¨‹ä¸­çš„çŠ¶æ€è¿ç§»è¿‡ç¨‹ã€‚HTML å®ä½“ç±»å‹æœ‰ä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯å‘½åå­—ç¬¦å¼•ç”¨å’Œæ•°å­—å­—ç¬¦å¼•ç”¨ã€‚å‘½åå­—ç¬¦å¼•ç”¨çš„è§£ç æ–¹å¼å¯ä»¥æ€»ç»“ä¸ºä¸¤ç§ã€‚</p><ul><li>å½“å­˜åœ¨åˆ†å·æ—¶ï¼šæ‰§è¡Œå®Œæ•´åŒ¹é…ã€‚</li><li>å½“çœç•¥åˆ†å·æ—¶ï¼šæ‰§è¡Œæœ€çŸ­åŒ¹é…ã€‚</li></ul><p>å¯¹äºæ•°å­—å­—ç¬¦å¼•ç”¨ï¼Œåˆ™æŒ‰ç…§ WHATWG è§„èŒƒä¸­å®šä¹‰çš„è§„åˆ™é€æ­¥å®ç°ã€‚</p></div><h3 id="è§£ææ–‡æœ¬" tabindex="-1"><a class="header-anchor" href="#è§£ææ–‡æœ¬" aria-hidden="true">#</a> è§£ææ–‡æœ¬</h3><p>å½“è§£æä¸‹é¢è¿™ä¸ªæ¨¡æ¿æ—¶ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> template <span class="token operator">=</span> <span class="token string">&#39;&lt;div&gt;Text&lt;/div&gt;&#39;</span>\n<span class="token comment">// parseTag &#39;&lt;div&gt;&#39;</span>\n<span class="token keyword">const</span> templaye <span class="token operator">=</span> <span class="token string">&#39;Text&lt;/div&gt;&#39;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ç´§æ¥ç€ï¼Œè§£æå™¨ä¼šè°ƒç”¨<code>parseChildren</code>å¼€å¯ä¸€ä¸ªæ–°çš„çŠ¶æ€æœºæ¥å¤„ç†è¿™æ®µæ¨¡æ¿ã€‚çŠ¶æ€æœºçš„è¿ç§»è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/caffreygo/static/main/blog/Vuejs3/parseText.png" alt=""></p><p>è§£æå™¨ä¼šåœ¨æ¨¡æ¿ä¸­å¯»æ‰¾ä¸‹ä¸€ä¸ª<code>&lt;</code>å­—ç¬¦æˆ–æ’å€¼å®šç•Œç¬¦çš„ä½ç½®ç´¢å¼•ï¼Œè®°ä¸ºç´¢å¼• I ã€‚ç„¶åï¼Œè§£æå™¨ä¼šä»æ¨¡æ¿å¤´éƒ¨åˆ°ç´¢å¼• I çš„ä½ç½®æˆªå–å†…å®¹ï¼Œè¿™æ®µæˆªå–å‡ºæ¥çš„å­—ç¬¦ä¸²å°†ä½œä¸ºæ–‡æœ¬èŠ‚ç‚¹çš„å†…å®¹ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> template <span class="token operator">=</span> <span class="token string">&#39;Text&lt;/div&gt;&#39;</span>  <span class="token comment">// Text  &lt;</span>\n<span class="token keyword">const</span> template1 <span class="token operator">=</span> <span class="token string">&#39;Text-{{ val }}&lt;/div&gt;&#39;</span>  <span class="token comment">// Text-  {{</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>',9),sn=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseText"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"context"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// endIndex ä¸ºæ–‡æœ¬å†…å®¹çš„ç»“å°¾ç´¢å¼•ï¼Œé»˜è®¤ä¸ºæ•´ä¸ªæ¨¡æ¿å‰©ä½™å†…å®¹"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"let"),(0,t.Uk)(" endIndex "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" ltIndex "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"indexOf"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'<'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" delimiterIndex "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"indexOf"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'{{'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  \n  "),(0,t._)("span",{class:"token comment"},"// å– ItIndex å’Œå½“å‰ endIndex ä¸­è¾ƒå°çš„ä¸€ä¸ªä½œä¸ºæ–°çš„ç»“å°¾ç´¢å¼•"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("ltIndex "),(0,t._)("span",{class:"token operator"},">"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"-"),(0,t._)("span",{class:"token number"},"1"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)(" ltIndex "),(0,t._)("span",{class:"token operator"},"<"),(0,t.Uk)(" endIndex"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    endIndex "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" ltIndex\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// å– delimiterIndex å’Œå½“å‰ endIndex ä¸­è¾ƒå°çš„ä¸€ä¸ªä½œä¸ºæ–°çš„ç»“å°¾ç´¢å¼•"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("delimiterIndex "),(0,t._)("span",{class:"token operator"},">"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"-"),(0,t._)("span",{class:"token number"},"1"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)(" delimiterIndex "),(0,t._)("span",{class:"token operator"},"<"),(0,t.Uk)(" endIndex"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    endIndex "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" delimiterIndex\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// æˆªå–æ–‡æœ¬å†…å®¹"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" content "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"slice"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" endIndex"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹æ–‡æœ¬"),(0,t.Uk)("\n  context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"advanceBy"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("content"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    type"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Text'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    content"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"decodeHtml"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("content"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br")])],-1),an=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// const ast = parse(`<div>Text</div>`)"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" ast "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  type"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Root'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  chidlren"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      type"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Element'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n      tag"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'div'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n      props"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n      isSelfClosing"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token boolean"},"false"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n      children"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},"// æ–‡æœ¬èŠ‚ç‚¹"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" type"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Text'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" content"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Text'"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br")])],-1),tn=(0,t._)("p",null,"æ–‡æœ¬èŠ‚ç‚¹çš„è§£æå¹¶ä¸å¤æ‚ï¼Œå¤æ‚ç‚¹åœ¨äºï¼Œæˆ‘ä»¬éœ€è¦å¯¹è§£æåçš„æ–‡æœ¬è¿›è¡Œ HTML å®ä½“çš„è§£ç å·¥ä½œã€‚",-1),en=(0,t._)("h3",{id:"è§£ç å‘½åå­—ç¬¦çš„å¼•ç”¨",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#è§£ç å‘½åå­—ç¬¦çš„å¼•ç”¨","aria-hidden":"true"},"#"),(0,t.Uk)(" è§£ç å‘½åå­—ç¬¦çš„å¼•ç”¨")],-1),pn=(0,t._)("p",null,[(0,t._)("img",{src:"https://raw.githubusercontent.com/caffreygo/static/main/blog/Vuejs3/decodeHtml.png",alt:""})],-1),on={class:"custom-container details"},cn=(0,t.uE)('<summary>HTML å®ä½“</summary><p>HTML å®ä½“æ˜¯ä¸€æ®µä»¥å­—ç¬¦&amp;å¼€å§‹çš„æ–‡æœ¬å†…å®¹ã€‚å®ä½“ç”¨æ¥æè¿° HTML ä¸­çš„ä¿ç•™å­—ç¬¦å’Œä¸€äº›éš¾ä»¥é€šè¿‡æ™®é€šé”®ç›˜è¾“äººçš„å­—ç¬¦ï¼Œä»¥åŠä¸€äº›ä¸å¯è§çš„å®‡ç¬¦ã€‚ä¾‹å¦‚ï¼Œåœ¨ HTML ä¸­ï¼Œå­—ç¬¦ï¼œå…·æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œå¦‚æœå¸Œæœ›ä»¥æ™®é€šæ–‡æœ¬çš„æ–¹å¼æ¥æ˜¾ç¤ºå®‡ç¬¦ï¼œï¼Œéœ€è¦é€šè¿‡å®ä½“æ¥è¡¨è¾¾ï¼š</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>A<span class="token entity named-entity" title="&lt;">&amp;lt;</span>B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>å…¶ä¸­å­—ç¬¦ä¸² <code>&amp;1tï¼›</code>å°±æ˜¯ä¸€ä¸ª HTML å®ä½“ï¼Œç”¨æ¥è¡¨ç¤ºå­—ç¬¦ï¼œã€‚å¦‚æœæˆ‘ä»¬ä¸ç”¨ HTML å®ä½“ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨å­—ç¬¦ï¼œï¼Œé‚£ä¹ˆå°†ä¼šäº§ç”Ÿéæ³•çš„ HTML å†…å®¹ï¼š</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>A&lt;B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>âš¡ï¸ è¿™ä¼šå¯¼è‡´æµè§ˆå™¨çš„è§£æç»“æœä¸ç¬¦åˆé¢„æœŸã€‚</p><blockquote><p>HTML å®ä½“æ€»æ˜¯ä»¥å­—ç¬¦ &amp; å¼€å¤´ï¼Œä»¥å­—ç¬¦ ; ç»“å°¾ã€‚åœ¨webè¯ç”Ÿçš„åˆæœŸï¼ŒHTML å®ä½“çš„æ•°é‡è¾ƒå°‘ï¼Œå› æ­¤å…è®¸çœç•¥å…¶ä¸­çš„å°¾åˆ†å·ã€‚ä½†éšç€ HTML å®‡ç¬¦é›†è¶Šæ¥è¶Šå¤§ï¼ŒHTML å®ä½“å‡ºç°äº†åŒ…å«çš„æƒ…å†µï¼Œä¾‹å¦‚ <code>&amp;lt</code> å’Œ <code>&amp;ltcc</code> éƒ½æ˜¯åˆæ³•çš„å®ä½“ï¼Œå¦‚æœä¸åŠ åˆ†å·ï¼Œæµ‹è§ˆå™¨å°†æ— æ³•åŒºåˆ†å®ƒä»¬ã€‚å› æ­¤ï¼ŒWHATWGè§„èŒƒä¸­æ˜ç¡®è§„å®šï¼Œå¦‚æœä¸ä¸ºå®ä½“åŠ åˆ†å·ï¼Œå°†ä¼šäº§ç”Ÿè§£æé”™è¯¯ã€‚ä½†è€ƒè™‘åˆ°å†å²åŸå› (äº’è”ç½‘ä¸Šå­˜åœ¨å¤§é‡çœç•¥åˆ†å·çš„æƒ…æ³ï¼‰ï¼Œç°ä»£æµè§ˆå™¨éƒ½èƒ½å¤Ÿè§£ææ—©æœŸè§„èŒƒä¸­å®šä¹‰çš„é‚£äº›å¯ä»¥çœç•¥åˆ†å·çš„ HTML å®ä½“ã€‚</p></blockquote>',7),ln={class:"custom-container tip"},rn=(0,t._)("p",{class:"custom-container-title"},"HTML å®ä½“",-1),un=(0,t._)("p",null,[(0,t.Uk)("å‘½åå­—ç¬¦å¼•ç”¨ï¼ˆnamed character referenceï¼‰ï¼Œä¹Ÿå«å‘½åå®ä½“ï¼ˆnamed entityï¼‰ã€‚é¡¾åæ€ä¹‰ï¼Œè¿™ç±»å®ä½“å…·æœ‰ç‰¹å®šçš„åç§°ï¼Œä¾‹å¦‚"),(0,t._)("code",null,"$lt;"),(0,t.Uk)("ã€‚")],-1),kn=(0,t.Uk)("ğŸŒ "),_n={href:"https://html.spec.whatwg.org/multipage/named-characters.html#named-character-references",target:"_blank",rel:"noopener noreferrer"},bn=(0,t.Uk)("named character reference (opens new window)"),mn=(0,t.uE)("<li><p>æ•°å­—å­—ç¬¦å¼•ç”¨ï¼ˆnumeric character referenceï¼‰ã€‚å®ƒä»¬æ²¡æœ‰ç‰¹å®šçš„åç§°ï¼Œåªèƒ½ç”¨æ•°å­—è¡¨ç¤ºã€‚</p><p>ä¸å‘½åå­—ç¬¦å¼•ç”¨ç”¨ä¸åŒï¼Œæ•°å­—å­—ç¬¦å¼•ç”¨ä»¥å®‡ç¬¦ <code>&amp;#</code> å¼€å¤´ï¼Œæ¯”å‘½åå­—ç¬¦å¼•ç”¨çš„å¼€å¤´éƒ¨åˆ†å¤šå‡ºäº†å­—ç¬¦ #ï¼Œä¾‹å¦‚<code>&amp;#60;</code>ã€‚å®é™…ä¸Šï¼Œ<code>&amp;#60;</code>å¯¹åº”çš„å­—ç¬¦ä¹Ÿæ˜¯ &lt;ï¼Œæ¢å¥è¯è¯´ï¼Œ<code>ï¼†#60;</code>ä¸<code>&amp;lt;</code>æ˜¯ç­‰ä»·çš„ã€‚æ•°å­—å­—ç¬¦å¼•ç”¨æ—¢å¯ä»¥ç”¨åè¿›åˆ¶æ¥è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åå…­è¿›åˆ¶æ¥è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼Œåè¿›åˆ¶æ•°å­— 60 å¯¹åº”çš„åå…­è¿›åˆ¶å€¼ä¸º 3Cï¼Œå› æ­¤å®ä½“ <code>&amp;#60;</code>ä¹Ÿå¯ä»¥è¡¨ç¤ºä¸º <code>&amp;#x3c;</code>ã€‚å¯ä»¥çœ‹åˆ°ï¼Œå½“ä½¿ç”¨åå…­è¿›åˆ¶æ•°è¡¨ç¤ºå®ä½“æ—¶ï¼Œéœ€è¦ä»¥å­—ç¬¦ä¸²<code>&amp;#x</code> å¼€å¤´ã€‚</p></li>",1),dn=(0,t.uE)('<div class="custom-container warning"><p class="custom-container-title">ä¸ºä»€ä¹ˆ Vue.js æ¨¡æ¿çš„è§£æå™¨è¦å¯¹æ–‡æœ¬èŠ‚ç‚¹ä¸­çš„ HTML å®ä½“è¿›è¡Œè§£ç ï¼Ÿ</p><p>åœ¨ Vue.js æ¨¡æ¿ä¸­ï¼Œæ–‡æœ¬èŠ‚ç‚¹æ‰€åŒ…å«çš„ HTML å®ä½“ä¸ä¼šè¢«æµè§ˆå™¨è§£æã€‚è¿™æ˜¯å› ä¸ºæ¨¡æ¿ä¸­çš„æ–‡æœ¬èŠ‚ç‚¹æœ€ç»ˆå°†é€šè¿‡å¦‚ <code>el.textcontent</code>ç­‰æ“ä½œæ–¹æ³•è®¾ç½®åˆ°é¡µé¢ï¼Œè€Œé€šè¿‡<code>el.textContent</code>è®¾ç½®çš„æ–‡æœ¬å†…å®¹æ˜¯ä¸ä¼šç»è¿‡ HTML å®ä½“è§£ç çš„ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>el<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&#39;&amp;lt;&#39;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>âœ… æœ€ç»ˆ el çš„æ–‡æœ¬å†…å®¹å°†ä¼š<strong>åŸå°ä¸åŠ¨</strong>åœ°å‘ˆç°ä¸ºå­—ç¬¦ä¸²<code>&#39;&amp;lt;&#39;</code>ï¼Œè¿™æ„å‘³ç€ç”¨æˆ·åœ¨ Vue.js æ¨¡æ¿ä¸­å†™äº† HTML å®ä½“ï¼Œè€Œæ¨¡æ¿è§£æå™¨æ¸²æŸ“çš„å†…å®¹ä¸ç¬¦åˆç”¨æˆ·é¢„æœŸã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨è§£æé˜¶æ®µå¯¹æ–‡æœ¬èŠ‚ç‚¹ä¸­å­˜åœ¨çš„ HTML å®ä½“è¿›è¡Œè§£ç ã€‚</p></div>',1),Un=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" namedCharacterReferences "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token string"},'"gt"'),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},'">"'),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token string"},'"gt;"'),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},'">"'),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token string"},'"lt"'),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},'"<"'),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token string"},'"lt;"'),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},'"<"'),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token string"},'"ltcc;"'),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},'"âª¦"'),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br")])],-1),gn=(0,t._)("p",null,"ä»¥ä¸Šæ˜¯ä¸€ä¸ªéƒ¨åˆ†å‘½åå­—ç¬¦å¼•ç”¨è¡¨ï¼Œç›¸åŒçš„å­—ç¬¦å¯¹åº”çš„å®ä½“ä¼šæœ‰å¤šä¸ªï¼Œæ—¢æœ‰å¸¦åˆ†å·çš„ï¼Œä¹Ÿæœ‰ä¸å¸¦åˆ†å·çš„ã€‚è€Œæœ‰ä¸€äº›åˆ™åªæœ‰å¸¦åˆ†å·çš„ç‰ˆæœ¬ï¼Œå› ä¸ºè¿™äº›å®ä½“ä¸å…è®¸çœç•¥åˆ†å·ã€‚",-1),hn=(0,t._)("ul",null,[(0,t._)("li",null,"å½“å­˜åœ¨åˆ†å·æ—¶ï¼šæ‰§è¡Œå®Œæ•´åŒ¹é…"),(0,t._)("li",null,"å½“çœç•¥åˆ†å·æ—¶ï¼šæ‰§è¡Œæœ€çŸ­åŒ¹é…")],-1),xn=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"decodeHtml"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("rawText"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" asAttr "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token boolean"},"false")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"let"),(0,t.Uk)(" offset "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" end "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" rawText"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length\n  "),(0,t._)("span",{class:"token keyword"},"let"),(0,t.Uk)(" decodedText "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"''"),(0,t.Uk)("  "),(0,t._)("span",{class:"token comment"},"// è§£ç åçš„è¿”å›å€¼"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"let"),(0,t.Uk)(" maxCRNameLength "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"advance"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    offset "),(0,t._)("span",{class:"token operator"},"+="),(0,t.Uk)(" length\n    rawText "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" rawText"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"slice"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹å­—ç¬¦ä¸²ï¼Œç›´åˆ°å¤„ç†å®Œä¸ºæ­¢"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"while"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("offset "),(0,t._)("span",{class:"token operator"},"<"),(0,t.Uk)(" end"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" head "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"&(?:#x?)?"),(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-flags"},"i")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("rawText"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// æ²¡æœ‰åŒ¹é…åˆ°å†…å®¹ï¼Œè¯´æ˜æ²¡æœ‰éœ€è¦è§£ç çš„å†…å®¹ï¼Œç›´æ¥æ¶ˆè´¹"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token operator"},"!"),(0,t.Uk)("head"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" remaining "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" end "),(0,t._)("span",{class:"token operator"},"-"),(0,t.Uk)(" offset\n      decodedText "),(0,t._)("span",{class:"token operator"},"+="),(0,t.Uk)(" rawText"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"slice"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" remaining"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token function"},"advance"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("remaining"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"break"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹ & å­—ç¬¦ä¹‹å‰çš„æ™®é€šæ–‡æœ¬"),(0,t.Uk)("\n    decodedText "),(0,t._)("span",{class:"token operator"},"+="),(0,t.Uk)(" rawText"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"slice"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" head"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("index"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token function"},"advance"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("head"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("index"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n    "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("head"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'&'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token comment"},"// å‘½åå­—ç¬¦å¼•ç”¨ï¼Œå¦åˆ™ä¸ºæ•°å­—å­—ç¬¦å¼•ç”¨"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"let"),(0,t.Uk)(" name "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"''"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"let"),(0,t.Uk)(" value\n      "),(0,t._)("span",{class:"token comment"},"// å­—ç¬¦ & çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å¿…é¡»æ˜¯ ASCII å­—æ¯æˆ–æ•°å­—ï¼Œè¿™æ‰æ˜¯åˆæ³•çš„å‘½åå­—ç¬¦å¼•ç”¨"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"[0-9a-z]"),(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-flags"},"i")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"test"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("rawText"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},"// æ ¹æ®å¼•ç”¨è¡¨è®¡ç®—å®ä½“åç§°çš„æœ€å¤§é•¿åº¦"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token operator"},"!"),(0,t.Uk)("maxCRNameLength"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          maxCRNameLength "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" Object"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"keys"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("namedCharacterReferences"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"reduce"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("\n            "),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("max"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" name")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(" Math"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"max"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("max"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" name"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n            "),(0,t._)("span",{class:"token number"},"0"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},"// ä»æœ€å¤§é•¿åº¦è¿›è¡Œå°è¯•æˆªå–åŒ¹é…"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token keyword"},"for"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"let"),(0,t.Uk)(" length "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" maxCRNameLength"),(0,t._)("span",{class:"token punctuation"},";"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"!"),(0,t.Uk)("value "),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)(" length "),(0,t._)("span",{class:"token operator"},">"),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},";"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"--"),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          name "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" rawText"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"substr"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n          value "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("namedCharacterReferences"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"["),(0,t.Uk)("name"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},"// æ‰¾åˆ°å¯¹åº”é¡¹çš„å€¼ï¼ŒåŒ¹é…æˆåŠŸ"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("value"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        \t"),(0,t._)("span",{class:"token comment"},"// æ£€æŸ¥å®ä½“åç§°çš„æœ€åä¸€ä¸ªå­—ç¬¦æ˜¯ä¸æ˜¯åˆ†å·"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" semi "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" name"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"endsWith"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"';'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token comment"},"// å¦‚æœè§£ç çš„æ–‡æœ¬ä½œä¸ºå±æ€§å€¼ï¼Œæœ€åä¸€ä¸ªåŒ¹é…å­—ç¬¦ä¸æ˜¯åˆ†å·"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token comment"},"// å¹¶ä¸”æœ€åä¸€ä¸ªåŒ¹é…å­—ç¬¦çš„ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯ç­‰äºå·ï¼ˆ=ï¼‰ã€ASCII å­—æ¯æˆ–æ•°å­—"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token comment"},'// ç”±äºå†å²åŸå› ï¼Œå°†å­—ç¬¦ & å’Œå®ä½“åç§° name ä½œä¸ºæ™®é€šæ–‡æœ¬  href="foo.com?a=1&lt=2"'),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("\n            asAttr "),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)("\n            "),(0,t._)("span",{class:"token operator"},"!"),(0,t.Uk)("semi "),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)("\n            "),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"[=a-z0-9]"),(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-flags"},"i")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"test"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("rawText"),(0,t._)("span",{class:"token punctuation"},"["),(0,t.Uk)("name"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length "),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"||"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"''"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n            decodedText "),(0,t._)("span",{class:"token operator"},"+="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'&'"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" name\n            "),(0,t._)("span",{class:"token function"},"advance"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"1"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" name"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n            "),(0,t._)("span",{class:"token comment"},"// å…¶ä»–æƒ…å†µä¸‹ï¼Œä½¿ç”¨è§£ç åçš„å†…å®¹æ‹¼æ¥åˆ° decodedText ä¸Š"),(0,t.Uk)("\n            decodedText "),(0,t._)("span",{class:"token operator"},"+="),(0,t.Uk)(" value\n            "),(0,t._)("span",{class:"token function"},"advance"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"1"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" name"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          decodedText "),(0,t._)("span",{class:"token operator"},"+="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'&'"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" name\n          "),(0,t._)("span",{class:"token function"},"advance"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"1"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" name"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},"// å¦‚æœæ²¡æ‰¾åˆ°å¯¹åº”å­—ç¬¦ï¼Œè¯´æ˜è§£ç å¤±è´¥"),(0,t.Uk)("\n        decodedText "),(0,t._)("span",{class:"token operator"},"+="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'&'"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token function"},"advance"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(" \n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" decodedText\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"highlight-lines"},[(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br")]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"25"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"26"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"27"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"28"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"29"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"30"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"31"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"32"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"33"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"34"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"35"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"36"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"37"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"38"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"39"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"40"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"41"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"42"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"43"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"44"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"45"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"46"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"47"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"48"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"49"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"50"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"51"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"52"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"53"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"54"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"55"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"56"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"57"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"58"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"59"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"60"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"61"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"62"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"63"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"64"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"65"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"66"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"67"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"68"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"69"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"70"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"71"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"72"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"73"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"74"),(0,t._)("br")])],-1),vn=(0,t._)("p",null,"æ­£åˆ™æµ‹è¯•ï¼š",-1),fn=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"&(?:#x?)?"),(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-flags"},"i")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token template-string"},[(0,t._)("span",{class:"token template-punctuation string"},"`"),(0,t._)("span",{class:"token string"},"hello &lt;"),(0,t._)("span",{class:"token template-punctuation string"},"`")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// ['&', index: 6, input: 'hello &lt;', groups: undefined]"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br")])],-1),yn=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"parseText"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"context"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// endIndex ä¸ºæ–‡æœ¬å†…å®¹çš„ç»“å°¾ç´¢å¼•ï¼Œé»˜è®¤ä¸ºæ•´ä¸ªæ¨¡æ¿å‰©ä½™å†…å®¹"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"let"),(0,t.Uk)(" endIndex "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" ltIndex "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"indexOf"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'<'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" delimiterIndex "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"indexOf"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'{{'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  \n  "),(0,t._)("span",{class:"token comment"},"// å– ItIndex å’Œå½“å‰ endIndex ä¸­è¾ƒå°çš„ä¸€ä¸ªä½œä¸ºæ–°çš„ç»“å°¾ç´¢å¼•"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("ltIndex "),(0,t._)("span",{class:"token operator"},">"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"-"),(0,t._)("span",{class:"token number"},"1"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)(" ltIndex "),(0,t._)("span",{class:"token operator"},"<"),(0,t.Uk)(" endIndex"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    endIndex "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" ltIndex\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// å– delimiterIndex å’Œå½“å‰ endIndex ä¸­è¾ƒå°çš„ä¸€ä¸ªä½œä¸ºæ–°çš„ç»“å°¾ç´¢å¼•"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("delimiterIndex "),(0,t._)("span",{class:"token operator"},">"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"-"),(0,t._)("span",{class:"token number"},"1"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)(" delimiterIndex "),(0,t._)("span",{class:"token operator"},"<"),(0,t.Uk)(" endIndex"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    endIndex "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" delimiterIndex\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// æˆªå–æ–‡æœ¬å†…å®¹"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" content "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("source"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"slice"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" endIndex"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹æ–‡æœ¬"),(0,t.Uk)("\n  context"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"advanceBy"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("content"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    type"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Text'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    content"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"decodeHtml"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("content"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"highlight-lines"},[(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("br"),(0,t._)("br")]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br")])],-1),wn=(0,t.uE)('<h3 id="è§£ç æ•°å­—å­—ç¬¦" tabindex="-1"><a class="header-anchor" href="#è§£ç æ•°å­—å­—ç¬¦" aria-hidden="true">#</a> è§£ç æ•°å­—å­—ç¬¦</h3><p>ä¸Šé¢ä»£ç ä½¿ç”¨ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…ä¸€ä¸ªæ–‡æœ¬ä¸­å­—ç¬¦å¼•ç”¨çš„å¼€å§‹éƒ¨åˆ†ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> head <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&amp;(?:#x?)?</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>rawText<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>æˆ‘ä»¬å¯ä»¥æ ¹æ®æ­£åˆ™åŒ¹é…ç»“æœæ¥åˆ¤æ–­å­—ç¬¦å¼•ç”¨çš„ç±»å‹ï¼š</p><ul><li>å¦‚æœ<code>head[0] === &#39;&amp;&#39;</code>ï¼Œåˆ™è¯´æ˜åŒ¹é…çš„æ˜¯å‘½åå­—ç¬¦å¼•ç”¨ã€‚</li><li>å¦‚æœ<code>head[0] === &#39;&amp;#&#39;</code>ï¼Œåˆ™è¯´æ˜åŒ¹é…çš„æ˜¯ä»¥åè¿›åˆ¶è¡¨ç¤ºçš„æ•°å­—å­—ç¬¦å¼•ç”¨ã€‚</li><li>å¦‚æœ<code>head[0] === &#39;&amp;#x&#39;</code>ï¼Œåˆ™è¯´æ˜åŒ¹é…çš„æ˜¯ä»¥åå…­è¿›åˆ¶è¡¨ç¤ºçš„æ•°å­—å­—ç¬¦å¼•ç”¨ã€‚</li></ul>',5),Tn=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// åˆ¤æ–­æ˜¯åè¿›åˆ¶è¡¨ç¤ºè¿˜æ˜¯åå…­è¿›åˆ¶è¡¨ç¤º"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" hex "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" head"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'&#x'"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// æ ¹æ®ä¸åŒè¿›åˆ¶è¡¨ç¤ºæ³•ï¼Œé€‰ç”¨ä¸åŒçš„æ­£åˆ™"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" pattern "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" hex "),(0,t._)("span",{class:"token operator"},"?"),(0,t.Uk)(),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"^&#x([0-9a-f]+);?"),(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-flags"},"i")]),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"^&#([0-9]+);?"),(0,t._)("span",{class:"token regex-delimiter"},"/")]),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// æœ€ç»ˆï¼Œbody[1] çš„å€¼å°±æ˜¯ Unicode ç ç‚¹"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" body "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" pattern"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("rawText"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br")])],-1),An=(0,t._)("p",null,"âœ… æ•°å­—å­—ç¬¦å¼•ç”¨çš„æ ¼å¼æ˜¯ï¼šå‰ç¼€ + Unicodeç ç‚¹ã€‚è§£ç æ•°å­—å­—ç¬¦å¼•ç”¨çš„å…³é”®åœ¨äºï¼Œå¦‚ä½•æå–å­—ç¬¦å¼•ç”¨ä¸­çš„ Unicode ç ç‚¹ã€‚è€ƒè™‘åˆ°æ•°å­—å­—ç¬¦å¼•ç”¨çš„å‰ç¼€å¯ä»¥æ˜¯ä»¥åè¿›åˆ¶è¡¨ç¤ºï¼ˆ&#ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ä»¥åå…­è¿›åˆ¶è¡¨ç¤ºï¼ˆ&#xï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„ä»£ç æ¥å®Œæˆç ç‚¹çš„æå–ã€‚",-1),jn=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("body"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// å°†ç ç‚¹å­—ç¬¦ä¸²è½¬ä¸ºåè¿›åˆ¶æ•°å­—"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" cp "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" Number"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"parseInt"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("body"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" hex "),(0,t._)("span",{class:"token operator"},"?"),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"16"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"10"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// è§£ç "),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" char "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" String"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"fromCodePoint"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("cp"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br")])],-1),Cn=(0,t._)("p",null,[(0,t.Uk)("æœ‰äº† Unicode ç ç‚¹ä¹‹åï¼Œåªéœ€è¦è°ƒç”¨"),(0,t._)("code",null,"String.fromCodePoint"),(0,t.Uk)("å‡½æ•°å³å¯å°†å…¶è§£ç ä¸ºå¯¹åº”çš„å­—ç¬¦ã€‚")],-1),Dn=(0,t.Uk)("ğŸŒ "),En={href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint",target:"_blank",rel:"noopener noreferrer"},In=(0,t.Uk)("String.fromCodePoint (opens new window)"),Wn=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"decodeHtml"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("rawText"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" asAttr "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token boolean"},"false")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"let"),(0,t.Uk)(" offset "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" end "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" rawText"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length\n  "),(0,t._)("span",{class:"token keyword"},"let"),(0,t.Uk)(" decodedText "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"''"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"let"),(0,t.Uk)(" maxCRNameLength "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"advance"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    offset "),(0,t._)("span",{class:"token operator"},"+="),(0,t.Uk)(" length\n    rawText "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" rawText"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"slice"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token keyword"},"while"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("offset "),(0,t._)("span",{class:"token operator"},"<"),(0,t.Uk)(" end"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" head "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"&(?:#x?)?"),(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-flags"},"i")]),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("rawText"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token operator"},"!"),(0,t.Uk)("head"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" remaining "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" end "),(0,t._)("span",{class:"token operator"},"-"),(0,t.Uk)(" offset\n      decodedText "),(0,t._)("span",{class:"token operator"},"+="),(0,t.Uk)(" rawText"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"slice"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" remaining"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token function"},"advance"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("remaining"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"break"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},'// Advance to the "&".'),(0,t.Uk)("\n    decodedText "),(0,t._)("span",{class:"token operator"},"+="),(0,t.Uk)(" rawText"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"slice"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" head"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("index"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token function"},"advance"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("head"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("index"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n    "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("head"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'&'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token comment"},"// Named character reference..."),(0,t.Uk)("\n      \n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" hex "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" head"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'&#x'"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" pattern "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" hex "),(0,t._)("span",{class:"token operator"},"?"),(0,t.Uk)(),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"^&#x([0-9a-f]+);?"),(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-flags"},"i")]),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token regex"},[(0,t._)("span",{class:"token regex-delimiter"},"/"),(0,t._)("span",{class:"token regex-source language-regex"},"^&#([0-9]+);?"),(0,t._)("span",{class:"token regex-delimiter"},"/")]),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" body "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" pattern"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"exec"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("rawText"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      \n      "),(0,t._)("span",{class:"token comment"},"// å¦‚æœåŒ¹é…æˆåŠŸï¼Œåˆ™è°ƒç”¨ String.fromCodePoint å‡½æ•°è¿›è¡Œè§£ç "),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("body"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},"// å°†ç ç‚¹å­—ç¬¦ä¸²è½¬ä¸ºåè¿›åˆ¶æ•°å­—"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" cp "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" Number"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"parseInt"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("body"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" hex "),(0,t._)("span",{class:"token operator"},"?"),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"16"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"10"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},"// ç ç‚¹çš„åˆæ³•æ€§æ£€æŸ¥"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("cp "),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token comment"},"// å¦‚æœç ç‚¹å€¼ä¸º 0x00ï¼Œæ›¿æ¢ä¸º 0xfffd"),(0,t.Uk)("\n          cp "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0xfffd"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("cp "),(0,t._)("span",{class:"token operator"},">"),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0x10ffff"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token comment"},"// å¦‚æœç ç‚¹å€¼è¶…è¿‡äº† Unicode çš„æœ€å¤§å€¼ï¼Œæ›¿æ¢ä¸º 0xfffd"),(0,t.Uk)("\n          cp "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0xfffd"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("cp "),(0,t._)("span",{class:"token operator"},">="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0xd800"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)(" cp "),(0,t._)("span",{class:"token operator"},"<="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0xdfff"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token comment"},"// å¦‚æœç ç‚¹å€¼å¤„äº surrogate pair èŒƒå›´ï¼Œæ›¿æ¢ä¸º 0xfffd"),(0,t.Uk)("\n          cp "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0xfffd"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("cp "),(0,t._)("span",{class:"token operator"},">="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0xfdd0"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)(" cp "),(0,t._)("span",{class:"token operator"},"<="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0xfdef"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"||"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("cp "),(0,t._)("span",{class:"token operator"},"&"),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0xfffe"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0xfffe"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token comment"},"// å¦‚æœç ç‚¹å€¼å¤„äº `noncharacter` èŒƒå›´ï¼Œåˆ™ä»€ä¹ˆéƒ½ä¸åšï¼Œäº¤ç»™å¹³å°å¤„ç†"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token comment"},"// noop"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token comment"},"// æ§åˆ¶å­—ç¬¦é›†çš„èŒƒå›´æ˜¯ï¼š[0x01, 0x1f] åŠ ä¸Š [0x7f, 0x9f]"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token comment"},"// å´æ‰ ASICC ç©ºç™½ç¬¦ï¼š0x09(TAB)ã€0x0A(LF)ã€0x0C(FF)"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token comment"},"// 0x0D(CR) è™½ç„¶ä¹Ÿæ˜¯ ASICC ç©ºç™½ç¬¦ï¼Œä½†éœ€è¦åŒ…å«"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("cp "),(0,t._)("span",{class:"token operator"},">="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0x01"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)(" cp "),(0,t._)("span",{class:"token operator"},"<="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0x08"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"||"),(0,t.Uk)("\n          cp "),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0x0b"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"||"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("cp "),(0,t._)("span",{class:"token operator"},">="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0x0d"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)(" cp "),(0,t._)("span",{class:"token operator"},"<="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0x1f"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"||"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("cp "),(0,t._)("span",{class:"token operator"},">="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0x7f"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)(" cp "),(0,t._)("span",{class:"token operator"},"<="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0x9f"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token comment"},"// åœ¨ CCR_REPLACEMENTS è¡¨ä¸­æŸ¥æ‰¾æ›¿æ¢ç ç‚¹ï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™ä½¿ç”¨åŸç ç‚¹"),(0,t.Uk)("\n          cp "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token constant"},"CCR_REPLACEMENTS"),(0,t._)("span",{class:"token punctuation"},"["),(0,t.Uk)("cp"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"||"),(0,t.Uk)(" cp\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},"// è§£ç åè¿½åŠ åˆ° decodedText ä¸Š"),(0,t.Uk)("\n        decodedText "),(0,t._)("span",{class:"token operator"},"+="),(0,t.Uk)(" String"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"fromCodePoint"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("cp"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},"// æ¶ˆè´¹æ‰æ•´ä¸ªæ•°å­—å­—ç¬¦å¼•ç”¨çš„å†…å®¹"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token function"},"advance"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("body"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},"// å¦‚æœæ²¡æœ‰åŒ¹é…ï¼Œåˆ™ä¸è¿›è¡Œè§£ç æ“ä½œï¼Œåªæ˜¯æŠŠ head[0] è¿½åŠ åˆ° decodedText å¹¶æ¶ˆè´¹æ‰"),(0,t.Uk)("\n        decodedText "),(0,t._)("span",{class:"token operator"},"+="),(0,t.Uk)(" head"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token function"},"advance"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("head"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("length"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" decodedText\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"highlight-lines"},[(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("div",{class:"highlight-line"},"Â "),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br"),(0,t._)("br")]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"25"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"26"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"27"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"28"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"29"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"30"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"31"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"32"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"33"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"34"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"35"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"36"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"37"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"38"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"39"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"40"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"41"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"42"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"43"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"44"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"45"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"46"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"47"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"48"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"49"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"50"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"51"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"52"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"53"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"54"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"55"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"56"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"57"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"58"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"59"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"60"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"61"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"62"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"63"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"64"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"65"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"66"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"67"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"68"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"69"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"70"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"71"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"72"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"73"),(0,t._)("br")])],-1),Rn=(0,t._)("p",null,"åœ¨çœŸæ­£è¿›è¡Œè§£ç å‰ï¼Œéœ€è¦å¯¹ç ç‚¹çš„å€¼è¿›è¡Œåˆæ³•æ€§æ£€æŸ¥ã€‚WHATWG è§„èŒƒä¸­å¯¹æ­¤ä¹Ÿæœ‰æ˜ç¡®çš„å®šä¹‰ã€‚",-1),Sn=(0,t.uE)('<h2 id="è§£ææ’å€¼ä¸æ³¨é‡Š" tabindex="-1"><a class="header-anchor" href="#è§£ææ’å€¼ä¸æ³¨é‡Š" aria-hidden="true">#</a> è§£ææ’å€¼ä¸æ³¨é‡Š</h2><h3 id="è§£ææ’å€¼" tabindex="-1"><a class="header-anchor" href="#è§£ææ’å€¼" aria-hidden="true">#</a> è§£ææ’å€¼</h3><p>æ–‡æœ¬æ’å€¼æ˜¯ Vue.js æ¨¡æ¿ä¸­ç”¨æ¥æ¸²æŸ“åŠ¨æ€æ•°æ®çš„å¸¸ç”¨æ–¹æ³•ã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ obj.foo }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ obj.fn() }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>æˆ‘ä»¬é€šå¸¸å°†å…¶ä¸¤è¾¹çš„ç‰¹æ®Šå­—ç¬¦ä¸²ç§°ä¸ºå®šç•Œç¬¦ï¼Œå®šç•Œç¬¦ä¸­é—´çš„å†…å®¹å¯ä»¥æ˜¯ä»»æ„åˆæ³•çš„ JavaScript è¡¨è¾¾å¼ã€‚</p><p><img src="https://raw.githubusercontent.com/caffreygo/static/main/blog/Vuejs3/parseInterpolation.png" alt=""></p><p>è§£æå™¨åœ¨è§£ææ’å€¼æ—¶ï¼Œåªéœ€è¦æŠŠå®šç•Œç¬¦ä¸­é—´çš„å†…å®¹æå–å‡ºæ¥ä½œä¸º JavaScript è¡¨è¾¾å¼å³å¯ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">parseInterpolation</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// æ¶ˆè´¹å¼€å§‹å®šç•Œç¬¦</span>\n  context<span class="token punctuation">.</span><span class="token function">advanceBy</span><span class="token punctuation">(</span><span class="token string">&#39;{{&#39;</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>\n  <span class="token comment">// æ‰¾åˆ°ç»“æŸå®šç•Œç¬¦çš„ä½ç½®ç´¢å¼•</span>\n  closeIndex <span class="token operator">=</span> context<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;}}&#39;</span><span class="token punctuation">)</span>\n  <span class="token comment">// æˆªå–ä¸­é—´å†…å®¹ä½œä¸ºæ’å€¼è¡¨è¾¾å¼</span>\n  <span class="token keyword">const</span> content <span class="token operator">=</span> context<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> closeIndex<span class="token punctuation">)</span>\n  <span class="token comment">// æ¶ˆè´¹è¡¨è¾¾å¼å’Œç»“æŸå®šç•Œç¬¦</span>\n  context<span class="token punctuation">.</span><span class="token function">advanceBy</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span>length<span class="token punctuation">)</span>\n  context<span class="token punctuation">.</span><span class="token function">advanceBy</span><span class="token punctuation">(</span><span class="token string">&#39;}}&#39;</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    type<span class="token operator">:</span> <span class="token string">&#39;Interpolation&#39;</span><span class="token punctuation">,</span>\n    content<span class="token operator">:</span> <span class="token punctuation">{</span>\n      type<span class="token operator">:</span> <span class="token string">&#39;Expression&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// è¡¨è¾¾å¼ç±»å‹</span>\n      content<span class="token operator">:</span> <span class="token function">decodeHtml</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>é…åˆä¸Šé¢çš„ <code>parseInterpolation</code> å‡½æ•°ï¼Œè§£æå¦‚ä¸‹æ¨¡æ¿å†…å®¹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> ast <span class="token operator">=</span> <span class="token function">parse</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;foo {{ bar }} baz&lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>æœ€ç»ˆå°†å¾—åˆ°å¦‚ä¸‹ ASTï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> ast <span class="token operator">=</span> <span class="token punctuation">{</span>\n  type<span class="token operator">:</span> <span class="token string">&#39;Root&#39;</span><span class="token punctuation">,</span>\n  chidlren<span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">{</span>\n      type<span class="token operator">:</span> <span class="token string">&#39;Element&#39;</span><span class="token punctuation">,</span>\n      tag<span class="token operator">:</span> <span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span>\n      isSelfClosing<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n      props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n      children<span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#39;Text&#39;</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">&#39;foo &#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token comment">// æ’å€¼èŠ‚ç‚¹</span>\n        <span class="token punctuation">{</span> \n          type<span class="token operator">:</span> <span class="token string">&#39;Interpolation&#39;</span><span class="token punctuation">,</span>\n          content<span class="token operator">:</span> <span class="token punctuation">[</span>\n            type<span class="token operator">:</span> <span class="token string">&#39;Expression&#39;</span><span class="token punctuation">,</span>\n            content<span class="token operator">:</span> <span class="token string">&#39; bar&#39;</span>\n          <span class="token punctuation">]</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#39;Text&#39;</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">&#39; baz&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">]</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="è§£ææ³¨é‡Š" tabindex="-1"><a class="header-anchor" href="#è§£ææ³¨é‡Š" aria-hidden="true">#</a> è§£ææ³¨é‡Š</h3><p>è§£ææ³¨é‡Šçš„æ€è·¯ä¸è§£ææ’å€¼éå¸¸ç›¸ä¼¼ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">parseComment</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  context<span class="token punctuation">.</span><span class="token function">advanceBy</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;!--&#39;</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>\n  closeIndex <span class="token operator">=</span> context<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;--&gt;&#39;</span><span class="token punctuation">)</span>\n  <span class="token keyword">const</span> content <span class="token operator">=</span> context<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> closeIndex<span class="token punctuation">)</span>\n  context<span class="token punctuation">.</span><span class="token function">advanceBy</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span>length<span class="token punctuation">)</span>\n  context<span class="token punctuation">.</span><span class="token function">advanceBy</span><span class="token punctuation">(</span><span class="token string">&#39;--&gt;&#39;</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    type<span class="token operator">:</span> <span class="token string">&#39;Comment&#39;</span><span class="token punctuation">,</span>\n    content\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>é…åˆä¸Šé¢çš„ <code>parseComment</code> å‡½æ•°ï¼Œè§£æå¦‚ä¸‹æ¨¡æ¿å†…å®¹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> ast <span class="token operator">=</span> <span class="token function">parse</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;&lt;!-- comments --&gt;&lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>æœ€ç»ˆå¾—åˆ°å¦‚ä¸‹ ASTï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> ast <span class="token operator">=</span> <span class="token punctuation">{</span>\n  type<span class="token operator">:</span> <span class="token string">&#39;Root&#39;</span><span class="token punctuation">,</span>\n  chidlren<span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">{</span>\n      type<span class="token operator">:</span> <span class="token string">&#39;Element&#39;</span><span class="token punctuation">,</span>\n      tag<span class="token operator">:</span> <span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span>\n      isSelfClosing<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n      props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n      children<span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#39;Comment&#39;</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">&#39; comments &#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">]</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div>',19),Mn={render:function(n,s){const a=(0,t.up)("OutboundLink"),Mn=(0,t.up)("CodeGroupItem"),Hn=(0,t.up)("CodeGroup");return(0,t.wg)(),(0,t.iD)(t.HY,null,[p,(0,t._)("details",o,[c,(0,t._)("p",null,[l,(0,t._)("a",r,[u,(0,t.Wm)(a)])]),k]),i,(0,t._)("div",_,[b,(0,t._)("ul",null,[m,(0,t._)("li",null,[d,(0,t._)("code",null,(0,e.zw)(n.val),1)]),U,g,h]),x]),v,f,y,(0,t.Wm)(Hn,null,{default:(0,t.w5)((()=>[(0,t.Wm)(Mn,{title:"parseChildren"},{default:(0,t.w5)((()=>[w,T])),_:1}),(0,t.Wm)(Mn,{title:"å¾…è§£æçš„æ¨¡æ¿"},{default:(0,t.w5)((()=>[A,j,C,D,E])),_:1}),(0,t.Wm)(Mn,{title:"parseElement"},{default:(0,t.w5)((()=>[I,W])),_:1}),R])),_:1}),S,(0,t.Wm)(Hn,null,{default:(0,t.w5)((()=>[(0,t.Wm)(Mn,{title:"advanceBy & advanceSpaces"},{default:(0,t.w5)((()=>[M,H,L])),_:1}),(0,t.Wm)(Mn,{title:"parseTag"},{default:(0,t.w5)((()=>[B,z,q,V,N])),_:1}),(0,t.Wm)(Mn,{title:"parseElement"},{default:(0,t.w5)((()=>[O,P])),_:1})])),_:1}),X,(0,t.Wm)(Hn,null,{default:(0,t.w5)((()=>[(0,t.Wm)(Mn,{title:"parseTag"},{default:(0,t.w5)((()=>[G,$,J])),_:1}),(0,t.Wm)(Mn,{title:"parseAttributes"},{default:(0,t.w5)((()=>[Q,F,Y])),_:1}),(0,t.Wm)(Mn,{title:"æµ‹è¯•ç»“æœ"},{default:(0,t.w5)((()=>[K,Z])),_:1})])),_:1}),nn,(0,t.Wm)(Hn,null,{default:(0,t.w5)((()=>[(0,t.Wm)(Mn,{title:"parseText"},{default:(0,t.w5)((()=>[sn])),_:1}),(0,t.Wm)(Mn,{title:"æµ‹è¯•ç»“æœ"},{default:(0,t.w5)((()=>[an])),_:1})])),_:1}),tn,en,pn,(0,t._)("details",on,[cn,(0,t._)("div",ln,[rn,(0,t._)("ul",null,[(0,t._)("li",null,[un,(0,t._)("p",null,[kn,(0,t._)("a",_n,[bn,(0,t.Wm)(a)])])]),mn])])]),dn,(0,t.Wm)(Hn,null,{default:(0,t.w5)((()=>[(0,t.Wm)(Mn,{title:"namedCharacterReferences"},{default:(0,t.w5)((()=>[Un,gn,hn])),_:1}),(0,t.Wm)(Mn,{title:"decodeHtml"},{default:(0,t.w5)((()=>[xn,vn,fn])),_:1}),(0,t.Wm)(Mn,{title:"parseText"},{default:(0,t.w5)((()=>[yn])),_:1})])),_:1}),wn,(0,t.Wm)(Hn,null,{default:(0,t.w5)((()=>[(0,t.Wm)(Mn,{title:"ç ç‚¹çš„æå–"},{default:(0,t.w5)((()=>[Tn,An])),_:1}),(0,t.Wm)(Mn,{title:"è§£ç "},{default:(0,t.w5)((()=>[jn,Cn,(0,t._)("p",null,[Dn,(0,t._)("a",En,[In,(0,t.Wm)(a)])])])),_:1}),(0,t.Wm)(Mn,{title:"decodeHtml"},{default:(0,t.w5)((()=>[Wn,Rn])),_:1})])),_:1}),Sn],64)}}}}]);