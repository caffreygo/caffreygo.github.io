# JavaScriptæ•°æ®ç»“æ„å’Œç®—æ³•

## æ ˆ

æ ˆæ˜¯ä¸€ç§éµä»**åè¿›å…ˆå‡º**(`LIFO`)åŸåˆ™çš„æœ‰åºé›†åˆï¼Œæ–°æ·»åŠ æˆ–å¾…åˆ é™¤çš„å…ƒç´ éƒ½ä¿å­˜åœ¨æ ˆçš„åŒä¸€ç«¯ï¼Œç§°ä¹‹ä¸ºæ ˆé¡¶ï¼Œå¦ä¸€ç«¯å«æ ˆåº•ã€‚

```javascript
class Stack {
  constructor () {
    this.count = 0
    this.items = {}
  }
  push (element) {
    this.items[this.count] = element
    this.count++
  }
  size () {
    return this.count
  }
  isEmpty () {
    return this.size() === 0
  }
  pop () {
    if (this.isEmpty()) {
      return undefined
    }
    this.count--
    const result = this.items[this.count]
    delete this.items[this.count]
    return result
  }
  peek () {
    return this.items[this.count - 1]
  }
  clear () {
    this.count = 0
    this.items = {}
  }
  toString () {
    if (this.isEmpty()) {
      return ''
    }
    let str = this.items['0']
    for(let i = 1; i < this.count; i++) {
      str = `${str},${this.items[i]}`
    }
    return str
  }
}
```

## é˜Ÿåˆ—å’ŒåŒç«¯é˜Ÿåˆ—

### é˜Ÿåˆ—

é˜Ÿåˆ—æ˜¯ä¸€ç§éµå¾ª**å…ˆè¿›å…ˆå‡º**(`FIFO`)åŸåˆ™çš„ä¸€ç»„æœ‰åºçš„é¡¹ï¼Œé˜Ÿåˆ—åœ¨å°¾éƒ¨æ·»åŠ æ–°å…ƒç´ ï¼Œå¹¶ä»é¡¶éƒ¨ç§»é™¤å…ƒç´ ï¼Œè€ŒåŒç«¯é˜Ÿåˆ—æ˜¯ä¸€ç§å°†æ ˆçš„åŸåˆ™å’Œé˜Ÿåˆ—çš„åŸåˆ™æ··åˆåœ¨ä¸€èµ·çš„æ•°æ®ç»“æ„ã€‚

```javascript
class Queue {
  constructor () {
    this.count = 0
    this.lowestCount = 0
    this.items = {}
  }
  size () {
    return this.count - this.lowestCount
  }
  isEmpty () {
    return this.size() === 0
  }
  enqueue (element) {
    this.items[this.count] = element
    this.count++
  }
  dequeue () {
    if (this.isEmpty()) {
      return undefined
    }
    const result = this.items[this.lowestCount]
    delete this.items[this.lowestCount]
    this.lowestCount++
    return result
  }
  peek () {
    if (this.isEmpty()) {
      return undefined
    }
    return this.items[this.lowestCount]
  }
  clear () {
    this.count = 0
    this.lowestCount = 0
    this.items = {}
  }
  toString () {
    if (this.isEmpty()) {
      return ''
    }
    let objStr = this.items[this.lowestCount]
    for(let i = this.lowestCount + 1; i < this.count; i++) {
      objStr = `${objStr},${this.items[i]}`
    }
    return objStr
  }
}
```

ä»£ç æµ‹è¯•é˜Ÿåˆ—ï¼š

```js
const queue = new Queue()
console.log(queue.isEmpty())  // true
queue.enqueue('AAA')
queue.enqueue('BBB')
queue.enqueue('CCC')
console.log(queue.isEmpty())  // false
console.log(queue.size())     // 3
console.log(queue.toString()) // AAA,BBB,CCC
console.log(queue.peek())     // AAA
queue.dequeue()
queue.clear()
console.log(queue.isEmpty())  // true
```

### åŒç«¯é˜Ÿåˆ—

åŒç«¯é˜Ÿåˆ—æ˜¯ä¸€ç§å…è®¸æˆ‘ä»¬åŒæ—¶ä»å‰ç«¯å’Œåç«¯æ·»åŠ å’Œç§»é™¤å…ƒç´ çš„ç‰¹æ®Šé˜Ÿåˆ—ï¼Œåœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒåŒç«¯é˜Ÿåˆ—çš„ä¸€ä¸ªå¸¸è§åº”ç”¨æ˜¯å­˜å‚¨ä¸€ç³»åˆ—æ’¤é”€æ“ä½œï¼Œæ¯å½“ç”¨æˆ·åœ¨è½¯ä»¶ä¸­è¿›è¡Œäº†ä¸€ä¸ªæ“ä½œï¼Œè¯¥æ“ä½œè¢«å­˜åœ¨ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—ä¸­ï¼Œå½“ç”¨æˆ·ç‚¹å‡»æ’¤é”€æŒ‰é’®æ—¶ï¼Œè¯¥æ“ä½œä¼šè¢«ä»åŒç«¯é˜Ÿåˆ—ä¸­å¼¹å‡ºï¼Œè¡¨ç¤ºå®ƒè¢«ä»åé¢ç§»é™¤äº†ã€‚åœ¨è¿›è¡Œé¢„å…ˆå®šä¹‰çš„ä¸€å®šæ•°é‡çš„æ“ä½œåï¼Œæœ€æ–°è¿›è¡Œçš„æ“ä½œä¼šè¢«ä»åŒç«¯é˜Ÿåˆ—çš„å‰ç«¯ç§»é™¤ã€‚

```javascript
class Deque {
    constructor() {
        this.count = 0;
        this.lowestCount = 0;
        this.items = {};
    }
    addBack(element) {
        this.items[this.count] = element;
        this.count++;
    }
    addFront(element) {
        if (this.isEmpty()) {
            this.addBack(element);
        } else if (this.lowestCount > 0) {
            this.lowestCount--;
            this.items[this.lowestCount] = element;
        } else {
            // lowestCount = 0,å…¨éƒ¨åç§»ä¸€æ­¥
            for (let i = this.count; i > 0; i--) {
                this.items[i] = this.items[i -1];
            }
            this.count++;
            this.lowestCount = 0;
            this.items[0] = element;
        }
    }
    removeFront() {
        if (this.isEmpty()) {
            return undefined;
        }
        const result = this.items[this.lowestCount];
        delete this.items[this.lowestCount];
        this.lowestCount++;
        return result;
    }
    peekFront() {
        if (this.isEmpty()) {
            return undefined;
        }
        return this.items[this.lowestCount];
    }
    isEmpty() {
        return this.count - this.lowestCount === 0;
    }
    size() {
        return this.count - this.lowestCount;
    }
}
```

## é“¾è¡¨

### é“¾è¡¨

åœ¨å¤§å¤šæ•°è¯­è¨€ä¸­æ•°ç»„çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œåœ¨æ•°ç»„çš„èµ·ç‚¹æˆ–è€…ä¸­é—´æ’å…¥æˆ–ç§»é™¤é¡¹çš„æˆæœ¬å¾ˆé«˜ã€‚è€Œé“¾è¡¨çš„å‡ºç°è§£å†³äº†è¿™ä¸ªé—®é¢˜

é“¾è¡¨å­˜å‚¨æœ‰åºçš„å…ƒç´ é›†åˆï¼Œä½†ä¸åŒäºæ•°ç»„ï¼Œé“¾è¡¨ä¸­çš„å…ƒç´ åœ¨å†…å­˜ä¸­å¹¶ä¸æ˜¯è¿ç»­æ”¾ç½®çš„ã€‚æ¯ä¸ªä¸å…ƒç´ ç”±ä¸€ä¸ªå­˜å‚¨è‡ªèº«çš„èŠ‚ç‚¹å’Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨ç»„æˆï¼Œæ‰€ä»¥é“¾è¡¨çš„ä¸€ä¸ªå¥½å¤„åœ¨äºï¼šæ·»åŠ å’Œç§»é™¤å…ƒç´ çš„æ—¶å€™ä¸éœ€è¦ç§»åŠ¨å…¶å®ƒå…ƒç´ ã€‚

ç„¶è€Œï¼Œé“¾è¡¨éœ€è¦ä½¿ç”¨æŒ‡é’ˆï¼Œå› æ­¤ä¸åƒåœ¨æ•°ç»„ä¸­å¯ä»¥ç›´æ¥è®¿é—®ä»»ä½•ä½ç½®çš„ä»»ä½•å…ƒç´ ï¼Œé“¾è¡¨éœ€è¦æˆ‘ä»¬ä»èµ·ç‚¹æˆ–è€…å¤´å¼€å§‹è¿­ä»£é“¾è¡¨ç›´åˆ°æ‰¾åˆ°æ‰€éœ€çš„å…ƒç´ ã€‚

```js
class Node {
  constructor (element) {
    this.element = element
    this.next = null
  }
}
```

### åŒå‘é“¾è¡¨

åŒå‘é“¾è¡¨å’Œæ™®é€šé“¾è¡¨çš„åŒºåˆ«åœ¨äºï¼šåœ¨é“¾è¡¨ä¸­ï¼Œä¸€ä¸ªèŠ‚ç‚¹åªæœ‰é“¾å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„é“¾æ¥ï¼Œè€Œåœ¨åŒå‘é“¾è¡¨ä¸­ï¼Œé“¾è¡¨æ˜¯åŒå‘çš„ï¼Œä¸€ä¸ªé“¾å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¦ä¸€ä¸ªé“¾å‘å‰ä¸€ä¸ªå…ƒç´ ã€‚

```js
class DoublyNode extends Node {
  constructor (element, next, prev) {
    super(element, next)
    this.prev = prev
  }
} 
```

### å¾ªç¯é“¾è¡¨

å¾ªç¯é“¾è¡¨å¯ä»¥åƒæ™®é€š(å•å‘)é“¾è¡¨ä¸€æ ·åªæœ‰å•å‘å¼•ç”¨ï¼Œä¹Ÿå¯ä»¥åƒåŒå‘é“¾è¡¨ä¸€æ ·æœ‰åŒå‘å¼•ç”¨ã€‚

å¾ªç¯é“¾è¡¨å’Œæ™®é€š(å•å‘)é“¾è¡¨çš„å”¯ä¸€åŒºåˆ«åœ¨äºï¼šæœ€åä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆä¸æ˜¯`null`æˆ–è€…`undefined`ï¼Œè€Œæ˜¯æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ `head`ã€‚

## é›†åˆSet

```js
class Set {
  constructor () {
    this.items = {}
  }
  has (element) {
    return element in this.items
  }
  add (element) {
    if (!this.has(element)) {
      this.items[element] = element
      return true
    }
    return false
  }
  delete (element) {
    if (this.has(element)) {
      delete this.items[element]
      return true
    }
    return false
  }
  clear () {
    this.items = {}
  }
  size () {
    return Object.keys(this.items).length
  }
  values () {
    return Object.values(this.items)
  }
}
```



## å­—å…¸å’Œæ•£åˆ—è¡¨

### å­—å…¸

::: tip æ¦‚å¿µ

åœ¨å­—å…¸Dictionaryï¼ˆæˆ–æ˜ å°„Mapï¼‰ä¸­ï¼Œæˆ‘ä»¬ç”¨[é”®ï¼Œå€¼]å¯¹çš„å½¢å¼æ¥å­˜å‚¨æ•°æ®ã€‚

åœ¨æ•£åˆ—è¡¨ä¸­ä¹Ÿæ˜¯ä¸€æ ·ï¼ˆä¹Ÿæ˜¯ä»¥[é”®ï¼Œå€¼]å¯¹çš„å½¢å¼æ¥å­˜å‚¨æ•°æ®ï¼‰ã€‚

ä½†æ˜¯ä¸¤ç§æ•°æ®ç»“æ„çš„å®ç°æ–¹å¼ç•¥æœ‰ä¸åŒï¼Œä¾‹å¦‚å­—å…¸ä¸­çš„æ¯ä¸ªé”®åªèƒ½æœ‰ä¸€ä¸ªå€¼

:::

> å­—å…¸ä¹Ÿç§°æ˜ å°„ã€ç¬¦å·è¡¨æˆ–å…³è”æ•°ç»„ã€‚åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œå­—å…¸ç»å¸¸ç”¨æ¥ä¿å­˜å¯¹è±¡çš„å¼•ç”¨åœ°å€

### æ•£åˆ—è¡¨HashTable

æ•£åˆ—è¡¨ä¹Ÿå«`HashTable`ç±»æˆ–è€…`HashMap`ç±»ï¼Œå®ƒæ˜¯`Dictionary`ç±»çš„ä¸€ç§æ•£åˆ—å®ç°æ–¹å¼ã€‚

**æ•£åˆ—ç®—æ³•**ï¼šæ•£åˆ—ç®—æ³•çš„ä½œç”¨æ˜¯å°½å¯èƒ½çš„å¿«çš„åœ¨æ•°æ®ç»“æ„ä¸­æ‰¾åˆ°ä¸€ä¸ªå€¼ï¼Œå› ä¸ºå®ƒæ˜¯å­—å…¸çš„ä¸€ç§å®ç°ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ä½œå…³è”æ•°ç»„ï¼Œå®ƒä¹Ÿå¯ä»¥ç”¨æ¥å¯¹æ•°æ®åº“è¿›è¡Œç´¢å¼•ã€‚å½“æˆ‘ä»¬ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“çš„æ—¶å€™ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„è¡¨æ—¶ï¼Œä¸€ä¸ªä¸é”™çš„åšæ³•æ˜¯åŒæ—¶åˆ›å»ºä¸€ä¸ªç´¢å¼•æ¥æ›´å¿«çš„æŸ¥è¯¢åˆ°è®°å½•çš„`key`ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ•£åˆ—è¡¨å¯ä»¥ç”¨æ¥ä¿å­˜é”®å’Œå¯¹è¡¨ä¸­è®°å½•çš„å¼•ç”¨ã€‚

æ•£åˆ—è¡¨çš„åˆ›å»ºéœ€è¦ä¸€ä¸ªhashå‡½æ•°ç”Ÿæˆé”®ï¼Œå³æ•£åˆ—å‡½æ•°

```javascript
loseloseHashCode(key) {
  if (typeof key === 'number') {
    return key;
  }
  const tableKey = this.toStrFn(key);
  let hash = 0;
  for (let i = 0; i < tableKey.length; i++) {
    hash += tableKey.charCodeAt(i);
  }
  return hash % 37;
}

hashCode(key) {
  return this.loseloseHashCode(key);
}

// æ›´å¥½çš„æ•£åˆ—å‡½æ•°å¯ä»¥é™ä½å†²çª
djb2HashCode(key) {
  const tableKey = this.toStrFn(key);
  let hash = 5381;
  for (let i = 0; i < tableKey.length; i++) {
    hash = (hash * 33) + tableKey.charCodeAt(i);
  }
  return hash % 1013;
}
```

æœ‰æ—¶å€™ï¼Œä¸€äº›é”®ä¼šæœ‰ç›¸åŒçš„æ•£åˆ—å€¼ã€‚ä¸åŒçš„å€¼åœ¨æ•£åˆ—è¡¨ä¸­å¯¹åº”ç›¸åŒä½ç½®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºå†²çªã€‚

::: tip å¤„ç†å†²çªæœ‰å‡ ç§æ–¹æ³•ï¼š

- åˆ†ç¦»é“¾æ¥ï¼šåŒ…æ‹¬ä¸ºæ•£åˆ—è¡¨çš„æ¯ä¸€ä¸ªä½ç½®åˆ›å»ºä¸€ä¸ª**é“¾è¡¨**å¹¶å°†å…ƒç´ å­˜å‚¨åœ¨é‡Œé¢ã€‚å®ƒæ˜¯è§£å†³å†²çªçš„æœ€ç®€å•çš„æ–¹æ³•ï¼Œä½†æ˜¯åœ¨HashTableå®ä¾‹ä¹‹å¤–è¿˜éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´

- çº¿æ€§æ¢æŸ¥ï¼šå°†å…ƒç´ ç›´æ¥å­˜å‚¨åˆ°è¡¨ä¸­ï¼Œè€Œä¸æ˜¯åœ¨å•ç‹¬çš„æ•°æ®ç»“æ„ä¸­

  çº¿æ€§æ¢æŸ¥æŠ€æœ¯åˆ†ä¸ºä¸¤ç§ã€‚ç¬¬ä¸€ç§æ˜¯è½¯åˆ é™¤æ–¹æ³•ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼ˆæ ‡è®°ï¼‰æ¥è¡¨ç¤ºé”®å€¼å¯¹è¢«åˆ é™¤äº†ï¼ˆæƒ°æ€§åˆ é™¤æˆ–è½¯åˆ é™¤ï¼‰ï¼Œè€Œä¸æ˜¯çœŸçš„åˆ é™¤å®ƒã€‚ç»è¿‡ä¸€æ®µæ—¶é—´ï¼Œæ•£åˆ—è¡¨è¢«æ“ä½œè¿‡åï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªæ ‡è®°äº†è‹¥å¹²åˆ é™¤ä½ç½®çš„æ•£åˆ—è¡¨ã€‚è¿™ä¼šé€æ¸é™ä½æ•£åˆ—è¡¨çš„æ•ˆç‡ï¼Œå› ä¸ºæœç´¢é”®å€¼ä¼šéšæ—¶é—´å˜å¾—æ›´æ…¢ã€‚èƒ½å¿«é€Ÿè®¿é—®å¹¶æ‰¾åˆ°ä¸€ä¸ªé”®æ˜¯æˆ‘ä»¬ä½¿ç”¨æ•£åˆ—è¡¨çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚

  ç¬¬äºŒç§æ–¹æ³•éœ€è¦æ£€éªŒæ˜¯å¦æœ‰å¿…è¦å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ç§»åŠ¨åˆ°ä¹‹å‰çš„ä½ç½®ã€‚å½“æœç´¢ä¸€ä¸ªé”®çš„æ—¶å€™ï¼Œè¿™ç§æ–¹æ³•å¯ä»¥é¿å…æ‰¾åˆ°ä¸€ä¸ªç©ºä½ç½®ã€‚å¦‚æœç§»åŠ¨å…ƒç´ æ˜¯å¿…è¦çš„ï¼Œæˆ‘ä»¬å°±éœ€è¦åœ¨æ•£åˆ—è¡¨ä¸­æŒªåŠ¨é”®å€¼å¯¹ã€‚

- åŒæ•£åˆ—

:::

## äºŒå‰æ ‘

::: tip Binary Search Tree

äºŒå‰æ ‘ä¸­çš„èŠ‚ç‚¹æœ€å¤šåªèƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼šä¸€ä¸ªæ˜¯å·¦ä¾§å­èŠ‚ç‚¹ï¼Œå¦ä¸€ä¸ªæ˜¯å³ä¾§å­èŠ‚ç‚¹ã€‚è¿™ä¸ªå®šä¹‰æœ‰åŠ©äºæˆ‘ä»¬å†™å‡ºæ›´é«˜æ•ˆåœ°åœ¨æ ‘ä¸­æ’å…¥ã€æŸ¥æ‰¾å’Œåˆ é™¤èŠ‚ç‚¹çš„ç®—æ³•ã€‚äºŒå‰æ ‘åœ¨è®¡ç®—æœºç§‘å­¦ä¸­çš„åº”ç”¨éå¸¸å¹¿æ³›ã€‚

äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰æ˜¯äºŒå‰æ ‘çš„ä¸€ç§ï¼Œä½†æ˜¯åªå…è®¸ä½ åœ¨å·¦ä¾§èŠ‚ç‚¹å­˜å‚¨ï¼ˆæ¯”çˆ¶èŠ‚ç‚¹ï¼‰å°çš„å€¼ï¼Œåœ¨å³ä¾§èŠ‚ç‚¹å­˜å‚¨ï¼ˆæ¯”çˆ¶èŠ‚ç‚¹ï¼‰å¤§çš„å€¼ã€‚

:::

### insert

```javascript
insertNode(node, key) {
  if (this.compareFn(key, node.key) === Compare.LESS_THAN) {
    if (node.left == null) { // æ¯”å½“å‰èŠ‚ç‚¹å°ï¼Œæ”¾å·¦è¾¹
      node.left = new Node(key);
    } else {
      this.insertNode(node.left, key);
    }
  } else {
    if (node.right == null) { // æ¯”å½“å‰èŠ‚ç‚¹å¤§ï¼Œæ”¾å³è¾¹
      node.right = new Node(key);
    } else {
      this.insertNode(node.right, key); 
    }
  }
}
```

### äºŒå‰æ ‘çš„éå†

::: tip äºŒå‰æ ‘çš„éå†

- å‰åºéå†ï¼šè‹¥äºŒå‰æ ‘ä¸ºç©ºï¼Œåˆ™ç©ºæ“ä½œè¿”å›ï¼Œå¦åˆ™**å…ˆè®¿é—®æ ¹ç»“ç‚¹**ï¼Œç„¶åå‰åºéå†å·¦å­æ ‘ï¼Œå†å‰åºéå†å³å­æ ‘ã€‚
- ä¸­åºéå†ï¼šè‹¥æ ‘ä¸ºç©ºï¼Œåˆ™ç©ºæ“ä½œè¿”å›ï¼Œå¦åˆ™ä»æ ¹ç»“ç‚¹å¼€å§‹ï¼ˆæ³¨æ„å¹¶ä¸æ˜¯å…ˆè®¿é—®æ ¹ç»“ç‚¹)ï¼Œä¸­åºéå†æ ¹ç»“ç‚¹çš„å·¦å­æ ‘ï¼Œ**ç„¶åè®¿é—®æ ¹ç»“ç‚¹**ï¼Œæœ€åä¸­åºéå†å³å­æ ‘ã€‚
- ååºéå†ï¼šè‹¥æ ‘ä¸ºç©ºï¼Œåˆ™ç©ºæ“ä½œè¿”å›ï¼Œå¦åˆ™ä»å·¦åˆ°å³å…ˆå¶å­åç»“ç‚¹çš„æ–¹å¼éå†è®¿é—®å·¦å³å­æ ‘ï¼Œ**æœ€åè®¿é—®æ ¹ç»“ç‚¹**ã€‚

:::

### ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨

1. å…ˆç»™é€’å½’ç®—æ³•çš„åŸºçº¿æ¡ä»¶
2. ç„¶åè°ƒç”¨è‡ªèº«å³é€’å½’
3. æœ€åå†æ“ä½œå½“å‰èŠ‚ç‚¹ ï¼ˆååºéå†ï¼‰

```javascript
var reversePrint = function(head) {
  if (!head) return []
  const result = reversePrint(head.next)
  result.push(head.val)
  return result
};
```

### AVLä¸çº¢é»‘æ ‘

- AVL: ä¸€èˆ¬ç”¨å¹³è¡¡å› å­åˆ¤æ–­æ˜¯å¦å¹³è¡¡å¹¶é€šè¿‡æ—‹è½¬æ¥å®ç°å¹³è¡¡ï¼Œå·¦å³å­æ ‘æ ‘é«˜ä¸è¶…è¿‡1ï¼Œå’Œçº¢é»‘æ ‘ç›¸æ¯”ï¼ŒAVLæ ‘æ˜¯é«˜åº¦å¹³è¡¡çš„äºŒå‰æ ‘ï¼Œå¹³è¡¡æ¡ä»¶å¿…é¡»æ»¡è¶³ï¼ˆæ‰€æœ‰èŠ‚ç‚¹çš„å·¦å³å­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡1ï¼‰ã€‚ä¸ç®¡æˆ‘ä»¬æ˜¯æ‰§è¡Œæ’å…¥è¿˜æ˜¯åˆ é™¤æ“ä½œï¼Œåªè¦ä¸æ»¡è¶³ä¸Šé¢çš„æ¡ä»¶ï¼Œå°±è¦é€šè¿‡æ—‹è½¬æ¥ä¿æŒå¹³è¡¡ï¼Œè€Œçš„ç”±äºæ—‹è½¬æ¯”è¾ƒè€—æ—¶ï¼Œç”±æ­¤æˆ‘ä»¬å¯ä»¥çŸ¥é“AVLæ ‘é€‚åˆç”¨äºæ’å…¥ä¸åˆ é™¤æ¬¡æ•°æ¯”è¾ƒå°‘ï¼Œä½†æŸ¥æ‰¾å¤šçš„æƒ…å†µ
- çº¢é»‘æ ‘ï¼šä¹Ÿæ˜¯ä¸€ç§å¹³è¡¡äºŒå‰æ ‘ï¼Œä½†æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ªå­˜å‚¨ä½è¡¨ç¤ºèŠ‚ç‚¹çš„é¢œè‰²ï¼Œå¯ä»¥æ˜¯çº¢æˆ–é»‘ã€‚é€šè¿‡å¯¹ä»»ä½•ä¸€æ¡ä»æ ¹åˆ°å¶å­çš„è·¯å¾„ä¸Šå„ä¸ªèŠ‚ç‚¹ç€è‰²çš„æ–¹å¼çš„é™åˆ¶ï¼Œçº¢é»‘æ ‘ç¡®ä¿æ²¡æœ‰ä¸€æ¡è·¯å¾„ä¼šæ¯”å…¶å®ƒè·¯å¾„é•¿å‡ºä¸¤å€ï¼Œå› æ­¤ï¼Œçº¢é»‘æ ‘æ˜¯ä¸€ç§å¼±å¹³è¡¡äºŒå‰æ ‘ï¼ˆç”±äºæ˜¯å¼±å¹³è¡¡ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œåœ¨ç›¸åŒçš„èŠ‚ç‚¹æƒ…å†µä¸‹ï¼ŒAVLæ ‘çš„é«˜åº¦<=çº¢é»‘æ ‘ï¼‰ï¼Œç›¸å¯¹äºè¦æ±‚ä¸¥æ ¼çš„AVLæ ‘æ¥è¯´ï¼Œå®ƒçš„æ—‹è½¬æ¬¡æ•°å°‘ï¼Œæ‰€ä»¥å¯¹äºæœç´¢ï¼Œæ’å…¥ï¼Œåˆ é™¤æ“ä½œè¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œç”¨çº¢é»‘æ ‘ã€‚

### é‡å»ºäºŒå‰æ ‘

![](./img/algorithm/rebuildBT.png)

```javascript
var buildTree = function(preorder, inorder) {
    if(preorder.length === 0) return null;
    const rootVal = preorder[0];
    const rootNode = new TreeNode(rootVal);
    if(preorder.length === 1 ) return rootNode; 
    const index = inorder.indexOf(rootVal);
    rootNode.left = buildTree(preorder.slice(1, index+1), inorder.slice(0, index));
    rootNode.right = buildTree(preorder.slice(index+1), inorder.slice(index+1));
    return rootNode;
};
```

## äºŒå‰å †ä¸å †æ’åº

::: tip å †

- å †æ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ã€‚
- å®Œå…¨äºŒå‰æ ‘ï¼š äºŒå‰æ ‘é™¤å¼€æœ€åä¸€å±‚ï¼Œå…¶ä»–å±‚ç»“ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§ï¼Œæœ€åä¸€å±‚çš„æ‰€æœ‰ç»“ç‚¹éƒ½é›†ä¸­åœ¨å·¦è¾¹ï¼ˆå·¦è¾¹ç»“ç‚¹æ’åˆ—æ»¡çš„æƒ…å†µä¸‹ï¼Œå³è¾¹æ‰èƒ½ç¼ºå¤±ç»“ç‚¹ï¼‰ã€‚
- å¤§é¡¶å †ï¼šæ ¹ç»“ç‚¹ä¸ºæœ€å¤§å€¼ï¼Œæ¯ä¸ªç»“ç‚¹çš„å€¼å¤§äºæˆ–ç­‰äºå…¶å­©å­ç»“ç‚¹çš„å€¼ã€‚
- å°é¡¶å †ï¼šæ ¹ç»“ç‚¹ä¸ºæœ€å°å€¼ï¼Œæ¯ä¸ªç»“ç‚¹çš„å€¼å°äºæˆ–ç­‰äºå…¶å­©å­ç»“ç‚¹çš„å€¼ã€‚
- å †çš„å­˜å‚¨ï¼š å †ç”±æ•°ç»„æ¥å®ç°ï¼Œç›¸å½“äºå¯¹äºŒå‰æ ‘åšå±‚åºéå†ã€‚

::::

### äºŒå‰å †

äºŒå‰å †æ˜¯ä¸€ç§ç‰¹ä¿—çš„äºŒå‰æ ‘ï¼ŒäºŒå‰å †æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­ä¸€ç§éå¸¸è‘—åçš„æ•°æ®ç»“æ„ï¼Œç”±äºå®ƒèƒ½é«˜æ•ˆã€å¿«é€Ÿåœ°æ‰¾å‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œå¸¸è¢«åº”ç”¨äºä¼˜å…ˆé˜Ÿåˆ—ã€‚å®ƒä¹Ÿè¢«ç”¨äºè‘—åçš„å †æ’åºç®—æ³•ä¸­ã€‚

- å®ƒæ˜¯ä¸€æ£µ**å®Œå…¨äºŒå‰æ ‘**ï¼Œè¡¨ç¤ºæ ‘çš„æ¯ä¸€å±‚éƒ½æœ‰å·¦ä¾§å’Œå³ä¾§å­èŠ‚ç‚¹ï¼ˆé™¤äº†æœ€åä¸€å±‚çš„å¶èŠ‚ç‚¹ï¼‰ï¼Œå¹¶ä¸”æœ€åä¸€å±‚çš„å¶èŠ‚ç‚¹å°½å¯èƒ½éƒ½æ˜¯å·¦ä¾§å­èŠ‚ç‚¹ï¼Œè¿™å«ä½œç»“æ„ç‰¹æ€§ã€‚
- äºŒå‰å †ä¸æ˜¯**æœ€å°å † MinHeap**å°±æ˜¯**æœ€å¤§å † MaxHeap**ã€‚æœ€å°å †å…è®¸ä½ å¿«é€Ÿå¯¼å‡ºæ ‘çš„æœ€å°å€¼ï¼Œæœ€å¤§å †å…è®¸ä½ å¿«é€Ÿå¯¼å‡ºæ ‘çš„æœ€å¤§å€¼ã€‚æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½å¤§äºç­‰äºï¼ˆæœ€å¤§å †ï¼‰æˆ–å°äºç­‰äºï¼ˆæœ€å°å †ï¼‰æ¯ä¸ªå®ƒçš„å­èŠ‚ç‚¹ã€‚è¿™å«ä½œå †ç‰¹æ€§ã€‚

![](./img/algorithm/minHeap.jpeg)

### å †æ’åº

äºŒå‰æ ‘åšå‡åºæ’åºï¼Œæ€»å…±åˆ†ä¸ºä¸‰æ­¥ï¼š

1. å°†åˆå§‹äºŒå‰æ ‘è½¬åŒ–ä¸ºå¤§é¡¶å †ï¼ˆheapifyï¼‰ï¼ˆå®è´¨æ˜¯ä»ç¬¬ä¸€ä¸ªéå¶å­ç»“ç‚¹å¼€å§‹ï¼Œä»ä¸‹è‡³ä¸Šï¼Œä»å³è‡³å·¦ï¼Œå¯¹æ¯ä¸€ä¸ªéå¶å­ç»“ç‚¹åšshiftDownæ“ä½œï¼‰ï¼Œæ­¤æ—¶**æ ¹ç»“ç‚¹ä¸ºæœ€å¤§å€¼**ï¼Œå°†å…¶ä¸æœ€åä¸€ä¸ªç»“ç‚¹äº¤æ¢ã€‚
2. é™¤å¼€æœ€åä¸€ä¸ªç»“ç‚¹ï¼Œå°†å…¶ä½™èŠ‚ç‚¹ç»„æˆçš„æ–°å †è½¬åŒ–ä¸ºå¤§é¡¶å †ï¼ˆå®è´¨ä¸Šæ˜¯å¯¹æ ¹èŠ‚ç‚¹åšshiftDownæ“ä½œï¼‰ï¼Œæ­¤æ—¶æ ¹ç»“ç‚¹ä¸ºæ¬¡æœ€å¤§å€¼ï¼Œå°†å…¶ä¸æœ€åä¸€ä¸ªç»“ç‚¹äº¤æ¢ã€‚
3. é‡å¤æ­¥éª¤2ï¼Œç›´åˆ°å †ä¸­å…ƒç´ ä¸ªæ•°ä¸º1ï¼ˆæˆ–å…¶å¯¹åº”æ•°ç»„çš„é•¿åº¦ä¸º1ï¼‰ï¼Œæ’åºå®Œæˆã€‚

```js
// äº¤æ¢ä¸¤ä¸ªèŠ‚ç‚¹
function swap(A, i, j) {
  let temp = A[i];
  A[i] = A[j];
  A[j] = temp; 
}

// å°† i ç»“ç‚¹ä»¥ä¸‹çš„å †æ•´ç†ä¸ºå¤§é¡¶å †ï¼Œæ³¨æ„è¿™ä¸€æ­¥å®ç°çš„åŸºç¡€å®é™…ä¸Šæ˜¯ï¼š
// å‡è®¾ ç»“ç‚¹ i ä»¥ä¸‹çš„å­å †å·²ç»æ˜¯ä¸€ä¸ªå¤§é¡¶å †ï¼ŒshiftDownå‡½æ•°å®ç°çš„
// åŠŸèƒ½æ˜¯å®é™…ä¸Šæ˜¯ï¼šæ‰¾åˆ° ç»“ç‚¹ i åœ¨åŒ…æ‹¬ç»“ç‚¹ i çš„å †ä¸­çš„æ­£ç¡®ä½ç½®ã€‚åé¢
// å°†å†™ä¸€ä¸ª for å¾ªç¯ï¼Œä»ç¬¬ä¸€ä¸ªéå¶å­ç»“ç‚¹å¼€å§‹ï¼Œå¯¹æ¯ä¸€ä¸ªéå¶å­ç»“ç‚¹
// éƒ½æ‰§è¡Œ shiftDownæ“ä½œï¼Œæ‰€ä»¥å°±æ»¡è¶³äº†ç»“ç‚¹ i ä»¥ä¸‹çš„å­å †å·²ç»æ˜¯ä¸€å¤§
//é¡¶å †
function shiftDown(A, i, length) {
  let temp = A[i]; // å½“å‰çˆ¶èŠ‚ç‚¹
// j<length çš„ç›®çš„æ˜¯å¯¹ç»“ç‚¹ i ä»¥ä¸‹çš„ç»“ç‚¹å…¨éƒ¨åšé¡ºåºè°ƒæ•´
  for(let j = 2*i+1; j<length; j = 2*j+1) {
    temp = A[i];  // å°† A[i] å–å‡ºï¼Œæ•´ä¸ªè¿‡ç¨‹ç›¸å½“äºæ‰¾åˆ° A[i] åº”å¤„äºçš„ä½ç½®
    if(j+1 < length && A[j] < A[j+1]) { 
      j++;   // æ‰¾åˆ°ä¸¤ä¸ªå­©å­ä¸­è¾ƒå¤§çš„ä¸€ä¸ªï¼Œå†ä¸çˆ¶èŠ‚ç‚¹æ¯”è¾ƒ
    }
    if(temp < A[j]) {
      swap(A, i, j) // å¦‚æœçˆ¶èŠ‚ç‚¹å°äºå­èŠ‚ç‚¹:äº¤æ¢ï¼›å¦åˆ™è·³å‡º
      i = j;  // äº¤æ¢åï¼Œtemp çš„ä¸‹æ ‡å˜ä¸º j
    } else {
      break;
    }
  }
}

// å †æ’åº
function heapSort(A) {
  // åˆå§‹åŒ–å¤§é¡¶å †ï¼Œä»ç¬¬ä¸€ä¸ªéå¶å­ç»“ç‚¹å¼€å§‹
  for(let i = Math.floor(A.length/2-1); i>=0; i--) {
    shiftDown(A, i, A.length);
  }
  // æ’åºï¼Œæ¯ä¸€æ¬¡forå¾ªç¯æ‰¾å‡ºä¸€ä¸ªå½“å‰æœ€å¤§å€¼ï¼Œæ•°ç»„é•¿åº¦å‡ä¸€
  for(let i = Math.floor(A.length-1); i>0; i--) {
    swap(A, 0, i); // æ ¹èŠ‚ç‚¹ä¸æœ€åä¸€ä¸ªèŠ‚ç‚¹äº¤æ¢
    shiftDown(A, 0, i); // ä»æ ¹èŠ‚ç‚¹å¼€å§‹è°ƒæ•´ï¼Œå¹¶ä¸”æœ€åä¸€ä¸ªç»“ç‚¹å·²ç»ä¸ºå½“
                         // å‰æœ€å¤§å€¼ï¼Œä¸éœ€è¦å†å‚ä¸æ¯”è¾ƒï¼Œæ‰€ä»¥ç¬¬ä¸‰ä¸ªå‚æ•°
                         // ä¸º iï¼Œå³æ¯”è¾ƒåˆ°æœ€åä¸€ä¸ªç»“ç‚¹å‰ä¸€ä¸ªå³å¯
  }
}

let Arr = [4, 6, 8, 5, 9, 1, 2, 5, 3, 2];
heapSort(Arr);
alert(Arr);
```

å¤æ‚åº¦åˆ†æï¼šadjustHeap å‡½æ•°ä¸­ç›¸å½“äºå †çš„æ¯ä¸€å±‚åªéå†ä¸€ä¸ªç»“ç‚¹ï¼Œå› ä¸º
å…·æœ‰nä¸ªç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘çš„æ·±åº¦ä¸º[log2n]+1ï¼Œæ‰€ä»¥ shiftDownçš„å¤æ‚åº¦ä¸º O(logn)ï¼Œè€Œå¤–å±‚å¾ªç¯å…±æœ‰ f(n) æ¬¡ï¼Œæ‰€ä»¥æœ€ç»ˆçš„å¤æ‚åº¦ä¸º O(nlogn)ã€‚

## DFSä¸BFS

ğŸ“— æ·±åº¦ä¼˜å…ˆéå†ï¼ˆDepth First Search, ç®€ç§° DFSï¼‰ ä¸å¹¿åº¦ä¼˜å…ˆéå†ï¼ˆBreath First Searchï¼‰æ˜¯å›¾è®ºä¸­ä¸¤ç§éå¸¸é‡è¦çš„ç®—æ³•ï¼Œç”Ÿäº§ä¸Šå¹¿æ³›ç”¨äºæ‹“æ‰‘æ’åºï¼Œå¯»è·¯ï¼ˆèµ°è¿·å®«ï¼‰ï¼Œæœç´¢å¼•æ“ï¼Œçˆ¬è™«ç­‰ã€‚

### æ·±åº¦ä¼˜å…ˆéå†

æ·±åº¦ä¼˜å…ˆéå†ä¸»è¦æ€è·¯æ˜¯ä»å›¾ä¸­ä¸€ä¸ªæœªè®¿é—®çš„é¡¶ç‚¹ V å¼€å§‹ï¼Œæ²¿ç€ä¸€æ¡è·¯ä¸€ç›´èµ°åˆ°åº•ï¼Œç„¶åä»è¿™æ¡è·¯å°½å¤´çš„èŠ‚ç‚¹å›é€€åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œå†ä»å¦ä¸€æ¡è·¯å¼€å§‹èµ°åˆ°åº•...ï¼Œä¸æ–­é€’å½’é‡å¤æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°æ‰€æœ‰çš„é¡¶ç‚¹éƒ½éå†å®Œæˆã€‚

è¿™å°±æ˜¯æ ‘çš„**å‰åºéå†**,å®é™…ä¸Šä¸ç®¡æ˜¯å‰åºéå†ï¼Œè¿˜æ˜¯ä¸­åºéå†ï¼Œäº¦æˆ–æ˜¯ååºéå†ï¼Œéƒ½å±äº**æ·±åº¦ä¼˜å…ˆéå†**ã€‚

**1ã€é€’å½’å®ç°**

```javascript
preOrderTraverse(callback) {
  this.preOrderTraverseNode(this.root, callback);
}

preOrderTraverseNode(node, callback) {
  if (node ! = null) {
    callback(node.key);
    this.preOrderTraverseNode(node.left, callback);
    this.preOrderTraverseNode(node.right, callback);
  }
}
```

**2ã€éå†å®ç°**

![](./img/algorithm/DFS.png)

```java
public static void dfsWithStack(Node root) {
    if (root == null) {
        return;
    }

    Stack<Node> stack = new Stack<>();
    // å…ˆæŠŠæ ¹èŠ‚ç‚¹å‹æ ˆ
    stack.push(root);
    while (!stack.isEmpty()) {
        Node treeNode = stack.pop();
        // éå†èŠ‚ç‚¹
        process(treeNode)

        // å…ˆå‹å³èŠ‚ç‚¹
        if (treeNode.right != null) {
            stack.push(treeNode.right);
        }

        // å†å‹å·¦èŠ‚ç‚¹
        if (treeNode.left != null) {
            stack.push(treeNode.left);
        }
    }
}
```

### å¹¿åº¦ä¼˜å…ˆéå†

![](./img/algorithm/BFS.png)

```java
private static void bfs(Node root) {
    if (root == null) {
        return;
    }
    Queue<Node> stack = new LinkedList<>();
    stack.add(root);

    while (!stack.isEmpty()) {
        Node node = stack.poll();
        System.out.println("value = " + node.value);
        Node left = node.left;
        if (left != null) {
            stack.add(left);
        }
        Node right = node.right;
        if (right != null) {
            stack.add(right);
        }
    }
}
```

## åŠ¨æ€è§„åˆ’

ğŸ“— åŠ¨æ€è§„åˆ’è·Ÿå¸¦å¤‡å¿˜å½•çš„é€’å½’è§£æ³•åŸºæœ¬æ€æƒ³æ˜¯ä¸€è‡´çš„ï¼Œéƒ½æ˜¯å‡å°‘é‡å¤è®¡ç®—ï¼Œæ—¶é—´å¤æ‚åº¦ä¹Ÿéƒ½æ˜¯å·®ä¸å¤šã€‚ä½†æ˜¯å‘¢ï¼š

- å¸¦å¤‡å¿˜å½•çš„é€’å½’ï¼Œæ˜¯ä»f(10)å¾€f(1ï¼‰æ–¹å‘å»¶ä¼¸æ±‚è§£çš„ï¼Œæ‰€ä»¥ä¹Ÿç§°ä¸º**è‡ªé¡¶å‘ä¸‹**çš„è§£æ³•ã€‚
- åŠ¨æ€è§„åˆ’ä»è¾ƒå°é—®é¢˜çš„è§£ï¼Œç”±äº¤å æ€§è´¨ï¼Œé€æ­¥å†³ç­–å‡ºè¾ƒå¤§é—®é¢˜çš„è§£ï¼Œå®ƒæ˜¯ä»f(1)å¾€f(10ï¼‰æ–¹å‘ï¼Œå¾€ä¸Šæ¨æ±‚è§£ï¼Œæ‰€ä»¥ç§°ä¸º**è‡ªåº•å‘ä¸Š**çš„è§£æ³•ã€‚

åŠ¨æ€è§„åˆ’æœ‰å‡ ä¸ªå…¸å‹ç‰¹å¾ï¼Œ**æœ€ä¼˜å­ç»“æ„ã€çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€è¾¹ç•Œã€é‡å å­é—®é¢˜**ã€‚åœ¨é’è›™è·³é˜¶æˆ–æ–æ³¢é‚£å¥‘æ•°é—®é¢˜ä¸­ï¼š

- f(n-1)å’Œf(n-2) ç§°ä¸º f(n) çš„æœ€ä¼˜å­ç»“æ„
- f(n)= fï¼ˆn-1ï¼‰+fï¼ˆn-2ï¼‰å°±ç§°ä¸ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹
- f(1) = 1, f(2) = 2 å°±æ˜¯è¾¹ç•Œå•¦
- æ¯”å¦‚f(10)= f(9)+f(8),f(9) = f(8) + f(7) ,f(8)å°±æ˜¯é‡å å­é—®é¢˜ã€‚

### è®°å¿†åŒ–é€’å½’

```javascript
const cache = [0, 1]

var fib = function(n) {
    if(cache[n] != null) return cache[n]
    const result = (fib(n-1) + fib(n-2)) % 1000000007; 
    if(cache[n] == null) cache[n] = result
    return cache[n]
};
```

### åŠ¨æ€è§„åˆ’

```javascript
var fib = function(n) {
    if(n === 0) return 0; // è¾¹ç•Œ
    if(n === 1) return 1;
    let a = 1, b = 0; // æœ€ä¼˜å­ç»“æ„ f(n-1)å’Œf(n-2)
    let result = 0;
    for(let i = 2; i <= n; i++) {
        result = (a+b) % 1000000007; // çŠ¶æ€è½¬ç§»æ–¹ç¨‹ f(n)= fï¼ˆn-1ï¼‰+fï¼ˆn-2ï¼‰
        b = a;
        a = result
    }
    return result
};
```

## æ’åºå’Œæœç´¢ç®—æ³•

### å†’æ³¡æ’åº

::: tip å†’æ³¡æ’åº
* å†’æ³¡æ’åºæ˜¯æ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªé¡¹ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œåˆ™äº¤æ¢å®ƒä»¬ã€‚
* å…ƒç´ é¡¹å‘ä¸Šç§»åŠ¨è‡³æ­£ç¡®çš„é¡ºåºï¼Œå°±å¥½åƒæ°”æ³¡å‡è‡³è¡¨é¢ä¸€æ ·ï¼Œå†’æ³¡æ’åºå› æ­¤è€Œå¾—åã€‚
* å†’æ³¡æ’åºå¯èƒ½æ˜¯æ‰€æœ‰æ’åºç®—æ³•ä¸­æœ€ç®€å•çš„ï¼Œä½†ä»è¿è¡Œæ—¶é—´çš„è§’åº¦è€Œè¨€ï¼Œå†’æ³¡æ’åºæ˜¯æœ€å·®çš„ä¸€ä¸ªã€‚

::: 

```js
function toggleItem(array, index1, index2) {
    [array[index1], array[index2]] = [array[index2], array[index1]];
}
function bubbleSort(arr) {
    const { length } = arr
    for (let i = 0; i < length; i++) {
        // æ¯ä¸€æ¬¡å¤–å¾ªç¯ä¹‹åï¼Œéƒ½èƒ½ç¡®å®šä¸€ä¸ªæœ€å¤§å€¼
        for (let j = 0; j < length - 1 - i; j++) {
            // æ¯æ¬¡å†…å¾ªç¯ï¼Œé—´éš”å¯¹æ¯”æ‰¾åˆ°æœ€å¤§çš„å€¼ï¼Œæ”¾åˆ°åé¢
            // å¦‚æœå‰è€…æ¯”åè€…å¤§ï¼Œè°ƒæ¢ä½ç½®è¾¾åˆ°ä»å°åˆ°å¤§çš„æ•ˆæœ
            if (arr[j] > arr[j + 1]) toggleItem(arr, j, j + 1)
        }
    }
    return arr
}
```

### é€‰æ‹©æ’åº

::: tip é€‰æ‹©æ’åº

  * é€‰æ‹©æ’åºç®—æ³•æ˜¯ä¸€ç§åŸå€æ¯”è¾ƒæ’åºç®—æ³•ã€‚
  * é€‰æ‹©æ’åºå¤§è‡´çš„æ€è·¯æ˜¯æ‰¾åˆ°æ•°æ®ç»“æ„ä¸­çš„æœ€å°å€¼å¹¶å°†å…¶æ”¾ç½®åœ¨ç¬¬ä¸€ä½ï¼Œæ¥ç€æ‰¾åˆ°ç¬¬äºŒå°çš„å€¼å°†å…¶æ”¾åœ¨ç¬¬äºŒä½ï¼Œä»¥æ­¤ç±»æ¨ã€‚

::: 

```js
function selectSort(arr) {
    const { length } = arr
    let minIndex;
    for (let i = 0; i < length; i++) {
        minIndex = i;
        // æ¯æ¬¡å†…å¾ªç¯ï¼Œéå†å¯¹æ¯”æ‰¾åˆ°æœ€å°å€¼çš„ç´¢å¼•ï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½èƒ½ç¡®å®šä¸€ä¸ªæœ€å°å€¼
        for (let j = i + 1; j < length; j++) {
            if (arr[j] < arr[minIndex]) {
                minIndex = j
            }
        }
        // å¦‚æœæ‰¾åˆ°æ¯”å½“å‰å¼€å§‹æ•°å€¼æ›´å°çš„ç´¢å¼•ï¼Œäº¤æ¢ä½ç½®
        if (minIndex !== i) {
            toggleItem(arr, i, minIndex)
        }
    }
    return arr
}
```

### æ’å…¥æ’åº

å¦‚æœè¦å°†`[1,2,3,0]`æ•°ç»„å½“ä¸­çš„0ç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªä½ç½®ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸ªå˜é‡`temp`ä¿å­˜`arr[3]`ï¼›

ç„¶åä»å³å‘å·¦éå†å°†æ‰€æœ‰æ•°ç»„é¡¹çš„ç´¢å¼•å³ç§»ä¸€ä½ï¼Œæœ€åæŠŠ`0tempèµ‹å€¼ç»™`arr[0]`å³å¯ã€‚

```js
const arr = [1,2,3,0];
let i = arr.length - 1;
let temp = arr[i];  // 0
while(i>0) {
    arr[i] = arr[i-1];
    i--;
}
arr[0] = temp;
console.log(arr);  // [0, 1, 2, 3]
```

æ’å…¥æ’åºæ¯æ¬¡æ’ä¸€ä¸ªæ•°ç»„é¡¹ï¼Œä»¥æ­¤æ–¹å¼æ„å»ºæœ€åçš„æ’åºæ•°ç»„ã€‚

```js
function insertSort(array) {
    const {
        length
    } = array
    let temp;

    for (let i = 1; i < length; i++) {
        let j = i;
        temp = array[j];
        while (j > 0 && array[j - 1] > temp) {
            array[j] = array[j - 1]
            j--;
        }
        array[j] = temp;
    }
    return array;
}
```

**æ³¨æ„**ï¼šåœ¨æ’åºå°å‹æ•°ç»„æ—¶ï¼Œæ­¤ç®—æ³•æ¯”é€‰æ‹©æ’åºå’Œå†’æ³¡æ’åºæ€§èƒ½è¦å¥½

### å½’å¹¶æ’åº

ğŸ“— å½’å¹¶æ’åºæ˜¯ç¬¬ä¸€ä¸ªå¯ä»¥å®é™…ä½¿ç”¨çš„æ’åºç®—æ³•ï¼Œæˆ‘ä»¬ä¹‹å‰çš„ä¸‰ç§ç®—æ³•æ€§èƒ½ä¸æ˜¯ç‰¹åˆ«çš„å¥½ï¼Œä½†å½’å¹¶æ’åºæ€§èƒ½ä¸é”™ï¼Œåœ¨`JavaScript`ä¸­ï¼Œ`Array.prototype.sort()`æ–¹æ³•ï¼Œ`ECMAScript`å¹¶æ²¡æœ‰å®šä¹‰ä½¿ç”¨å“ªç§æ’åºç®—æ³•ï¼Œè€Œæ˜¯äº¤ç»™æµè§ˆå™¨å‚å•†è‡ªå·±å»å®ç°ï¼Œè€Œå¯¹äºè°·æ­Œ`V8å¼•æ“`ï¼Œå…¶ä½¿ç”¨äº†å¿«é€Ÿæ’åºçš„å˜ä½“ï¼›åœ¨`Firefox`æµè§ˆå™¨ä¸­ï¼Œåˆ™æ˜¯ä½¿ç”¨äº†å½’å¹¶æ’åºã€‚

#### å®ç°

![](./img/algorithm/mergeSort.png)

é¦–å…ˆï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªå·²ç»æ˜¯æ’åºè¿‡çš„æ•°ç»„ï¼Œå®ç°ä¸€ä¸ªå°†è¿™ä¸¤ä¸ªæ•°ç»„åˆå¹¶æˆä¸€ä¸ªçš„`merge`æ–¹æ³•:

```js
function merge(left, right) {
    let i = 0;
    let j = 0;
    // éœ€è¦ä¸€ä¸ªé¢å¤–çš„æ•°ç»„ç©ºé—´ä¿å­˜ç»“æœ
    const result = [];
    // å½“leftå’Œrightéƒ½è¿˜æœ‰æœªéå†é¡¹æ—¶
    while (i < left.length && j < right.length) {
        // æ‰¾åˆ°leftå’Œrightå½“ä¸­çš„æœ€å°ä¸€é¡¹pushåˆ°result,ç„¶åç´¢å¼•è‡ªå¢1
        result.push(left[i] > right[j] ? right[j++] : left[i++]);
    }
    // leftå¦‚æœå·²ç»éå†å®Œ, å°†rightè¿æ¥åˆ°result,åä¹‹å°†leftçš„å‰©ä½™é¡¹è¿æ¥åˆ°result
    // result.concat(i < left.length ? left.slice(i) : right.slice(j))
    return result.concat(i == left.length ? right.slice(j) : left.slice(i))
    
}

console.log(merge([1, 2], [0, 4]));  // [0, 1, 2, 4]
console.log(merge([2, 3, 5], [0, 4]));  // [0, 2, 3, 4, 5]
console.log(merge([1], [0]));  // [0, 1] 
```

å½’å¹¶æ’åºæ˜¯ä¸€ç§åˆ†è€Œæ²»ä¹‹çš„ç®—æ³•ï¼Œå…¶æ€æƒ³æ˜¯å°†åŸå§‹æ•°ç»„åˆ‡åˆ†ä¸ºè¾ƒå°çš„æ•°ç»„ï¼Œç›´åˆ°æ¯ä¸ªå°æ•°ç»„åªæœ‰ä¸€ä¸ªä½ç½®ï¼Œæ¥ç€å°†å°æ•°ç»„å½’å¹¶æˆè¾ƒå¤§çš„æ•°ç»„ï¼Œç›´åˆ°æœ€ååªæœ‰ä¸€ä¸ªæ’åºå®Œæ¯•çš„å¤§æ•°ç»„ã€‚

```js
function mergeSort(array) {
    if (array.length > 1) {
        const { length } = array
        const middle = Math.floor(length / 2)
        const left = mergeSort(array.slice(0, middle))
        const right = mergeSort(array.slice(middle, length))
        array = merge(left, right)
    }
    return array
}

const result = mergeSort([8, 7, 6, 5, 4, 3, 2, 1])
console.log(result) // [1, 2, 3, 4, 5, 6, 7, 8]
```

#### æ€»ç»“

- å½’å¹¶æ’åºæ˜¯**ç¨³å®š**æ’åºï¼Œå®ƒä¹Ÿæ˜¯ä¸€ç§ååˆ†é«˜æ•ˆçš„æ’åºï¼Œèƒ½åˆ©ç”¨å®Œå…¨äºŒå‰æ ‘ç‰¹æ€§çš„æ’åºä¸€èˆ¬æ€§èƒ½éƒ½ä¸ä¼šå¤ªå·®ã€‚ä»ä¸Šæ–‡çš„å›¾ä¸­å¯çœ‹å‡ºï¼Œæ¯æ¬¡åˆå¹¶æ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œè€Œå®Œå…¨äºŒå‰æ ‘çš„æ·±åº¦ä¸º|log2n|ã€‚æ€»çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)ã€‚è€Œä¸”ï¼Œå½’å¹¶æ’åºçš„æœ€å¥½ï¼Œæœ€åï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦å‡ä¸ºO(nlogn)ã€‚
-  å½’å¹¶çš„ç©ºé—´å¤æ‚åº¦å°±æ˜¯é‚£ä¸ªä¸´æ—¶çš„æ•°ç»„å’Œé€’å½’æ—¶å‹å…¥æ ˆçš„æ•°æ®å ç”¨çš„ç©ºé—´ï¼šn + lognï¼›æ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸º: O(n)

### å¿«é€Ÿæ’åº

ğŸ“— å¿«é€Ÿæ’åºä¹Ÿè®¸æ˜¯æœ€å¸¸ç”¨çš„æ’åºç®—æ³•äº†ã€‚å®ƒçš„å¤æ‚åº¦ä¸ºO(nlog(n))ï¼Œä¸”æ€§èƒ½é€šå¸¸æ¯”å…¶ä»–å¤æ‚åº¦ä¸ºO(nlog(n))çš„æ’åºç®—æ³•è¦å¥½ã€‚å’Œå½’å¹¶æ’åºä¸€æ ·ï¼Œå¿«é€Ÿæ’åºä¹Ÿä½¿ç”¨**åˆ†è€Œæ²»ä¹‹**çš„æ–¹æ³•ï¼Œå°†åŸå§‹æ•°ç»„åˆ†ä¸ºè¾ƒå°çš„æ•°ç»„ï¼ˆä½†å®ƒæ²¡æœ‰åƒå½’å¹¶æ’åºé‚£æ ·å°†å®ƒä»¬åˆ†å‰²å¼€ï¼‰ã€‚

::: tip å¿«é€Ÿæ’åºçš„æ€æƒ³å¾ˆç®€å•ï¼Œæ•´ä¸ªæ’åºè¿‡ç¨‹åªéœ€è¦ä¸‰æ­¥ï¼š

- åœ¨æ•°æ®é›†ä¹‹ä¸­ï¼Œé€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸º"åŸºå‡†"ï¼ˆpivotï¼‰ã€‚
- æ‰€æœ‰å°äº"åŸºå‡†"çš„å…ƒç´ ï¼Œéƒ½ç§»åˆ°"åŸºå‡†"çš„å·¦è¾¹ï¼›æ‰€æœ‰å¤§äº"åŸºå‡†"çš„å…ƒç´ ï¼Œéƒ½ç§»åˆ°"åŸºå‡†"çš„å³è¾¹ã€‚
- å¯¹"åŸºå‡†"å·¦è¾¹å’Œå³è¾¹çš„ä¸¤ä¸ªå­é›†ï¼Œä¸æ–­é‡å¤ç¬¬ä¸€æ­¥å’Œç¬¬äºŒæ­¥ï¼Œç›´åˆ°æ‰€æœ‰å­é›†åªå‰©ä¸‹ä¸€ä¸ªå…ƒç´ ä¸ºæ­¢ã€‚

::: 

#### åŸºæœ¬å®ç°

```js
function quickSort(arr) {
    if (arr.length <= 1) { return arr; }
    var pivotIndex = Math.floor(arr.length / 2);
    var pivot = arr.splice(pivotIndex, 1)[0];
    var left = [];
    var right = [];
    for (var i = 0; i < arr.length; i++){
        if (arr[i] < pivot) {
            left.push(arr[i]);
        } else {
            right.push(arr[i]);
        }
    }
    return quickSort(left).concat([pivot], quickSort(right));
};
```

#### åŒæŒ‡é’ˆ

```js
function quickSort(array, left, right) {
    let index;
    if (array.length > 1) {
        index = partition(array, left, right);
        if (left < index - 1) {
            quickSort(array, left, index - 1);
        }
        if (index < right) {
            quickSort(array, index, right);
        }
    }
    return array;
};

function partition(array, left, right) {
    const pivot = array[Math.floor((right + left) / 2)];
    let i = left;
    let j = right;

    while (i <= j) {
        while (array[i] < pivot) {
            i++;
        }
        while (array[j] > pivot) {
            j--;
        }
        if (i <= j) {
            toggleItem(array, i, j)
            i++;
            j--;
        }
    }
    return i;
}

const array = [9, 6, 7, 8, 2, 3, 5, 1]
console.table(quickSort(array, 0, array.length - 1))
```

### è®¡æ•°æ’åº

ğŸ“— è®¡æ•°æ’åºæ˜¯æˆ‘ä»¬å­¦åˆ°çš„ç¬¬ä¸€ä¸ª**åˆ†å¸ƒå¼**æ’åºï¼Œåˆ†å¸ƒå¼æ’åºä½¿ç”¨å·²ç»„ç»‡å¥½çš„è¾…åŠ©æ•°æ®ç»“æ„ï¼Œç„¶åè¿›è¡Œåˆå¹¶ï¼Œå¾—åˆ°æ’å¥½åºçš„æ•°ç»„ã€‚è®¡æ•°æ’åºä½¿ç”¨ä¸€ä¸ªç”¨æ¥å­˜å‚¨æ¯ä¸ªå…ƒç´ åœ¨åŸå§‹æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°çš„ä¸´æ—¶æ•°ç»„ï¼Œåœ¨æ‰€æœ‰å…ƒç´ éƒ½è®¡æ•°å®Œå®Œæˆåï¼Œä¸´æ—¶æ•°ç»„å·²æ’å¥½åºå¹¶å¯è¿­ä»£å·²æ„å»ºæ’åºåçš„ç»“æœæ•°ç»„ã€‚

è®¡æ•°æ’åºæ˜¯ä¸€ç§ç”¨æ¥**æ’åºæ•´æ•°**ä¼˜ç§€çš„ç®—æ³•ï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦éå¸¸ç®€å•ï¼Œä½†å…¶é¢å¤–å¼•å…¥äº†è¾…åŠ©æ•°æ®ç»“æ„ä»è€Œéœ€è¦**æ›´å¤šçš„å†…å­˜ç©ºé—´**ã€‚

```js
function countingSort(array) {
    if (array.length < 2) {
        return array
    }
    const maxValue = findMaxValue(array)
    const counts = new Array(maxValue + 1)
    array.forEach(item => {
        if (!counts[item]) {
            counts[item] = 0
        }
        counts[item]++
    })
    let sortIndex = 0
    counts.forEach((item, index) => {
        while (item > 0) {
            array[sortIndex++] = index
            item--
        }
    })
    return array
}
function findMaxValue(array) {
    let max = array[0]
    for (let index = 1; index < array.length; index++) {
        if (array[index] > max) {
            max = array[index]
        }
    }
    return max
}

const result = countingSort([5, 4, 3, 2, 1])
console.log(result) // [1, 2, 3, 4, 5]
```

### é¡ºåºæœç´¢

ğŸ“— é¡ºåºæœç´¢(çº¿æ€§æœç´¢)æ˜¯æœ€åŸºæœ¬çš„æœç´¢ç®—æ³•ï¼Œå®ƒçš„æœºåˆ¶æ˜¯ï¼Œå°†æ¯ä¸€ä¸ªæ•°æ®ç»“æ„ä¸­çš„å…ƒç´ å’Œæˆ‘ä»¬è¦æ‰¾çš„å…ƒç´ åšæ¯”è¾ƒï¼Œä¸€ç›´åˆ°æ‰¾åˆ°ä½ç½®ã€‚é¡ºåºæœç´¢æ˜¯æœ€ä½æ•ˆçš„ä¸€ç§æœç´¢ç®—æ³•ã€‚

```js
function sequentSearch (array, value) {
    let result = -1
    for(let index = 0; index < array.length; index++) {
        if (array[index] === value) {
            result = index
            return
        }
    }
}
```

![](./img/algorithm/sequentSearch.png)

### äºŒåˆ†æœç´¢

ğŸ“— äºŒåˆ†æœç´¢ç®—æ³•çš„åŸç†å’ŒçŒœæ•°å­—æ¸¸æˆç±»ä¼¼ï¼Œå‡è®¾æœ‰1-100çš„æ•°ï¼Œä¸€ä¸ªäººçŒœï¼Œå¦ä¸€ä¸ªäººåªéœ€è¦å›ç­”é«˜äº†è¿˜æ˜¯ä½äº†ï¼Œä¸€ç›´åˆ°æ‰¾åˆ°è¿™ä¸ªæ•°ä½ç½®ã€‚

äºŒåˆ†æœç´¢ç®—æ³•å¯¹æ•°æ®ç»“æ„æœ‰ä¸€å®šçš„è¦æ±‚ï¼Œå®ƒé¦–å…ˆè¦æ±‚æ•°æ®ç»“æ„å·²ç»æ˜¯**æ’å¥½åº**çš„ï¼Œå…¶æ¬¡å®ƒè¿˜è¦éµå®ˆå¦‚ä¸‹çš„è§„åˆ™ï¼š

::: tip äºŒåˆ†æœç´¢

1. é¦–å…ˆé€‰æ‹©æ•°ç»„çš„ä¸­é—´å€¼ã€‚

2. å¦‚æœé€‰ä¸­çš„å€¼æ˜¯å¾…æœç´¢çš„å€¼ï¼Œé‚£ä¹ˆåœæ­¢æœç´¢ã€‚

3. å¦‚æœå¾…æœç´¢çš„å€¼æ¯”é€‰ä¸­çš„å€¼è¦å°ï¼Œåˆ™è¿”å›æ­¥éª¤1å¹¶åœ¨é€‰ä¸­å€¼å·¦è¾¹çš„å­æ•°ç»„ä¸­æŸ¥æ‰¾ã€‚

4. å¦‚æœå¾…æœç´¢çš„å€¼æ¯”é€‰ä¸­çš„å€¼è¦å¤§ï¼Œåˆ™è¿”å›æ­¥éª¤1å¹¶åœ¨é€‰ä¸­å€¼çš„å³è¾¹çš„å­æ•°ç»„ä¸­æŸ¥æ‰¾ã€‚


::: 

```js
function binarySearch (array, value) {
    array.sort()
    let low = 0
    let high = array.length - 1
    while (low <= high) {
        const mid = Math.floor((low + high) / 2)
        const element = array[mid]
        if (value === element) {
            return true
        } else if (value < element) {
            high = mid - 1
        } else {
            low = mid + 1
        }
    }
    return false
}
console.log(binarySearch([8, 7, 6, 5, 4, 3, 2, 1], 2))  // true
```

ä»£ç åˆ†æï¼šä¸ºäº†è¿›ä¸€æ­¥ç®€å•åŒ–ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å†…ç½®çš„`Array.prototype.sort()`æ–¹æ³•æ¥è¿›è¡Œæ’åºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰å­¦åˆ°çš„ä»»ä½•æ’åºç®—æ³•æ¥æ›¿æ¢ã€‚

ä»¥ä¸‹æ˜¯äºŒåˆ†æœç´¢ç®—æ³•çš„æœç´¢ç¤ºæ„å›¾ï¼š

![](./img/algorithm/binarySearch.png)

