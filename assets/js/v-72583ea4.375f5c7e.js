"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[7699],{3327:(s,n,a)=>{a.r(n),a.d(n,{data:()=>p});const p={key:"v-72583ea4",path:"/typescript/grammar/typeTool.html",title:"ç±»å‹å·¥å…·",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"is",slug:"is",children:[]},{level:2,title:"keyof",slug:"keyof",children:[]},{level:2,title:"typeof",slug:"typeof",children:[]},{level:2,title:"in",slug:"in",children:[]},{level:2,title:"extends",slug:"extends",children:[{level:3,title:"ç±»å‹ç»§æ‰¿",slug:"ç±»å‹ç»§æ‰¿",children:[]},{level:3,title:"ç±»å‹æ¡ä»¶åˆ¤æ–­",slug:"ç±»å‹æ¡ä»¶åˆ¤æ–­",children:[]},{level:3,title:"âœ… æ ¹æ®ç´¢å¼•åç§°è¿‡æ»¤",slug:"âœ…-æ ¹æ®ç´¢å¼•åç§°è¿‡æ»¤",children:[]},{level:3,title:"âœ… æ ¹æ®å€¼ç±»å‹è¿‡æ»¤",slug:"âœ…-æ ¹æ®å€¼ç±»å‹è¿‡æ»¤",children:[]},{level:3,title:"æ³›å‹æ¡ä»¶åˆ†é…",slug:"æ³›å‹æ¡ä»¶åˆ†é…",children:[]}]},{level:2,title:"Exclude",slug:"exclude",children:[]},{level:2,title:"Extract",slug:"extract",children:[]},{level:2,title:"Pick",slug:"pick",children:[]},{level:2,title:"Omit",slug:"omit",children:[]},{level:2,title:"Partial",slug:"partial",children:[]},{level:2,title:"Record",slug:"record",children:[{level:3,title:"ç´¢å¼•ç­¾å",slug:"ç´¢å¼•ç­¾å",children:[]}]},{level:2,title:"äº¤å‰ç±»å‹",slug:"äº¤å‰ç±»å‹",children:[{level:3,title:"merge æ–¹æ³•",slug:"merge-æ–¹æ³•",children:[]},{level:3,title:"è”åˆç±»å‹",slug:"è”åˆç±»å‹",children:[]}]},{level:2,title:"infer",slug:"infer",children:[]}],filePathRelative:"typescript/grammar/typeTool.md",git:{updatedTime:1660987752e3,contributors:[{name:"Jerry Chen",email:"caffreygo@163.com",commits:4},{name:"Jinrui Chen",email:"jinrui@kooboo.cn",commits:1}]}}},4248:(s,n,a)=>{a.r(n),a.d(n,{default:()=>e});const p=(0,a(6252).uE)('<h1 id="ç±»å‹å·¥å…·" tabindex="-1"><a class="header-anchor" href="#ç±»å‹å·¥å…·" aria-hidden="true">#</a> ç±»å‹å·¥å…·</h1><div class="custom-container tip"><p class="custom-container-title">TypeScript</p><ul><li>JS ä¹Ÿæœ‰ç±»å‹ï¼Œä½†æ˜¯ç±»å‹æ•°é‡æ¯”è¾ƒå°‘ï¼ˆnumberã€string...ï¼‰</li><li>TS å¯ä»¥éšæ„è‡ªå®šä¹‰ç±»å‹ï¼Œæ¯”å¦‚è”åˆç±»å‹ã€‚TS çš„ç±»å‹æ˜¯ä¸¥æ ¼ç±»å‹ï¼Œå¯ä»¥å¯¹ç±»å‹è¿›è¡Œæ ¡éªŒ</li><li>TS æ— é™é›†åˆç±»å‹ <code>type JC = string | number</code></li><li>TS æœ‰é™é›†åˆç±»å‹ <code>type JC = &#39;hello&#39; | &#39;world&#39;</code></li></ul></div><h2 id="is" tabindex="-1"><a class="header-anchor" href="#is" aria-hidden="true">#</a> is</h2><p><code>is</code> ç”¨äºå®šä¹‰å˜é‡å±äºæŸä¸ªç±»å‹ï¼Œä¸‹é¢åˆ¤æ–­æ—¶å°†å‡ºç°ç±»å‹é”™è¯¯æç¤ºï¼š</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> isString <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">&#39;string&#39;</span>\n\n<span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isString</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token comment">//error: å¯¹è±¡çš„ç±»å‹ä¸º &quot;unknown&quot;ã€‚</span>\n        a<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">&#39;ab&#39;</span>\n\n<span class="token function">hello</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>ç°åœ¨é‡æ–°å®šä¹‰ isString å‡½æ•°ï¼Œä½¿ç”¨ is æ¥å®šä¹‰å˜é‡ä¸ºæŸä¸ªç±»å‹ã€‚</p><p><code>x is string</code> è¡¨ç¤ºå¦‚æœå‡½æ•°è¿”å›å€¼ä¸º trueï¼Œåˆ™ x ä¸º string ç±»å‹</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> isString <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> x <span class="token keyword">is</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">&#39;string&#39;</span>\n\n<span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isString</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        a<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">&#39;ab&#39;</span>\n\n<span class="token function">hello</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="keyof" tabindex="-1"><a class="header-anchor" href="#keyof" aria-hidden="true">#</a> keyof</h2><p>è·å–ç±»ã€æ¥å£ç´¢å¼•ç»„æˆçš„<strong>è”åˆç±»å‹</strong></p><blockquote><p><code>keyof</code> å¯ç”¨äºåŸºæœ¬æ•°æ®ç±»å‹ã€anyã€classã€interfaceã€enum ç­‰</p></blockquote><p>ä»»ä½•ç±»å‹éƒ½å¯ä»¥ä½¿ç”¨ <code>keyof</code></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// keyof åŸºæœ¬æ•°æ®ç±»å‹ =&gt; ç±»å‹çš„å±æ€§æ–¹æ³•</span>\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AMADA</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token builtin">string</span>\n\n<span class="token keyword">let</span> jc<span class="token operator">:</span> <span class="token constant">AMADA</span> <span class="token operator">=</span> <span class="token string">&#39;match&#39;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ç´¢å¼•ç±»å‹ä½¿ç”¨ <code>keyof</code> æ—¶ï¼Œè·å–ç´¢å¼•å</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// type AMADA = &#39;name&#39; | &#39;age&#39;</span>\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AMADA</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">let</span> jc<span class="token operator">:</span> <span class="token constant">AMADA</span> <span class="token operator">=</span> <span class="token string">&#39;name&#39;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ä¸‹é¢æ˜¯è·å–<strong>å¯¹è±¡çš„å±æ€§</strong>çš„å‡½æ•°ç±»å‹å®šä¹‰</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getAttribute</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;jerry&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span>\n<span class="token function">getAttribute</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span>\n<span class="token comment">// getAttribute(&#39;abc&#39;, &#39;includes&#39;)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨<strong>æ³›å‹</strong>å®šä¹‰ç´¢å¼•ç±»å‹</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getAttribute</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">D</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token constant">D</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">D</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;jerry&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span>\n<span class="token function">getAttribute</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="typeof" tabindex="-1"><a class="header-anchor" href="#typeof" aria-hidden="true">#</a> typeof</h2><p>ä½¿ç”¨ typeof å¯<strong>è·å–å˜é‡çš„ç±»å‹</strong>ï¼Œä¸‹é¢æ˜¯è·å–å­—ç¬¦ä¸²å˜é‡çš„ç±»å‹</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">let</span> hello <span class="token operator">=</span> <span class="token string">&#39;jerry&#39;</span>\n\n<span class="token comment">// type AMADA = string</span>\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AMADA</span></span> <span class="token operator">=</span> <span class="token keyword">typeof</span> hello\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ä¸‹é¢ä½¿ç”¨ typeof è·å–å¯¹è±¡çš„ ï¼ˆåœ¨ JS å½“ä¸­ <code>typeof {} === &#39;object&#39;</code>ï¼‰</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">let</span> hello <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;jerry&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span>\n\n<span class="token doc-comment comment">/**\n type AMADA = <span class="token punctuation">{</span>\n  name: string;\n  age: number;\n */</span>\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AMADA</span></span> <span class="token operator">=</span> <span class="token keyword">typeof</span> hello\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>keyof ä¸ typeof ç»“åˆå®šä¹‰è·å–å¯¹è±¡å±æ€§çš„å‡½æ•°</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// typeof obj =&gt; { name: string; age: number }</span>\n<span class="token comment">// keyof =&gt; &#39;name&#39; | &#39;age&#39;</span>\n<span class="token keyword">function</span> <span class="token function">getAttribute</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> object<span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key <span class="token keyword">as</span> <span class="token keyword">keyof</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> hello <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;helloworld&#39;</span> <span class="token punctuation">}</span>\n<span class="token function">getAttribute</span><span class="token punctuation">(</span>hello<span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="in" tabindex="-1"><a class="header-anchor" href="#in" aria-hidden="true">#</a> in</h2><p>in ç”¨äºéå†æ¥å£æˆ–è”åˆç±»å‹çš„å±æ€§</p><p><code>K in keyof T</code> æŒ‡ K ç±»å‹ä¸º keyof T è·å–çš„ T ç±»å‹ç´¢å¼•ç»„æˆçš„è”åˆç±»å‹</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">USER</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">MEMBER</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> hello<span class="token operator">:</span> <span class="token constant">MEMBER</span><span class="token operator">&lt;</span><span class="token constant">USER</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span> address<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n    age<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;jerry&#39;</span><span class="token punctuation">,</span> address<span class="token operator">:</span> <span class="token string">&#39;ä¸Šæµ·&#39;</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="extends" tabindex="-1"><a class="header-anchor" href="#extends" aria-hidden="true">#</a> extends</h2><p>extends åœ¨ TS ä¸­æ‹¥æœ‰å¤šä¸ªç‰¹æ€§ï¼Œä¸‹é¢æˆ‘ä»¬æ¥åˆ†åˆ«äº†è§£ã€‚</p><h3 id="ç±»å‹ç»§æ‰¿" tabindex="-1"><a class="header-anchor" href="#ç±»å‹ç»§æ‰¿" aria-hidden="true">#</a> ç±»å‹ç»§æ‰¿</h3><p>extends å®ç°ç±»å‹çš„ç»§æ‰¿</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">interface</span> <span class="token class-name">helloworld</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token punctuation">{</span>\n    age<span class="token operator">:</span> <span class="token builtin">number</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> hello<span class="token operator">:</span> helloworld <span class="token operator">=</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token number">33</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;jerry&#39;</span> <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>extends å¯ç”¨äºæ³›å‹çš„ç±»å‹é™å®šï¼Œä¸‹ä¾‹ä¸­ T å¿…é¡»åŒ…å« idã€render å±æ€§ï¼Œå³ T ç±»å‹å¯èµ‹äºˆ extends å³ä¾§ç±»å‹</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">helloworld</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token function">render</span><span class="token punctuation">(</span>n<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arr<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token function">helloworld</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">render</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> n <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="ç±»å‹æ¡ä»¶åˆ¤æ–­" tabindex="-1"><a class="header-anchor" href="#ç±»å‹æ¡ä»¶åˆ¤æ–­" aria-hidden="true">#</a> ç±»å‹æ¡ä»¶åˆ¤æ–­</h3><p>extends ç”¨äºæ¡ä»¶åˆ¤æ–­æ¥å†³å®šè¿”å›ä»€ä¹ˆç±»å‹ï¼Œ<code>A extends B ? true:false</code>ã€‚å¦‚æœ Aï¼ˆç‹­çª„ç±»å‹ï¼‰ å¯ä»¥èµ‹äºˆ Bï¼ˆå®½æ³›ç±»å‹ï¼‰ ç±»å‹åˆ™ä¸º trueã€‚</p><p>ä¸‹ä¾‹çš„ hello å˜é‡å€¼å¿…é¡»ä¸º falseï¼Œå› ä¸º AMADA ä¸åŒ…å« GOLDENJADE ç±»å‹</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AMADA</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>\n<span class="token comment">// çª„ç±»å‹çš„é™åˆ¶æ›´å¤šï¼Œæ›´ç»†ã€‚false</span>\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HEYTEA</span></span> <span class="token operator">=</span> <span class="token constant">AMADA</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span>\n\n<span class="token keyword">const</span> hello<span class="token operator">:</span> <span class="token constant">HEYTEA</span> <span class="token operator">=</span> <span class="token boolean">false</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ä¸‹é¢æ˜¯è”åˆç±»å‹çš„æ¡ä»¶åˆ¤æ–­</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token operator">=</span> <span class="token builtin">string</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AMADA</span></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>\n\n<span class="token keyword">const</span> hello<span class="token operator">:</span> <span class="token constant">AMADA</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token operator">?</span> <span class="token builtin">string</span> <span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span>  <span class="token comment">// boolean</span>\n<span class="token comment">// è”åˆç±»å‹æ¯”å•ä¸€ç±»å‹æ›´å®½æ³›ï¼Œå¯ä»¥è¢« extendss</span>\n<span class="token keyword">const</span> jc<span class="token operator">:</span> <span class="token constant">GOLDENJADE</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">AMADA</span></span> <span class="token operator">?</span> <span class="token builtin">string</span> <span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token string">&#39;jerry&#39;</span>  <span class="token comment">// string</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="âœ…-æ ¹æ®ç´¢å¼•åç§°è¿‡æ»¤" tabindex="-1"><a class="header-anchor" href="#âœ…-æ ¹æ®ç´¢å¼•åç§°è¿‡æ»¤" aria-hidden="true">#</a> âœ… æ ¹æ®ç´¢å¼•åç§°è¿‡æ»¤</h3><p>æ ¹æ®è”åˆç±»å‹è¿‡æ»¤æ‰æŒ‡å®šç´¢å¼•</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">User</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">// type K = &#39;name&#39; | &#39;age&#39; |  &#39;get&#39;</span>\n<span class="token comment">// Exclude&lt;K, &#39;name&#39;&gt; =&gt; never | &#39;age&#39; | &#39;get&#39; =&gt; &#39;age&#39; | &#39;get&#39;</span>\n<span class="token comment">// as never =&gt; neve, never ä½œä¸º key ä¼šè¢«è¿‡æ»¤æ‰</span>\n<span class="token keyword">type</span> <span class="token class-name">FilterObjectProperty<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span> <span class="token keyword">as</span> Exclude<span class="token operator">&lt;</span><span class="token constant">K</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HK</span></span> <span class="token operator">=</span> FilterObjectProperty<span class="token operator">&lt;</span>User<span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;age&#39;</span><span class="token operator">&gt;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="âœ…-æ ¹æ®å€¼ç±»å‹è¿‡æ»¤" tabindex="-1"><a class="header-anchor" href="#âœ…-æ ¹æ®å€¼ç±»å‹è¿‡æ»¤" aria-hidden="true">#</a> âœ… æ ¹æ®å€¼ç±»å‹è¿‡æ»¤</h3><p>è¿‡æ»¤æ‰æŒ‡å®šçš„ç±»å‹ï¼Œä»¥ä¸‹ä»£ç å«æœ‰ä¸‹é¢å‡ ä¸ªå«ä¹‰</p><ul><li>æ ¹æ®ç±»å‹è·å–ç´¢å¼•ç»„åˆæˆçš„è”åˆç±»å‹</li><li>æ ¹æ®æ–°çš„è”åˆç±»å‹æå–å‡ºæŒ‡å®šçš„ç´¢å¼•ï¼Œç»„åˆæˆæ–°çš„ç±»å‹</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">USER</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token function">get</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> <span class="token class-name">FilterProperty<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">U</span></span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token operator">:</span> <span class="token constant">K</span>\n<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span>\n\n<span class="token comment">// [keyof T] è·å–åˆ° key çš„è”åˆç±»å‹</span>\n<span class="token comment">// type ABC = FilterProperty&lt;USER, number&gt;;  &#39;name&#39; | &#39;get&#39;</span>\n<span class="token comment">// type UserType = { name: string }</span>\n<span class="token keyword">type</span> <span class="token class-name">UserType</span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">USER</span><span class="token punctuation">,</span> FilterProperty<span class="token operator">&lt;</span><span class="token constant">USER</span><span class="token punctuation">,</span> <span class="token builtin">Function</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">&gt;&gt;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>ğŸ’¡ <code>[keyof T] </code>è§£æï¼š</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// åœ¨ JavaScript å½“ä¸­ï¼Œlet a = { name: &#39;33&#39;}ï¼Œa[&#39;name&#39;]å¯ä»¥å–å€¼</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">UU</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">;</span> age<span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span> get<span class="token operator">:</span> <span class="token string">&#39;get&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AB</span></span> <span class="token operator">=</span> <span class="token constant">UU</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">UU</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// &#39;name&#39; | &#39;get&#39; | never =&gt; &#39;name&#39; | &#39;age&#39;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="æ³›å‹æ¡ä»¶åˆ†é…" tabindex="-1"><a class="header-anchor" href="#æ³›å‹æ¡ä»¶åˆ†é…" aria-hidden="true">#</a> æ³›å‹æ¡ä»¶åˆ†é…</h3><p>å¦‚æœæ³›å‹æ˜¯æ™®é€šç±»å‹ï¼Œåˆ™ä¸ä¸Šé¢ä¸€æ ·ä¹Ÿæ˜¯åˆ¤æ–­å·¦ä¾§ç±»å‹æ˜¯å¦å¯èµ‹äºˆå³ä¾§ç±»å‹</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token operator">=</span> <span class="token builtin">string</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HEYTEA</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token operator">?</span> <span class="token builtin">string</span> <span class="token operator">:</span> <span class="token builtin">boolean</span>\n\n<span class="token keyword">const</span> hello<span class="token operator">:</span> <span class="token constant">HEYTEA</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token string">&#39;jerry&#39;</span> <span class="token comment">//string</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å¦‚æœ extends æ˜¯æ³›å‹ç±»å‹ï¼Œå¹¶ä¸”ä¼ å…¥çš„ç±»å‹æ˜¯è”åˆç±»å‹ã€‚åˆ™<strong>åˆ†åˆ«è¿›è¡Œåˆ¤æ–­</strong>ï¼Œæœ€åå¾—åˆ°è”åˆç±»å‹ã€‚</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token operator">=</span> <span class="token builtin">string</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HEYTEA</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token operator">?</span> <span class="token builtin">string</span> <span class="token operator">:</span> <span class="token builtin">boolean</span>\n\n<span class="token keyword">const</span> hello<span class="token operator">:</span> <span class="token constant">HEYTEA</span><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token boolean">false</span>  <span class="token comment">// string | boolean</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æ¡ä»¶åˆ¤æ–­ä¹Ÿå¯ä»¥åµŒå¥—ä½¿ç”¨</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token operator">=</span> <span class="token builtin">string</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AMADA</span></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HEYTEA</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span>\n\t<span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token operator">?</span> <span class="token builtin">string</span> <span class="token operator">:</span>\n\t<span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">AMADA</span></span> <span class="token operator">?</span> <span class="token builtin">symbol</span> <span class="token operator">:</span> <span class="token builtin">boolean</span>\n\n<span class="token keyword">const</span> hello<span class="token operator">:</span> <span class="token constant">HEYTEA</span><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token string">&#39;jerry&#39;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>âœ… ä½¿ç”¨ <strong>[ ]</strong> åŒ…è£¹ç±»å‹ï¼Œè¡¨ç¤ºä½¿ç”¨æ³›å‹çš„æ•´ä½“è¿›è¡Œæ¯”è¾ƒ</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AMADA</span></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HEYTEA</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token constant">GOLDENJADE</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token builtin">string</span> <span class="token operator">:</span> <span class="token builtin">boolean</span>\n\n<span class="token keyword">const</span> hello<span class="token operator">:</span> <span class="token constant">HEYTEA</span><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token string">&#39;jerry&#39;</span>  <span class="token comment">// string</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="exclude" tabindex="-1"><a class="header-anchor" href="#exclude" aria-hidden="true">#</a> Exclude</h2><p>æˆ‘ä»¬åˆ©ç”¨ä¸Šé¢çš„æ³›å‹ç±»å‹çš„æ¡ä»¶åˆ†é…ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªç±»å‹ç”¨äºè¿›è¡Œç±»å‹çš„è¿‡æ»¤ã€‚</p><ul><li>ä» T æ³›å‹ç±»å‹ ä¸­è¿‡æ»¤æ‰ U çš„ç±»å‹</li><li><strong>never æ˜¯ä»»ä½•ç±»å‹çš„å­ç±»å‹</strong>ï¼Œå¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹ï¼Œæ²¡æœ‰ç±»å‹æ˜¯ never çš„å­ç±»å‹æˆ–å¯ä»¥èµ‹å€¼ç»™ never ç±»å‹(never æœ¬èº«é™¤å¤–)</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">EXCLUDE</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">U</span></span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token operator">:</span> <span class="token constant">T</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token operator">=</span> <span class="token builtin">string</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AMADA</span></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>\n\n<span class="token keyword">const</span> hello<span class="token operator">:</span> <span class="token constant">EXCLUDE</span><span class="token operator">&lt;</span><span class="token constant">AMADA</span><span class="token punctuation">,</span> <span class="token constant">GOLDENJADE</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>  <span class="token comment">// number</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>äº‹å®ä¸Š typescript å·²ç»æä¾›äº† Exclude å…³é”®å­—ç”¨äºå®Œæˆä¸Šé¢çš„å·¥ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦å•ç‹¬å®šä¹‰ Exclude ç±»å‹äº†ã€‚</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token operator">=</span> <span class="token builtin">string</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AMADA</span></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>\n\n<span class="token keyword">const</span> hello<span class="token operator">:</span> Exclude<span class="token operator">&lt;</span><span class="token constant">AMADA</span><span class="token punctuation">,</span> <span class="token constant">GOLDENJADE</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="extract" tabindex="-1"><a class="header-anchor" href="#extract" aria-hidden="true">#</a> Extract</h2><p>Extract ä¸ Exclude ç›¸åï¼Œç”¨äºè·å–ç›¸äº¤çš„ç±»å‹ã€‚(v. æç‚¼)</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">EXTRACT</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">U</span></span> <span class="token operator">?</span> <span class="token constant">T</span> <span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AMADA</span></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span>\n\n<span class="token keyword">const</span> hello<span class="token operator">:</span> <span class="token constant">EXTRACT</span><span class="token operator">&lt;</span><span class="token constant">AMADA</span><span class="token punctuation">,</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token string">&#39;jerry&#39;</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ä¸‹é¢æ˜¯å–ä¸¤ä¸ªç±»å‹ç›¸åŒçš„å±æ€§å</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AMADA</span></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span>\n\n<span class="token keyword">const</span> hello<span class="token operator">:</span> Extract<span class="token operator">&lt;</span><span class="token constant">AMADA</span><span class="token punctuation">,</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token string">&#39;jerry&#39;</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="pick" tabindex="-1"><a class="header-anchor" href="#pick" aria-hidden="true">#</a> Pick</h2><p>pick å¯ä»¥ç”¨äºä»å±æ€§ä¸­æŒ‘é€‰å‡ºä¸€ç»„å±æ€§ï¼Œç»„æˆæ–°çš„ç±»å‹ã€‚</p><p>ä¸‹é¢å®šä¹‰ pick ç±»å‹ç”¨äºä» AMADA ç±»å‹ä¸­æŒ‘é€‰å‡º name ä¸ age ç±»å‹ã€‚</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AMADA</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> skill<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>\n<span class="token comment">// keyof T: name | age | skill</span>\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">PICK</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">U</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// type HK = { name: string; age: number; }</span>\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HK</span></span> <span class="token operator">=</span> <span class="token constant">PICK</span><span class="token operator">&lt;</span><span class="token constant">AMADA</span><span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;age&#39;</span><span class="token operator">&gt;</span>\n<span class="token keyword">const</span> jc<span class="token operator">:</span> <span class="token constant">HK</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;jerry&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">33</span> <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>åŒæ · typescript å·²ç»åŸç”Ÿæä¾›äº† Pick ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ç”¨åƒä¸Šé¢é‚£æ ·è‡ªå·±å®šä¹‰äº†</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AMADA</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> skill<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HK</span></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">AMADA</span><span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;age&#39;</span><span class="token operator">&gt;</span>\n<span class="token keyword">const</span> jc<span class="token operator">:</span> <span class="token constant">HK</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;jerry&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">33</span> <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="omit" tabindex="-1"><a class="header-anchor" href="#omit" aria-hidden="true">#</a> Omit</h2><p>ä»ç±»å‹ä¸­<strong>è¿‡æ»¤æ‰æŒ‡å®šå±æ€§</strong>ï¼Œè¿™ä¸ Pick ç±»å‹å·¥å…·åŠŸèƒ½ç›¸å</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HK</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> city<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> <span class="token class-name">MyOmit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">U</span></span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token operator">:</span> <span class="token constant">K</span>\n<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>\n\n<span class="token comment">// { [K in keyof T]: K extends U ? never : K }</span>\n<span class="token comment">// { name: never ; age: never; city: &#39;city&#39; }</span>\n<span class="token comment">// æœ€åé€šè¿‡ [keyof T] æå–å‡ºå€¼çš„è”åˆç±»å‹ï¼šnever | never | &#39;city&#39; =&gt; &#39;city&#39;</span>\n<span class="token comment">// ç»“æœä¸ºï¼šPick&lt;HK, &#39;city&#39;&gt;</span>\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">XJ</span></span> <span class="token operator">=</span> MyOmit<span class="token operator">&lt;</span><span class="token constant">HK</span><span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;age&#39;</span><span class="token operator">&gt;</span>  <span class="token comment">// {city:string}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>å¯ä»¥å°†ä¸Šé¢ä»£ç ä½¿ç”¨ Exclude ä¼˜åŒ–</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HK</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> city<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> <span class="token class-name">MyOmit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;&gt;</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">XJ</span></span> <span class="token operator">=</span> MyOmit<span class="token operator">&lt;</span><span class="token constant">HK</span><span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;age&#39;</span><span class="token operator">&gt;</span>  <span class="token comment">// {city:string}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>typescript å·²ç»æä¾›äº†ç±»å‹å·¥å…· Omit</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HK</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> city<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">XJ</span></span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span><span class="token constant">HK</span><span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;age&#39;</span><span class="token operator">&gt;</span>  <span class="token comment">// {city:string}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="partial" tabindex="-1"><a class="header-anchor" href="#partial" aria-hidden="true">#</a> Partial</h2><p>ä¸‹é¢å®šä¹‰ Partial ç±»å‹ï¼Œç”¨äºå°†å…¨éƒ¨å±æ€§è®¾ç½®ä¸ºå¯é€‰</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">PARTIAL</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> hello<span class="token operator">:</span> <span class="token constant">PARTIAL</span><span class="token operator">&lt;</span><span class="token constant">GOLDENJADE</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;å°å¼º&#39;</span> <span class="token punctuation">}</span> <span class="token comment">// {name?:string,age?:number}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Typescript åŸç”Ÿæä¾›äº† Partial çš„æ”¯æŒï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ç”¨è‡ªå·±å®šä¹‰äº†</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">GOLDENJADE</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> hello<span class="token operator">:</span> Partial<span class="token operator">&lt;</span><span class="token constant">GOLDENJADE</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;å°å¼º&#39;</span> <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="record" tabindex="-1"><a class="header-anchor" href="#record" aria-hidden="true">#</a> Record</h2><p>âœ… Record å¸¸ç”¨äº<strong>å¿«é€Ÿå®šä¹‰å¯¹è±¡ç±»å‹</strong>ä½¿ç”¨</p><p>ä¸‹é¢æˆ‘ä»¬æ¥æ‰‹åŠ¨å®ç°ä¸€ä¸ª Recordï¼ŒRECORD ç±»å‹çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç´¢å¼•ï¼Œç¬¬äºŒä¸ªä¸ºç±»å‹</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">RECORD</span><span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token punctuation">,</span> <span class="token constant">V</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">V</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// type HK = { name: string | number; age: string | number }</span>\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HK</span></span> <span class="token operator">=</span> <span class="token constant">RECORD</span><span class="token operator">&lt;</span><span class="token string">&#39;name&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;age&#39;</span><span class="token punctuation">,</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">&gt;</span>\n\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">MN</span></span> <span class="token operator">=</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">&gt;</span>\n\n<span class="token keyword">const</span> jc<span class="token operator">:</span> <span class="token constant">HK</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;jerry&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>typescript åŸç”Ÿå·²ç»æä¾›äº† Record ç±»å‹ï¼Œä¸‹é¢å®šä¹‰ MEMBER ç±»å‹ï¼Œç´¢å¼•ä¸ºå­—ç¬¦ä¸²ï¼Œå€¼ä¸ºä»»ä½•ç±»å‹</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HK</span></span> <span class="token operator">=</span> Record<span class="token operator">&lt;</span><span class="token string">&#39;name&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;age&#39;</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">&gt;</span>\n\n<span class="token keyword">const</span> jc<span class="token operator">:</span> <span class="token constant">HK</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;jerry&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="ç´¢å¼•ç­¾å" tabindex="-1"><a class="header-anchor" href="#ç´¢å¼•ç­¾å" aria-hidden="true">#</a> ç´¢å¼•ç­¾å</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HELLO</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span>x<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token builtin">string</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">Jc</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  city<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">let</span> jc <span class="token operator">=</span> <span class="token constant">HELLO</span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  nameJc<span class="token operator">:</span> <span class="token string">&#39;Jerry&#39;</span><span class="token punctuation">,</span>\n  city<span class="token operator">:</span> <span class="token string">&#39;XIAMEN&#39;</span><span class="token punctuation">,</span>\n  age<span class="token operator">:</span> <span class="token number">25</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// type ABC = string | number | symbol</span>\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">ABC</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token builtin">any</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="äº¤å‰ç±»å‹" tabindex="-1"><a class="header-anchor" href="#äº¤å‰ç±»å‹" aria-hidden="true">#</a> äº¤å‰ç±»å‹</h2><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>\n<span class="token keyword">let</span> c<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">&amp;</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;Jerry&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">25</span> <span class="token punctuation">}</span>\n\n<span class="token comment">// ç±»å‹ä¸ä¸€è‡´æ— æ³•äº¤å‰ï¼Œç»“æœå°±æ˜¯æ²¡æœ‰ç±»å‹ï¼šnever</span>\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">JC</span></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">&amp;</span> <span class="token builtin">number</span>  <span class="token comment">// never</span>\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">JC</span></span> <span class="token operator">=</span> <span class="token string">&#39;a&#39;</span> <span class="token operator">&amp;</span> <span class="token string">&#39;b&#39;</span>  <span class="token comment">// never</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ç±»å‹ä¸ä¸€è‡´æŠ¥é”™ï¼š</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">}</span>\n\n<span class="token comment">// type AB = A &amp; B</span>\n<span class="token comment">// name æŠ¥é”™ï¼Œä¸èƒ½å°†ç±»å‹â€œstringâ€åˆ†é…ç»™ç±»å‹â€œneverâ€</span>\n<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AB</span></span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token operator">&amp;</span> Pick<span class="token operator">&lt;</span><span class="token constant">B</span><span class="token punctuation">,</span> <span class="token string">&#39;age&#39;</span><span class="token operator">&gt;</span>\n<span class="token keyword">let</span> hi<span class="token operator">:</span> <span class="token constant">AB</span> <span class="token operator">=</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;Jerry&#39;</span><span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>äº¤å‰ç±»å‹çš„å®é™…åº”ç”¨ï¼šï¼ˆç±»å‹æ‹“å±•ï¼‰</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">User</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>\n<span class="token keyword">type</span> <span class="token class-name">Member</span> <span class="token operator">=</span> <span class="token punctuation">{</span> avatar<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">}</span> <span class="token operator">&amp;</span> User\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="merge-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#merge-æ–¹æ³•" aria-hidden="true">#</a> merge æ–¹æ³•</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">merge</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">&amp;</span> <span class="token constant">U</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">&amp;</span> <span class="token constant">U</span> <span class="token punctuation">{</span>\n  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// a[key as Extract&lt;keyof U, &#39;string&#39;&gt;] = b[key] as any</span>\n    a<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token builtin">any</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> a\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="è”åˆç±»å‹" tabindex="-1"><a class="header-anchor" href="#è”åˆç±»å‹" aria-hidden="true">#</a> è”åˆç±»å‹</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>tyoe <span class="token constant">HK</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span> <span class="token comment">// a | never =&gt; a</span>\n\n<span class="token comment">// &#39;b&#39;æ˜¯å•ä¸ªå­—ç¬¦ä¸²ç±»å‹ï¼Œæ˜¯å­—ç¬¦ä¸²çš„å­ç±»ï¼Œ &#39;b&#39; &amp; string =&gt; &#39;b&#39;</span>\ntyoe <span class="token constant">HK</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token comment">// a | b</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="infer" tabindex="-1"><a class="header-anchor" href="#infer" aria-hidden="true">#</a> infer</h2><div class="custom-container tip"><p class="custom-container-title">infer</p><ul><li>infer åªèƒ½åœ¨ extends ä¸­ä½¿ç”¨</li><li>infer çš„ç±»å‹å˜é‡ï¼Œ<strong>åªèƒ½åœ¨ extends æ¡ä»¶çš„ true ä¸­ä½¿ç”¨</strong> ğŸš¨</li></ul></div><p>ä¸‹é¢ä½¿ç”¨ infer <strong>æ¨æ–­</strong>å±æ€§å€¼ç±»å‹</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HK</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>\n\n<span class="token comment">// type AttrType&lt;T&gt; = T extends { name: infer M, age: infer N } ? [M, N] : T</span>\n<span class="token keyword">type</span> <span class="token class-name">AttrType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">M</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">M</span> <span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token constant">M</span> <span class="token operator">:</span> <span class="token constant">T</span>\n\n<span class="token keyword">type</span> <span class="token class-name">valueType</span> <span class="token operator">=</span> AttrType<span class="token operator">&lt;</span><span class="token constant">HK</span><span class="token operator">&gt;</span>  <span class="token comment">// string | number</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ä¸‹é¢ä½¿ç”¨ infer è·å–å€¼ç±»å‹</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">USER</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token function">get</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> <span class="token class-name">GetType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  \t<span class="token comment">// infer ä¼šåŠ¨æ€æ”¹å˜ï¼šstring -&gt; number -&gt; ((a: string) =&gt; void)</span>\n    <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token keyword">infer</span> <span class="token constant">U</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token constant">U</span> <span class="token operator">:</span> <span class="token constant">K</span>\n<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span>\n\n<span class="token comment">// æœ€åé€šè¿‡ [keyof T] è·å–åˆ°å€¼è”åˆç±»å‹ï¼šstring | number | ((a: string) =&gt; void)</span>\n<span class="token keyword">type</span> <span class="token class-name">valueType</span> <span class="token operator">=</span> GetType<span class="token operator">&lt;</span><span class="token constant">USER</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ä¸‹é¢æ˜¯è·å–<strong>å‡½æ•°è¿”å›å€¼</strong>ç±»å‹</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">HK</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>n<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span>\n\n<span class="token keyword">type</span> <span class="token class-name">GetFunctionReturnValue<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token keyword">infer</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token constant">U</span> <span class="token operator">:</span> <span class="token constant">T</span>\n\n<span class="token comment">// number</span>\n<span class="token keyword">type</span> <span class="token class-name">valueType</span> <span class="token operator">=</span> GetFunctionReturnValue<span class="token operator">&lt;</span><span class="token constant">HK</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>\n\n<span class="token comment">// number[]</span>\n<span class="token comment">// type GetFunctionReturnValue&lt;T&gt; = T extends ((...args: any) =&gt; (infer U)) ? U : T</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div>',116),e={render:function(s,n){return p}}}}]);