# Vuejsçš„è®¾è®¡ä¸å®ç°

## æƒè¡¡çš„è‰ºæœ¯

### å‘½ä»¤å¼ä¸å£°æ˜å¼

è§†å›¾å±‚æ¡†æ¶çš„èŒƒå¼é€šå¸¸åˆ†ä¸º**å‘½ä»¤å¼**ä¸**å£°æ˜å¼**

- å‘½ä»¤å¼ï¼šå…³æ³¨è¿‡ç¨‹ï¼Œæ¯”å¦‚åŸç”Ÿjsçš„ DOM æ“ä½œã€jQueryï¼ŒæŒ‰æ­¥æ“ä½œ

  ```js
  const div = document.querySelector("#app"); // è·å–div
  div.innerText = 'hello world';  // è®¾ç½®æ–‡æœ¬å†…å®¹
  dic.addEventListener('click', () => alert('ok'));  // ç»‘å®šç‚¹å‡»äº‹ä»¶
  ```

- å£°æ˜å¼ï¼šå…³æ³¨ç»“æœï¼Œæ¯”å¦‚Vuejsï¼Œç”¨æˆ·éœ€è¦çš„æœ€ç»ˆè§†å›¾ç»“æœ

  ```html
  <div @click="() => alert('ok')">hello world</div>
  ```

ğŸ”¥ Vue.jså¸®åŠ©æˆ‘ä»¬å°è£…äº†è¿‡ç¨‹ï¼Œå®ƒçš„å†…éƒ¨å®ç°ä¸€å®šæ˜¯å‘½ä»¤å¼çš„ï¼Œä½†æ˜¯æš´éœ²ç»™ç”¨æˆ·çš„å´æ›´åŠ å£°æ˜å¼

### æ€§èƒ½ä¸å¯ç»´æŠ¤æ€§çš„æƒè¡¡

::: tip å£°æ˜å¼ä»£ç çš„æ€§èƒ½ä¸ä¼˜äºå‘½ä»¤å¼ä»£ç çš„æ€§èƒ½

- å‘½ä»¤å¼ä»£ç çš„æ›´æ–°æ€§èƒ½æ¶ˆè€—ï¼šA
- å£°æ˜å¼ä»£ç çš„æ›´æ–°æ€§èƒ½æ¶ˆè€—ï¼šA + B

A: ç›´æ¥ä¿®æ”¹çš„æ€§èƒ½æ¶ˆè€—ï¼›B: æ‰¾å‡ºå·®å¼‚çš„æ€§èƒ½æ¶ˆè€—

:::

ğŸ”¥ è™½ç„¶å£°æ˜å¼ä»£ç çš„æ€§èƒ½æ— æ³•è¶…è¶Šå‘½ä»¤å¼ä»£ç ï¼Œä½†æ˜¯å£°æ˜å¼ä»£ç å…·æœ‰æ›´å¥½çš„å¯ç»´æŠ¤æ€§ï¼Œæ— éœ€ç”¨æˆ·å‚ä¸æ•´ä¸ªè¿‡ç¨‹çš„ï¼Œåªéœ€è¦å…³å¿ƒç»“æœçš„è§†å›¾ã€‚å› æ­¤ï¼Œåœ¨ä¿æŒå¯ç»´æŠ¤æ€§çš„åŒæ—¶è®©æ€§èƒ½æŸå¤±æœ€å°åŒ–ã€‚

### è™šæ‹ŸDOMçš„æ€§èƒ½

ğŸ”– å£°æ˜å¼ä»£ç çš„å…³é”®åœ¨äºï¼Œå¦‚æœæˆ‘ä»¬èƒ½**æœ€å°åŒ–**æ‰¾å‡ºå·®å¼‚çš„æ€§èƒ½æ¶ˆè€—ï¼Œå°±å¯ä»¥è®©å£°æ˜å¼ä»£ç çš„æ€§èƒ½æ— é™æ¥è¿‘äºå‘½ä»¤å¼ä»£ç ã€‚è™½ç„¶è¿™å¾ˆéš¾ï¼Œä½†æ˜¯è¿™ä¹Ÿæ­£æ˜¯è™šæ‹Ÿ DOM æƒ³è¦è§£å†³çš„é—®é¢˜ã€‚

---

innerHTMLäºè™šæ‹ŸDOMåœ¨**åˆ›å»ºé¡µé¢**æ—¶çš„æ€§èƒ½ï¼š

|                  | è™šæ‹ŸDOM         | innerHTML       |
| ---------------- | --------------- | --------------- |
| çº¯JavaScriptè¿ç®— | åˆ›å»ºVNode       | æ¸²æŸ“HTMLå­—ç¬¦ä¸²  |
| DOMè¿ç®—          | æ–°å»ºæ‰€æœ‰DOMå…ƒç´  | æ–°å»ºæ‰€æœ‰DOMå…ƒç´  |

ğŸ“Œ æ–°å»ºé¡µé¢æ—¶ï¼ŒinnerHTMLå’Œè™šæ‹ŸDOMæ€§èƒ½å·®è·ä¸å¤§ï¼Œéƒ½æ˜¯åœ¨æ–°å»ºDOM

---

innerHTMLäºè™šæ‹ŸDOMåœ¨**æ›´æ–°é¡µé¢**æ—¶çš„æ€§èƒ½ï¼š

|                  | è™šæ‹ŸDOM          | innerHTML                     |
| ---------------- | ---------------- | ----------------------------- |
| çº¯JavaScriptè¿ç®— | åˆ›å»ºVNode + Diff | æ¸²æŸ“HTMLå­—ç¬¦ä¸²                |
| DOMè¿ç®—          | å¿…è¦çš„DOMæ›´æ–°    | é”€æ¯æ‰€æœ‰æ—§DOM + åˆ›å»ºæ‰€æœ‰æ–°DOM |
| æ€§èƒ½å› ç´          | ä¸æ•°æ®å˜åŒ–é‡æœ‰å…³ | ä¸æ¨¡æ¿å¤§å°æœ‰å…³                |

ğŸ“Œ è™šæ‹Ÿ DOM åªæ›´æ–°å¿…è¦çš„ DOMï¼Œå’Œé¡µé¢å¤§å°æ— å…³ï¼›innerHTML æ€§èƒ½å·®çš„åŸå› ï¼šåœ¨æ›´æ–°é¡µé¢æ—¶ï¼Œéœ€è¦é”€æ¯æ‰€æœ‰æ—§ DOMï¼Œé‡æ–°åˆ›å»ºæ–° DOMï¼Œé¡µé¢è¶Šå¤§ï¼Œæ€§èƒ½è¶Šå·®

---

| innerHTML    | è™šæ‹Ÿ DOM   | åŸç”Ÿ       |
| ------------ | ---------- | ---------- |
| æ€§èƒ½å·®       | æ€§èƒ½ä¸é”™   | æ€§èƒ½é«˜     |
|              | å¯ç»´æŠ¤æ€§å¼º | å¯ç»´æŠ¤æ€§å·® |
| å¿ƒæ™ºè´Ÿæ‹…ä¸­ç­‰ | å¿ƒæ™ºè´Ÿæ‹…å° | å¿ƒæ™ºè´Ÿæ‹…å¤§ |

### è¿è¡Œæ—¶å’Œç¼–è¯‘æ—¶

#### è¿è¡Œæ—¶

ä»£ç ç›´æ¥å¯ä»¥è¿è¡Œï¼Œæ²¡æœ‰ç¼–è¯‘çš„è¿‡ç¨‹ã€‚ç¼ºç‚¹æ˜¯ä¸èƒ½åˆ†ææä¾›çš„ä»£ç å†…å®¹ï¼Œè¿›è¡Œå¯¹åº”çš„æ€§èƒ½ä¼˜åŒ–æ“ä½œ

```js
function Render(obj, root) {
    const el = document.createElement(obj.tag)
    if(typeof obj.children === 'string') {
        const text = document.createTextNode(obj.children)
        el.appendChild(text)
    }else if(obj.children) {
        obj.children.forEach(child=> Render(child, el))
    }
    root.appendChild(el)
}

const obj = {
    tag: 'div',
    children: [
        { tag: 'span', children: 'hello world' }
    ]
}

Render(obj, document.body)
```

#### ç¼–è¯‘æ—¶

å°†ä»£ç è¿›è¡Œåˆ†æè½¬æ¢ä¸ºå¯æ‰§è¡Œçš„ä»£ç ï¼Œå¯ä»¥åˆ†æç”¨æˆ·å†…å®¹ã€‚ç¼ºç‚¹æ˜¯çµæ´»æ€§è¾ƒå·®ï¼Œå¿…é¡»ç¼–è¯‘åä½¿ç”¨

```html
<div>
    <span>hello world</span>
</div>
```

å¦‚æœæ˜¯è¿è¡Œæ—¶+ç¼–è¯‘æ—¶ï¼Œcompilerå°†ä»£ç ç¼–è¯‘æˆï¼š

```js
const obj = {
    tag: 'div',
    children: [
        { tag: 'span', children: 'hello world' }
    ]
}
// compiler + render
```

å½“ç„¶ï¼Œä¹Ÿå¯ä»¥å®ç°ä¸ºçº¯ç¼–è¯‘æ—¶ï¼Œcompilerç›´æ¥ç¼–è¯‘ä¸ºï¼š

```js
const div = document.createElement('div')
const span = document.createElement('span')
span.innerText = "hello world"
div.appendChild(span)
```

ğŸ”¥ Vue.js æ˜¯è¿è¡Œæ—¶ + ç¼–è¯‘æ—¶æ¶æ„ï¼Œä¿è¯çµæ´»æ€§çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡åˆ†æï¼Œå°½å¯èƒ½æå‡æ€§èƒ½

